<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Categoria: Rails 3 | Nome do Jogo]]></title>
  <link href="http://nomedojogo.com/categories/rails-3/atom.xml" rel="self"/>
  <link href="http://nomedojogo.com/"/>
  <updated>2012-04-19T02:39:57-03:00</updated>
  <id>http://nomedojogo.com/</id>
  <author>
    <name><![CDATA[Carlos Brando]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
    <entry>
      




<title type="html"><![CDATA[Os Bastidores do Rails 3]]></title>
<link href="http://nomedojogo.com/2010/09/29/os-bastidores-do-rails-3/"/>
<updated>2010-09-29T00:00:00-03:00</updated>
<id>http://nomedojogo.com/2010/09/29/os-bastidores-do-rails-3</id>

      <content type="html"><![CDATA[<p><img class="center" src="http://old.nomedojogo.com/wp-content/uploads/2010/09/why.jpg" title="A proposta do GrokPodcast é explicar e não somente noticiar" ></p>

<p>Faz exatamente um mês que o Rails 3 foi liberado na sua versão final. É o trabalho de mais de 1600 programadores em um período de quase dois anos.</p>

<p>Nessa versão tivemos uma grande alteração no sistema de queries do Active Record, a forma como costumavámos declarar rotas foi alterada, o Bundler foi adicionado ao projeto, um novo Action Mailer e muito código reescrito. Enquanto muitos recursos antigos foram melhorados, também dezenas de novas funcionalidades foram adicionadas. Certamente você já deve ter lido sobre essas novidades em outros sites e blogs.</p>

<p>Mas o que é levado em consideração pelo core team ao decidir se deve acrescentar ou não um novo recurso ao framework? O que é discutido nas reuniões desse time de elite?</p>

<p>O Grok Podcast inicia hoje uma nova série sobre os bastidores do Rails 3, com a participação especial de <a href="http://twitter.com/#!/josevalim">José Valim</a>, membro do core team do Ruby on Rails.</p>

<p>Você encontrará o primeiro episódio da série no <a href="http://grokpodcast.com/">site do programa</a>. Também estão disponíveis os dois primeiros episódios onde contamos a história da empresa Paypal.</p>

<p>Se você usa o iTunes é fácil adicionar o podcast na sua lista de programas, basta <a href="http://itunes.apple.com/us/podcast/grok-podcast/id393122038">clicar aqui</a>. Você também pode usa o <a href="http://grokpodcast.com/feed/">RSS</a> do site ou seguir o Grok Podcast no <a href="http://twitter.com/#!/grokpodcast">Twitter</a>.</p>

<p>Essa série sobre os bastidores do Rails 3 está sendo patrocinada pelos nossos amigos da <a href="http://www.egenialsas.com.br/">e-Genial</a> e da <a href="http://plataformatec.com.br/">Plataforma Tecnologia</a>.</p>

<p>Gostou do podcast? Então ajude a divulgá-lo. Fale dele para os seus amigos, comente no twitter, coloque um link no seu blog...</p>

<p><a rel="bookmark" href="http://nomedojogo.com/2010/09/29/os-bastidores-do-rails-3/"></a></p>

]]></content>
    </entry>
  
    <entry>
      




<title type="html"><![CDATA[Adicionando a documentação do Rails 3 ao dicionário do Mac OS X]]></title>
<link href="http://nomedojogo.com/2010/09/07/adicionando-a-documentacao-do-rails-3-ao-dicionario-do-mac-os-x/"/>
<updated>2010-09-07T00:00:00-03:00</updated>
<id>http://nomedojogo.com/2010/09/07/adicionando-a-documentacao-do-rails-3-ao-dicionario-do-mac-os-x</id>

      <content type="html"><![CDATA[<p style="text-align: center;"><img class="aligncenter size-full wp-image-3464" src="http://old.nomedojogo.com/wp-content/uploads/2010/09/Screen-shot-2010-09-07-at-1.44.43-AM.png" alt="Uma pesquisa no Dictionary.app" width="675" height="434" /></p>


<p><a href="http://www.priithaamer.com/blog/rails-3-dictionary-update">Priit Haamer</a> liberou recentemente a documentação atualizada do Rails 3 para o aplicativo Dictionary.app do Mac OS X.</p>

<p>Para instalar é fácil, basta <a href="http://f.priithaamer.com/dictionary/Ruby%20on%20Rails%203.0.dictionary.zip">baixar o dicionário</a>, decompactá-lo e copiar o arquivo para o diretório <code>~/Library/Dictionaries</code>.</p>

<p><a rel="bookmark" href="http://nomedojogo.com/2010/09/07/adicionando-a-documentacao-do-rails-3-ao-dicionario-do-mac-os-x/"></a></p>

]]></content>
    </entry>
  
    <entry>
      




<title type="html"><![CDATA[Uploading Files]]></title>
<link href="http://nomedojogo.com/2010/08/22/uploading-files/"/>
<updated>2010-08-22T00:00:00-03:00</updated>
<id>http://nomedojogo.com/2010/08/22/uploading-files</id>

      <content type="html"><![CDATA[<p>A common task is uploading some sort of file, whether it's a picture of a person or a CSV file containing data to process. The most important thing to remember with file uploads is that the form's encoding <strong>MUST</strong> be set to "multipart/form-data". If you're using <code>form_for</code> just using <code>file_field</code> inside of it does the trick, but if you're using <code>form_tag</code> <code>:multi_part =&gt; true</code> must passed as an HTML option, in the second options hash. If you forget to do this the file will not be uploaded.</p>

<p><a rel="bookmark" href="http://nomedojogo.com/2010/08/22/uploading-files/"></a></p>

]]></content>
    </entry>
  
    <entry>
      




<title type="html"><![CDATA[Rails 3: Uma nova forma de criar mensagens flash]]></title>
<link href="http://nomedojogo.com/2009/12/18/rails-3-uma-nova-forma-de-criar-mensagens-flash/"/>
<updated>2009-12-18T00:00:00-02:00</updated>
<id>http://nomedojogo.com/2009/12/18/rails-3-uma-nova-forma-de-criar-mensagens-flash</id>

      <content type="html"><![CDATA[<p>Como a maioria deve saber, um dos grandes diferenciais do Rails vem de uma característica que também é marcante em seu criador. Ruby on Rails é um software de opinião. Atualmente DHH não é mais tão ativo no desenvolvimento do Ruby on Rails quanto no passado. Porém de tempos em tempos ele aparece com algumas inclusões polêmicas no framework.</p>

<p>Seu último patch é referente a inclusão das opções <code>:alert</code>, <code>:notice</code> e <code>:flash</code> no método <code>redirect_to</code>. Assim, se antes fazíamos desta maneira:</p>

<p>``` ruby</p>

<pre><code>flash[:notice] = 'Post was created'
redirect_to(@post)
</code></pre>

<p>```</p>

<p>Agora podemos fazer assim:</p>

<p>``` ruby</p>

<pre><code>redirect_to(@post, :notice =&gt; 'Post was created')
</code></pre>

<p>```</p>

<p>Esse sem dúvida é um recurso interessante e nos ajudará a diminuir a quantidade de linhas de código que escrevemos. Porém alguns desenvolvedores não gostaram desta implementação argumentando que não costumam utilizar <code>flash[:alert]</code> como sinalizador de problemas, mas sim <code>flash[:error]</code>.</p>

<p>A resposta de DHH? "Nós estamos utilizando <code>alert</code> para tudo na 37signals. Isto realmente não importa. Só que exista um sinalizador para continuar e outro para parar".</p>

<p>Aceitando ou não esta explicação é importante lembrar do fato de que desde o principio foram estas "convenções" que tornaram o Rails o que ele é hoje. Sendo assim, a melhor coisa a fazer é passar a adotar o padrão definido.</p>

<p>Outros exemplos extraídos da documentação:</p>

<p>``` ruby</p>

<pre><code>redirect_to post_url(@post), :alert =&gt; "Watch it, mister!"

redirect_to post_url(@post), :status=&gt; :found,
  :notice =&gt; "Pay attention to the road"

redirect_to post_url(@post), :status =&gt; 301,
  :flash =&gt; { :updated_post_id =&gt; @post.id }

redirect_to { :action=&gt;'atom' }, :alert =&gt; "Something serious happened"
</code></pre>

<p>```</p>

<h3>[Atualização 18/12/2009 18:20]</h3>


<p>Uma informação importante é que existe uma boa chance deste novo recurso entrar em algum futuro release do Rails ainda na versão 2.3.x.</p>

<p>Além disso, também esqueci de mencionar que foram criados métodos mais convenientes para facilitar o acesso ao <code>flash[:notice]</code> e <code>flash[:alert]</code>. Podemos acessar estes recursos simplesmente assim:</p>

<p>``` html</p>

<pre><code>&lt;p class="notice"&gt;&lt;%= notice %&gt;&lt;/p&gt;

&lt;p class="alert"&gt;&lt;%= alert %&gt;&lt;/p&gt;
</code></pre>

<p>```<p><a rel="bookmark" href="http://nomedojogo.com/2009/12/18/rails-3-uma-nova-forma-de-criar-mensagens-flash/"></a></p></p>
]]></content>
    </entry>
  
    <entry>
      




<title type="html"><![CDATA[Rails 3: Uma nova DSL para a configuração de rotas]]></title>
<link href="http://nomedojogo.com/2009/12/14/rails-3-uma-nova-dsl-para-a-configuracao-de-rotas/"/>
<updated>2009-12-14T00:00:00-02:00</updated>
<id>http://nomedojogo.com/2009/12/14/rails-3-uma-nova-dsl-para-a-configuracao-de-rotas</id>

      <content type="html"><![CDATA[<p>Muitas novidades estão sendo preparadas para a próxima versão do Rails. Uma que já estamos observando a alguns dias é a nova DSL para a configuração de rotas.</p>

<p>O Rails 3 ainda está em desenvolvimento, isto significa que o código da DSL pode sofrer alterações até o lançamento oficial. De qualquer forma você pode ir matando a curiosidade analisando o novo arquivo <code>config/routes.rb</code> que está sendo gerado pelo <code>Rails 3.0.pre</code> neste momento. Eu tomei a liberdade de traduzir os comentários para facilitar o entendimento.</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><figcaption><span>routes.rb </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
</pre></td><td class='code'><pre><code class='rb'><span class='line'><span class="no">ActionController</span><span class="o">::</span><span class="no">Routing</span><span class="o">::</span><span class="no">Routes</span><span class="o">.</span><span class="n">draw</span> <span class="k">do</span> <span class="o">|</span><span class="n">map</span><span class="o">|</span>
</span><span class='line'>  <span class="c1"># A prioridade é baseada na ordem da criação:</span>
</span><span class='line'>  <span class="c1"># criado primeiro -&gt; maior prioridade.&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nb">p</span><span class="o">&gt;</span>  <span class="c1"># Exemplo de uma rota comum:</span>
</span><span class='line'>  <span class="n">match</span> <span class="s1">&#39;products/:id&#39;</span><span class="p">,</span> <span class="ss">:to</span> <span class="o">=&gt;</span> <span class="s1">&#39;catalog#view&#39;</span>
</span><span class='line'>  <span class="c1"># Tenha em mente que você pode atribuir outros valores</span>
</span><span class='line'>  <span class="c1"># além de :controller e :action&lt;/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nb">p</span><span class="o">&gt;</span>  <span class="c1"># Exemplo de uma rota nomeada:</span>
</span><span class='line'>  <span class="n">match</span> <span class="s1">&#39;products/:id/purchase&#39;</span><span class="p">,</span><span class="o">&lt;</span><span class="sr">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;pre&gt;&lt;code&gt;:to =&amp;gt; &#39;catalog#purchase&#39;, :as =&amp;gt; :purchase</span>
</span><span class='line'><span class="sr">&lt;/</span><span class="n">code</span><span class="o">&gt;&lt;</span><span class="sr">/pre&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;p&gt;  # Esta rota pode ser invocada utilizando</span>
</span><span class='line'><span class="sr">  # purchase_url(:id =&gt; product.id)&lt;/</span><span class="nb">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nb">p</span><span class="o">&gt;</span>  <span class="c1"># Exemplo utilizando resources (mapeia verbos HTTP</span>
</span><span class='line'>  <span class="c1"># para ações do controller automaticamente)</span>
</span><span class='line'>  <span class="n">resources</span> <span class="ss">:products</span><span class="o">&lt;</span><span class="sr">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;p&gt;  # Exemplo utilizando resources com opções:</span>
</span><span class='line'><span class="sr">  resources :products do&lt;/</span><span class="nb">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="n">member</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">get</span> <span class="ss">:short</span>
</span><span class='line'>  <span class="n">post</span> <span class="ss">:toggle</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'>
</span><span class='line'><span class="n">collection</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">get</span> <span class="ss">:sold</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'><span class="o">&lt;</span><span class="sr">/code&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nb">p</span><span class="o">&gt;</span>  <span class="k">end</span><span class="o">&lt;</span><span class="sr">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;p&gt;  # Exemplo utilizando resource com sub-resources:</span>
</span><span class='line'><span class="sr">  resources :products do&lt;/</span><span class="nb">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="n">resources</span> <span class="ss">:comments</span><span class="p">,</span> <span class="ss">:sales</span>
</span><span class='line'><span class="n">resource</span> <span class="ss">:seller</span>
</span><span class='line'><span class="o">&lt;</span><span class="sr">/code&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nb">p</span><span class="o">&gt;</span>  <span class="k">end</span><span class="o">&lt;</span><span class="sr">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;p&gt;  # Exemplo mais complexo de uso de resources com</span>
</span><span class='line'><span class="sr">  # sub-resources:</span>
</span><span class='line'><span class="sr">  resources :products do&lt;/</span><span class="nb">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="n">resources</span> <span class="ss">:comments</span>
</span><span class='line'><span class="n">resources</span> <span class="ss">:sales</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">get</span> <span class="ss">:recent</span><span class="p">,</span> <span class="ss">:on</span> <span class="o">=&amp;</span><span class="n">gt</span><span class="p">;</span> <span class="ss">:collection</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'><span class="o">&lt;</span><span class="sr">/code&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nb">p</span><span class="o">&gt;</span>  <span class="k">end</span><span class="o">&lt;</span><span class="sr">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;p&gt;  # Exeplo utilizando resource com um namespace:</span>
</span><span class='line'><span class="sr">  namespace :admin do&lt;/</span><span class="nb">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">code</span><span class="o">&gt;</span><span class="c1"># Direciona /admin/products/* para </span>
</span><span class='line'><span class="c1"># Admin::ProductsController</span>
</span><span class='line'><span class="c1"># (app/controllers/admin/products_controller.rb)</span>
</span><span class='line'><span class="n">resources</span> <span class="ss">:products</span>
</span><span class='line'><span class="o">&lt;</span><span class="sr">/code&gt;&lt;/</span><span class="n">pre</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nb">p</span><span class="o">&gt;</span>  <span class="k">end</span><span class="o">&lt;</span><span class="sr">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;p&gt;  # Você pode definir a home do seu site utilizando</span>
</span><span class='line'><span class="sr">  # &quot;root&quot;.</span>
</span><span class='line'><span class="sr">  # Lembre-se de apagar o arquivo public/in</span><span class="n">dex</span><span class="o">.</span><span class="n">html</span><span class="o">.</span>
</span><span class='line'>  <span class="n">root</span> <span class="ss">:to</span> <span class="o">=&gt;</span> <span class="s2">&quot;welcome&quot;</span><span class="o">&lt;</span><span class="sr">/p&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="sr">&lt;p&gt;  # Você pode listar todas as rotas disponíveis com</span>
</span><span class='line'><span class="sr">  # &quot;rake routes&quot;&lt;/</span><span class="nb">p</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="o">&lt;</span><span class="nb">p</span><span class="o">&gt;</span>  <span class="c1"># Deixe a rota padrão com a prioridade mais baixa</span>
</span><span class='line'>  <span class="c1"># possível.</span>
</span><span class='line'>  <span class="c1"># Nota: A rota padrão torna todas as actions em</span>
</span><span class='line'>  <span class="c1"># qualquer controller acessíveis via solicitações GET.</span>
</span><span class='line'>  <span class="c1"># Você deve considerar a remoção ou comentar esta</span>
</span><span class='line'>  <span class="c1"># linha se estiver usando rotas nomeadas e recursos.</span>
</span><span class='line'>  <span class="n">match</span> <span class="s1">&#39;:controller(/:action(/:id(.:format)))&#39;</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<h4>[ATUALIZAÇÃO 21/12/2009 3:00]</h4>

<p>A DSL sofreu uma leve alteração que simplifica ainda mais a especificação de rotas.</p>

<p>``` ruby</p>

<pre><code># As duas linhas a seguir fazem a mesma coisa
match 'products/:id', :to =&gt; 'catalog#view'
match 'products/:id' =&gt; 'catalog#view'
</code></pre>

<p>```<p><a rel="bookmark" href="http://nomedojogo.com/2009/12/14/rails-3-uma-nova-dsl-para-a-configuracao-de-rotas/"></a></p></p>
]]></content>
    </entry>
  
</feed>

