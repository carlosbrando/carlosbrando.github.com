
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Nome do Jogo</title>
  <meta name="author" content="Carlos Brando">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  

  <link rel="canonical" href="http://carlosbrando.github.com/blog/page/7/index.html"/>
  <link href="/favicon.png" rel="shortcut icon" />
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="http://s3.amazonaws.com/ender-js/jeesh.min.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="http://feeds2.feedburner.com/NomeDoJogo" rel="alternate" title="Nome do Jogo" type="application/atom+xml"/>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-1249636-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


  
  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>


  
  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>

</head>

<body  >
  <header><hgroup>
  <h1><a href="/">Nome do Jogo</a></h1>
  
    <h2>por Carlos Brando</h2>
  
</hgroup>

</header>
  <nav role=navigation><ul role=subscription data-subscription="rss">
  <li><a href="http://feeds2.feedburner.com/NomeDoJogo" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="http://google.com/search" method="get">
  <fieldset role="site-search">
    <input type="hidden" name="q" value="site:carlosbrando.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul role=main-navigation>
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">



  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2009/08/17/isto-e-um-bug-no-javascript/">Isto é Um Bug No Javascript?</a></h1>
    
    
      <p class="meta">




<time datetime="2009-08-17 00:00:00 -0300" pubdate  updated >Aug 17<span>th</span>, 2009</time>


</p>
    
  </header>


  <div class="entry-content">[caption id=&#8221;attachment_2715&#8221; align=&#8221;aligncenter&#8221; width=&#8221;500&#8221; caption=&#8221;Foto de Dustin Diaz&#8221;]<img class="size-full wp-image-2715" title="2279116910_4d699d91cb" src="http://www.nomedojogo.com/wp-content/uploads/2009/08/2279116910_4d699d91cb.jpg" alt="2279116910_4d699d91cb" width="500" height="336" />[/caption]
<p style="text-align: center;"></p>

Javascript é uma linguagem controversa. Muitos programadores adoram trabalhar com ela, mas com certeza o número de programadores que a odeiam é maior ainda. Não importa se você está no primeiro ou no segundo grupo, se você é um desenvolvedor web simplesmente não pode evitá-la.

Eu particularmente sempre estou em cima do muro quando o assunto é Javascript, já passei por momentos bem agradaveis criando coisas com esta linguagem, mas também já me irritei com algumas caracteristicas ruins da sua implementação em muitas outras ocasiões.

O fato é que para se dar bem com Javascript é importante conhecer um pouco mais da linguagem do que o usual. Mas a maioria dos programadores só estão interessados em conhecer o suficiente da linguagem para realizar pequenas tarefas e criar alguns scripts simples (Ctrl+C e Ctrl+V). Assim, quando alguma coisa imprevista acontece na execução do código, logo jogamos a culpa no pobre Javascript.

Em uma dessas madrugadas em claro, eu comecei a enumerar alguns trechos de código que parecem bugs, mas não são. Segue uma explicação sobre cada um deles e algumas dicas para evitar resultados inesperados. E antes que atirem pedras em mim, os subtítulos não devem ser levados a sério.
<h2>Javascript não sabe somar</h2>
<pre class="textmate-source"><span class="source source_js source_js_jquery"><span class="keyword keyword_operator keyword_operator_js">&gt;&gt;&gt;</span> <span class="constant constant_numeric constant_numeric_js">0.1</span> <span class="keyword keyword_operator keyword_operator_js">+</span> <span class="constant constant_numeric constant_numeric_js">0.2</span>
<span class="constant constant_numeric constant_numeric_js">0.30000000000000004</span>
</span></pre>
Números em Javascript são representados internamente com 64 bits e cada número pode ter no máximo 17 dígitos significativos. Isto tem algumas consequências interessantes como demonstrado no exemplo acima. É preciso ser bem cuidadoso com certos cálculos, principalmente quando a precisão é algo muito importante para o aplicativo.
<h2>Javascript não sabe somar - parte 2</h2>
<pre class="textmate-source"><span class="source source_js"><span class="keyword keyword_operator keyword_operator_js">&gt;&gt;</span> <span class="string string_quoted string_quoted_double string_quoted_double_js"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_js">"</span>3<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_js">"</span></span> <span class="keyword keyword_operator keyword_operator_js">+</span> <span class="constant constant_numeric constant_numeric_js">4</span> <span class="keyword keyword_operator keyword_operator_js">+</span> <span class="constant constant_numeric constant_numeric_js">5</span>
<span class="keyword keyword_operator keyword_operator_js">=&gt;</span> <span class="constant constant_numeric constant_numeric_js">345</span>

<span class="keyword keyword_operator keyword_operator_js">&gt;&gt;</span> <span class="constant constant_numeric constant_numeric_js">3</span> <span class="keyword keyword_operator keyword_operator_js">+</span> <span class="constant constant_numeric constant_numeric_js">4</span> <span class="keyword keyword_operator keyword_operator_js">+</span> <span class="string string_quoted string_quoted_double string_quoted_double_js"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_js">"</span>5<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_js">"</span></span>
<span class="keyword keyword_operator keyword_operator_js">=&gt;</span> <span class="constant constant_numeric constant_numeric_js">75</span></span></pre>
No Javascript, o operador de soma (<code>+</code>) é usado tanto para somar valores numéricos como também para concatenar strings. Precisamos estar atentos a seguinte regra: durante uma operação de soma, quando um dos valores é do tipo string, então tudo é convertido para este mesmo tipo e uma concatenação é realizada.

No primeiro exemplo, como iniciamos a soma com um string, todos os valores seguintes são imediatamente convertidos para este mesmo formato e depois são concatenados. Já no segundo exemplo, temos inicialmente uma soma numéria (<code>3 + 4 = 7</code>) que é realizada normalmente, mas como a próxima soma a ser realizada não será com outro valor número, mas sim com o string <code>"5"</code>, então o Javascript realiza a conversão do primeiro resultado e em seguida realiza uma concatenação com os valores, devolvendo no final o string <code>"75"</code>.
<h2>Javascript não sabe converter string para números</h2>
<pre class="textmate-source"><span class="source source_js source_js_jquery"><span class="keyword keyword_operator keyword_operator_js">&gt;&gt;&gt;</span> <span class="support support_function support_function_js">parseInt</span><span class="meta meta_brace meta_brace_round meta_brace_round_js">(</span><span class="string string_quoted string_quoted_double string_quoted_double_js"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_js">"</span>010<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_js">"</span></span><span class="meta meta_brace meta_brace_round meta_brace_round_js">)</span>
<span class="constant constant_numeric constant_numeric_js">8</span>

<span class="keyword keyword_operator keyword_operator_js">&gt;&gt;&gt;</span> <span class="support support_function support_function_js">parseInt</span><span class="meta meta_brace meta_brace_round meta_brace_round_js">(</span><span class="string string_quoted string_quoted_double string_quoted_double_js"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_js">"</span>010<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_js">"</span></span><span class="meta meta_delimiter meta_delimiter_object meta_delimiter_object_comma meta_delimiter_object_comma_js">, </span><span class="constant constant_numeric constant_numeric_js">10</span><span class="meta meta_brace meta_brace_round meta_brace_round_js">)</span>
<span class="constant constant_numeric constant_numeric_js">10</span>
</span></pre>
O método <code>parseInt</code> é muito utilizado e tem por objetivo converter strings em números inteiros. Basicamente o método aceita dois parâmetros: o primeiro é um string contendo o valor a ser convertido e o segundo é um inteiro que representa a base (decimal, binário, hexadecimal, etc.) na qual o string em questão está sendo representado.

O problema aqui é que alguns livros e sites costumam explicar que o valor padrão da base (para quando ele não é informado) é 10, o que não é necessariamente uma verdade. Quando não informamos a base (radix) ou a definimos com o valor 0, então o método utiliza a seguinte regra:
<ul>
	<li>Se o string que estamos convertendo iniciar com <code>"0x"</code>, então o método assumirá a conversão com a base 16 (hexadecimal).</li>
	<li>Se o string começar com <code>"0"</code> (como no primeiro exemplo) a base utilizada será 8 (octal).</li>
	<li>Se o string iniciar com qualquer outro valor numérico, então a base padrão será 10 (decimal).</li>
	<li>E se o primeiro caractere do string não puder ser convertido para um número, então <code>parseInt</code> retornará <code>NaN.</code> (&#8220;not a number&#8221;).</li>
</ul>
Desta forma, a regra é sempre informar a base na qual a conversão deve ser realizada, exatamente como foi feito no segundo exemplo.
<h2>Javascript não sabe fazer comparações</h2>
<pre class="textmate-source"><span class="source source_js source_js_jquery"><span class="keyword keyword_operator keyword_operator_js">&gt;&gt;</span> <span class="constant constant_numeric constant_numeric_js">1</span> <span class="keyword keyword_operator keyword_operator_js">==</span> <span class="constant constant_language constant_language_boolean constant_language_boolean_true constant_language_boolean_true_js">true</span>
<span class="keyword keyword_operator keyword_operator_js">=&gt;</span> <span class="constant constant_language constant_language_boolean constant_language_boolean_true constant_language_boolean_true_js">true</span>
</span></pre>
Podemos realizar comparações em Javascript com os símbolos <code>&lt;, &gt;, &lt;= e &gt;=</code>. Eles funcionam tanto para numerais como para strings. Mas quando o assunto é a comparações de igualdade, precisamos prestar atenção a alguns fatores.

O operador de igualdade duplo realiza uma coerção de tipos caso você esteja comparando dois valores de tipos diferentes, como acontece no exemplo acima. Embora aparentemente este seja um resultado normal, em outros casos podemos ter resultados inesperados, como na seguinte comparação:
<pre class="textmate-source"><span class="source source_js source_js_jquery"><span class="keyword keyword_operator keyword_operator_js">&gt;&gt;</span> <span class="constant constant_language constant_language_null constant_language_null_js">null</span> <span class="keyword keyword_operator keyword_operator_js">==</span> <span class="constant constant_language constant_language_boolean constant_language_boolean_false constant_language_boolean_false_js">false</span>
<span class="keyword keyword_operator keyword_operator_js">=&gt;</span> <span class="constant constant_language constant_language_boolean constant_language_boolean_false constant_language_boolean_false_js">false</span></span></pre>
A linguagem também conta com um operador de igualdade tripo, que ignora a coerção de tipos:
<pre class="textmate-source"><span class="source source_js source_js_jquery"><span class="keyword keyword_operator keyword_operator_js">&gt;&gt;</span> <span class="constant constant_numeric constant_numeric_js">1</span> <span class="keyword keyword_operator keyword_operator_js">===</span> <span class="constant constant_language constant_language_boolean constant_language_boolean_true constant_language_boolean_true_js">true</span>
<span class="keyword keyword_operator keyword_operator_js">=&gt;</span> <span class="constant constant_language constant_language_boolean constant_language_boolean_false constant_language_boolean_false_js">false</span></span></pre>
Eu particularmente tenho como regra sempre utilizar o operador triplo ao realizar comparações de valores, isto tem me ajudado a evitar alguns erros de interpretação ao analisar o código e eventuais bugs decorrentes desta característica da linguagem.
<h2>Javascript também não sabe contar</h2>
<pre class="textmate-source"><span class="source source_js source_js_jquery"><span class="keyword keyword_operator keyword_operator_js">&gt;&gt;</span> <span class="storage storage_type storage_type_js">var</span> a <span class="keyword keyword_operator keyword_operator_js">=</span> <span class="meta meta_brace meta_brace_square meta_brace_square_js">[</span><span class="string string_quoted string_quoted_double string_quoted_double_js"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_js">"</span>dog<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_js">"</span></span><span class="meta meta_delimiter meta_delimiter_object meta_delimiter_object_comma meta_delimiter_object_comma_js">, </span><span class="string string_quoted string_quoted_double string_quoted_double_js"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_js">"</span>cat<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_js">"</span></span><span class="meta meta_delimiter meta_delimiter_object meta_delimiter_object_comma meta_delimiter_object_comma_js">, </span><span class="string string_quoted string_quoted_double string_quoted_double_js"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_js">"</span>hen<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_js">"</span></span><span class="meta meta_brace meta_brace_square meta_brace_square_js">]</span><span class="punctuation punctuation_terminator punctuation_terminator_statement punctuation_terminator_statement_js">;</span>
<span class="keyword keyword_operator keyword_operator_js">&gt;&gt;</span> a<span class="meta meta_brace meta_brace_square meta_brace_square_js">[</span><span class="constant constant_numeric constant_numeric_js">100</span><span class="meta meta_brace meta_brace_square meta_brace_square_js">]</span> <span class="keyword keyword_operator keyword_operator_js">=</span> <span class="string string_quoted string_quoted_double string_quoted_double_js"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_js">"</span>fox<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_js">"</span></span><span class="punctuation punctuation_terminator punctuation_terminator_statement punctuation_terminator_statement_js">;</span>
<span class="keyword keyword_operator keyword_operator_js">&gt;&gt;</span> a<span class="support support_function support_function_js support_function_js_jquery">.length</span>
<span class="keyword keyword_operator keyword_operator_js">=&gt;</span> <span class="constant constant_numeric constant_numeric_js">101</span></span></pre>
A propriedade <code>length</code> de objetos do tipo array em Javascript sempre retornará um número acima da maior posição do array e não necessariamente a quantidade de itens no objeto, conforme você pôde ver no exemplo acima.

Se você tentar recuperar o valor em uma posição não existente no array ele devolverá <code>undefined</code>.
<h2>Eu amo Javascript</h2>
Javascript possui muitas características realmente boas, e da mesma forma também possui algumas implementações realmente ruins (pretendo falar sobre isto em outro artigo). Por isto é importante gastar um pouco mais de tempo estudando mais a fundo o comportamento da linguagem. Depois de entender como algumas coisas realmente funcionam, descobrimos que nem tudo é bug.

Estas são apenas algumas poucas curiosidades que consegui coletar em alguns minutos brincando com a linguagem, você conhece mais alguma?
</div>
  <footer>
    <a rel="full-article" href="/2009/08/17/isto-e-um-bug-no-javascript/">Read on &rarr;</a>
  </footer>


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2009/08/12/uma-grande-festa-rails-oxente/">Uma Grande Festa Rails! Oxente!</a></h1>
    
    
      <p class="meta">




<time datetime="2009-08-12 00:00:00 -0300" pubdate  updated >Aug 12<span>th</span>, 2009</time>


</p>
    
  </header>


  <div class="entry-content">[caption id=&#8221;attachment_2696&#8221; align=&#8221;aligncenter&#8221; width=&#8221;576&#8221; caption=&#8221;Bate-papo com os palestrantes&#8221;]<img class="size-full wp-image-2696 " title="IMG_2707" src="http://www.nomedojogo.com/wp-content/uploads/2009/08/IMG_2707.JPG" alt="IMG_2707" width="576" height="384" />[/caption]
<p style="text-align: center;"></p>

Chegamos em Natal na quinta-feira depois de uma longa viagem de 7 horas com escala em Brasília e logo de cara fomos recepcionados por um senhor muito simpático chamado Aroldo, que foi nosso motorista durante todo o período do evento. No caminho para o hotel passamos em frente a um bar/restaurante e pelo carro já consegui avistar Fábio Akita, Marcos Tapajós, Silvestre Mergulhão e mais algumas pessoas (que eu acredito ser o Rafael Souza e o Henrique Bastos, embora eu não tenha conseguido ver direito) em uma mesa. E na maior euforia Tapajós vem até o carro dizer que estão indo para um passeio de buggy pelas dunas.

Este foi o ritmo que guiou o Oxente Rails. Ótimas palestras, a maior interação entre palestrantes e participantes que eu já presenciei e muita (muita mesmo) festa. E tudo isto com a linda cidade de Natal servindo como pano de fundo.

Tudo o que precisava ser dito sobre as palestras e sobre o evento já foi dito por meus amigos <a href="http://tapajos.me/2009/8/10/oxente-rails">Tapajós</a> e <a href="http://akitaonrails.com/2009/08/11/oxente-rails-its-a-wrap">Akita</a> e aqueles que não assistiram ao evento pela transmissão ao vivo poderão fazer isto assim que os vídeos forem disponibilizados gratuitamente na web. Mas o evento não foi marcante somente pelo bom nível das palestras, mas sim pela animação dos participantes e principalmente pelas horas extras!

Tive o privilégio de permanecer por mais dois dias e meio em Natal depois do evento e conhecer um pouco mais da cidade. Quero agradecer ao <a href="http://twitter.com/fagiani">Paulo Fagiani</a> que recebeu a mim e a minha esposa como se fossemos membros de sua família e a Karen que nos serviu de guia em todos os passeios que fizemos pela cidade.

O próximo evento agora será o <a href="http://railsforkids.com/">Rails for Kids</a> que acontecerá no dia 12 de setembro, 100%  online. Também vou estar participando com uma palestra sobre minha experiencia com o OpenSocial + Ruby.

E nos dias 13 e 14 de outubro teremos o tão esperado <a href="http://www.railssummit.com.br/">Rails Summit Latin America 2009</a>!

P.S.: Em breve publicarei algumas fotos e vídeos do evento e da cidade de Natal no meu twitter: <a href="http://twitter.com/carlosbrando">@carlosbrando</a>.
</div>
  <footer>
    <a rel="full-article" href="/2009/08/12/uma-grande-festa-rails-oxente/">Read on &rarr;</a>
  </footer>


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2009/07/27/nao-tenho-tempo-para-conquistar-meus-sonhos/">Não Tenho Tempo Para Conquistar Meus Sonhos</a></h1>
    
    
      <p class="meta">




<time datetime="2009-07-27 00:00:00 -0300" pubdate  updated >Jul 27<span>th</span>, 2009</time>


</p>
    
  </header>


  <div class="entry-content">[caption id=&#8221;attachment_2681&#8221; align=&#8221;aligncenter&#8221; width=&#8221;500&#8221; caption=&#8221;Foto de Wes Peck&#8221;]<img class="size-full wp-image-2681" title="3554039151_8a041c0949" src="http://www.nomedojogo.com/wp-content/uploads/2009/07/3554039151_8a041c0949.jpg" alt="3554039151_8a041c0949" width="500" height="333" />[/caption]
<p style="text-align: center;"></p>

Você já sonhou com a abertura de sua própria empresa, a criação de um produto para a internet ou simplesmente ensaiou criar um blog sobre programação ou qualquer outro assunto de seu interesse? Se a resposta para essas perguntas, ou para uma similar a essas, for afirmativa, espero que você já tenha iniciado algum plano para atingir a sua meta. Caso contrário, por que ainda não começou a trabalhar para conquistar o seu sonho?

Infelizmente a maioria das pessoas padece sempre do mesmo mal, a falta de tempo. Se você também é uma dessas pessoas que além de trabalhar, precisa dedicar tempo a sua família, cuidar da sua saúde e cumprir com um número sem fim de responsabilidades, e por isto nunca consegue tempo para correr atrás do seu sonho, eu sou obrigado a lhe dizer: <strong>Você é um preguiçoso</strong> (e eu não estou falando <a href="http://akitaonrails.com/2009/07/23/tradu--o-o-que-faz-um-bom-programador">deste tipo bom de preguiçoso</a>).

Sempre há tempo suficiente. O problema é que a maior parte das pessoas gasta todo o seu tempo livre em atividades que não são tão importantes e o que sobra não é o suficiente para correr atrás do seu sonho.

Todas as grandes pessoas que eu conheço, também estão sobrecarregadas com as mesmas responsabilidades familiares, profissionais e outras atividades importantes que consomem muito do nosso tempo. A diferença entre os que apenas sonham e os que realizam seus sonhos pode ser resumida em apenas uma única palavra, <strong>equilíbrio</strong>. Simplesmente não existe uma pessoa no mundo que esteja totalmente livre de obrigações. Desta forma, ouvir a expressão &#8220;não tenho tempo para me tornar grande&#8221; sempre soará como uma bela desculpa para a preguiça.

Não possuir muito tempo para começar é natural, mas isto não significa que você nunca tem um tempo livre para começar. As pessoas em geral usam a falta de tempo como uma desculpa para não se sentirem tão mal por nunca terem realizado nada grandioso.

Este tipo de desculpa é ainda mais deprimente quando vem daqueles que ainda estão estudando. &#8220;Eu preciso estudar tanto&#8230; Tenho tantas aulas&#8230; Tantos trabalhos para entregar&#8230;&#8221;. Se você está tão atolado com seus estudos que não há tempo de aprender nada fora da escola, então definitivamente alguma coisa está errada.

Certa vez uma pessoa muito inteligente disse: nunca deixe sua escola interferir com a sua educação. Mais uma vez, equilíbrio é muito importante.

Veja o caso do criador do Rails, David Heinemeier Hansson. Ele comentou certa vez em uma entrevista que durante seu período na escola ele recebeu muitas notas B e C, e que ele se sentia muito orgulhoso destas notas já que elas vinham com quase ou nenhum tempo gasto estudando. Enquanto isso ele usou a maior parte do seu tempo livre estudando coisas de seu interesse por conta própria e iniciando seus projetos pessoais e a criação da sua própria empresa.

E ele conseguiu. Mesmo estudando, ele criou o <a href="http://www.instiki.org/show/HomePage">Instiki</a>, o <a href="http://www.rubyonrails.pro.br/">Ruby on Rails</a> e o <a href="http://www.basecamphq.com/">Basecamp</a> e ainda se tornou sócio da <a href="http://www.37signals.com/">37signals</a>. Você acha que ele conseguiria tudo isso se suas maiores preocupações fossem tirar notas A na escola e jogar videogame? Com certeza, não.

Se você realmente deseja conquistar algo, então você conseguirá tempo para isto, independente de quais são as suas outras obrigações. Não deixe seus sonhos para depois.

Mas se eu posso ser realmente honesto com você, eu prefiro que você continue apenas se desculpando com a falta de tempo e que nunca inicie nada, isto é melhor para mim&#8230; menos concorrência.
</div>
  <footer>
    <a rel="full-article" href="/2009/07/27/nao-tenho-tempo-para-conquistar-meus-sonhos/">Read on &rarr;</a>
  </footer>


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2009/07/20/o-novo-sistema-de-interpolacao-do-ruby-1-9/">O Novo Sistema De Interpolação De Strings Do Ruby 1.9</a></h1>
    
    
      <p class="meta">




<time datetime="2009-07-20 00:00:00 -0300" pubdate  updated >Jul 20<span>th</span>, 2009</time>


</p>
    
  </header>


  <div class="entry-content">Embora o Ruby 1.9 já tenha sido liberado há algum tempo, infelizmente ele ainda é inacessível para muitos de nós, já que muitos projetos foram iniciados em versões mais antigas do Rails, quando ele ainda era incompatível com esta nova versão do Ruby. E mesmo aqueles que estão utilizando as versões mais recentes do Rails, também precisam tomar certos cuidados já que nem todos os plugins e gems já foram preparados e testados para serem executados nesta versão do Ruby.

Já faz um tempo que o core team do Rails vêm aceitando patches que implementam certos recursos presentes apenas no Ruby 1.9, permitindo que mesmo projetos rodando sob as versões 1.8.x também possam se beneficiar destas novas funcionalidades. Uma dessas novidades que recentemente foi incluída na versão de desenvolvimento do Rails (Edge Rails) e que estará presente no próximo release, foi o novo sistema de interpolação de Strings do Ruby 1.9.

Atualmente utilizamos muito o conhecido <code>#{}</code> para realizar esta atividade, como demonstrado no exemplo abaixo.

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails">firstname  <span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span> <span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>Carlos<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span>
familyname <span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span> <span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>Brando<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span>

puts <span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span><span class="source source_ruby source_ruby_embedded source_ruby_embedded_source"><span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">#{</span>firstname<span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">}</span></span> <span class="source source_ruby source_ruby_embedded source_ruby_embedded_source"><span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">#{</span>familyname<span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">}</span></span><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span>
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> =&gt; "Carlos Brando"</span></span></pre>

No Ruby 1.9, além da forma exibida acima, também podemos utilizar <code>%{}</code> para informar os valores a serem interpolados através de um objeto do tipo Hash. Seguindo a seguinte sintaxe:

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails">person <span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span> <span class="punctuation punctuation_section punctuation_section_scope punctuation_section_scope_ruby">{</span><span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>firstname</span> <span class="punctuation punctuation_separator punctuation_separator_key-value">=&gt;</span> <span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>Carlos<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span><span class="punctuation punctuation_separator punctuation_separator_object punctuation_separator_object_ruby">,</span> <span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>familyname</span> <span class="punctuation punctuation_separator punctuation_separator_key-value">=&gt;</span> <span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>Brando<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span><span class="punctuation punctuation_section punctuation_section_scope punctuation_section_scope_ruby">}</span>

puts <span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>%{firstname} %{familyname}<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span> <span class="keyword keyword_operator keyword_operator_arithmetic keyword_operator_arithmetic_ruby">%</span> person
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> =&gt; "Carlos Brando"</span></span></pre>

Se você gosta de viver no limite e utiliza a versão de desenvolvimento do Rails em seus projetos, então já pode começar a utilizar este novo recurso, mesmo que ainda nem tenha o Ruby 1.9 instalado em seu computador. Mas, se você é um pouco mais conservador e não gosta de arriscar (o que pode evitar alguns problemas com bugs), você tem duas opções: esperar pelo Rails 2.3.3 (ou quem sabe o 3.0, não sei qual será o próximo) ou implantar você mesmo esta funcionalidade no seu projeto Rails atual.

Se você optou pela segunda opção, basta criar um arquivo qualquer no diretório <code>lib</code> do seu projeto e incluir o seguinte código nele:

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails"><span class="keyword keyword_control keyword_control_ruby">if</span> <span class="variable variable_other variable_other_constant variable_other_constant_ruby">RUBY_VERSION</span> <span class="keyword keyword_operator keyword_operator_comparison keyword_operator_comparison_ruby">&lt;</span> <span class="string string_quoted string_quoted_single string_quoted_single_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">'</span>1.9<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">'</span></span>

<span class="comment comment_block comment_block_documentation comment_block_documentation_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">=begin</span>
  string.rb - Extension for String.

  Copyright (C) 2005-2009 Masao Mutoh

  You may redistribute it and/or modify it under the same
  license terms as Ruby.
<span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">=end</span></span>

<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> This feature is included in Ruby 1.9 or later but not occur TypeError.
</span><span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span>
</span><span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> String#% method which accepts named arguments. Particularly useful if the
</span><span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> string is to be used by a translator because named arguments mean more
</span><span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> than %s/%d style.
</span><span class="meta meta_class meta_class_ruby"><span class="keyword keyword_control keyword_control_class keyword_control_class_ruby">class</span> <span class="entity entity_name entity_name_type entity_name_type_class entity_name_type_class_ruby">String</span></span>

  <span class="keyword keyword_control keyword_control_ruby">unless</span> instance_methods<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>find <span class="punctuation punctuation_section punctuation_section_scope punctuation_section_scope_ruby">{</span><span class="punctuation punctuation_separator punctuation_separator_variable punctuation_separator_variable_ruby">|</span><span class="variable variable_other variable_other_block variable_other_block_ruby">m</span><span class="punctuation punctuation_separator punctuation_separator_variable punctuation_separator_variable_ruby">|</span> m<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>to_s <span class="keyword keyword_operator keyword_operator_comparison keyword_operator_comparison_ruby">==</span> <span class="string string_quoted string_quoted_single string_quoted_single_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">'</span>bytesize<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">'</span></span><span class="punctuation punctuation_section punctuation_section_scope punctuation_section_scope_ruby">}</span>
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby">    <span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> For older ruby (such as ruby-1.8.5)
</span>    <span class="keyword keyword_control keyword_control_pseudo-method keyword_control_pseudo-method_ruby">alias</span> <span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>bytesize</span> <span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>size</span>
  <span class="keyword keyword_control keyword_control_ruby">end</span>

  <span class="keyword keyword_control keyword_control_pseudo-method keyword_control_pseudo-method_ruby">alias</span> <span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>_old_format_m</span> <span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>%</span> <span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> :nodoc:
</span>
  <span class="variable variable_other variable_other_constant variable_other_constant_ruby">PERCENT_MATCH_RE</span> <span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span> <span class="support support_class support_class_ruby">Regexp</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>union<span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">(</span>
      <span class="string string_regexp string_regexp_classic string_regexp_classic_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_ruby">/</span>%%<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_ruby">/</span></span><span class="punctuation punctuation_separator punctuation_separator_object punctuation_separator_object_ruby">,</span>
      <span class="string string_regexp string_regexp_classic string_regexp_classic_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_ruby">/</span>%<span class="constant constant_character constant_character_escape constant_character_escape_ruby">\{</span><span class="string string_regexp string_regexp_group string_regexp_group_ruby"><span class="punctuation punctuation_definition punctuation_definition_group punctuation_definition_group_ruby">(</span><span class="constant constant_character constant_character_escape constant_character_escape_ruby">\w</span>+<span class="punctuation punctuation_definition punctuation_definition_group punctuation_definition_group_ruby">)</span></span><span class="constant constant_character constant_character_escape constant_character_escape_ruby">\}</span><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_ruby">/</span></span><span class="punctuation punctuation_separator punctuation_separator_object punctuation_separator_object_ruby">,</span>
      <span class="string string_regexp string_regexp_classic string_regexp_classic_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_ruby">/</span>%&lt;<span class="string string_regexp string_regexp_group string_regexp_group_ruby"><span class="punctuation punctuation_definition punctuation_definition_group punctuation_definition_group_ruby">(</span><span class="constant constant_character constant_character_escape constant_character_escape_ruby">\w</span>+<span class="punctuation punctuation_definition punctuation_definition_group punctuation_definition_group_ruby">)</span></span>&gt;<span class="string string_regexp string_regexp_group string_regexp_group_ruby"><span class="punctuation punctuation_definition punctuation_definition_group punctuation_definition_group_ruby">(</span>.*?<span class="constant constant_character constant_character_escape constant_character_escape_ruby">\d</span>*<span class="constant constant_character constant_character_escape constant_character_escape_ruby">\.</span>?<span class="constant constant_character constant_character_escape constant_character_escape_ruby">\d</span>*<span class="string string_regexp string_regexp_character-class string_regexp_character-class_ruby"><span class="punctuation punctuation_definition punctuation_definition_character-class punctuation_definition_character-class_ruby">[</span>bBdiouxXeEfgGcps<span class="punctuation punctuation_definition punctuation_definition_character-class punctuation_definition_character-class_ruby">]</span></span><span class="punctuation punctuation_definition punctuation_definition_group punctuation_definition_group_ruby">)</span></span><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_ruby">/</span></span>
  <span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">)</span>

<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby">  <span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> call-seq:
</span><span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby">  <span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span>   %(arg)
</span><span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby">  <span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span>   %(hash)
</span><span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby">  <span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span>
</span><span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby">  <span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> Format - Uses str as a format specification, and returns the result of applying it to arg.
</span><span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby">  <span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> If the format specification contains more than one substitution, then arg must be
</span><span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby">  <span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> an Array containing the values to be substituted. See Kernel::sprintf for details of the
</span><span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby">  <span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> format string. This is the default behavior of the String class.
</span><span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby">  <span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span>   * arg: an Array or other class except Hash.
</span><span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby">  <span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span>   * Returns: formatted String
</span><span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby">  <span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> Example:
</span><span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby">  <span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span>    "%s, %s" % ["Masao", "Mutoh"]
</span><span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby">  <span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span>
</span><span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby">  <span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> Also you can use a Hash as the "named argument". This is recommended way so translators
</span><span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby">  <span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> can understand the meanings of the msgids easily.
</span><span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby">  <span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span>   * hash: {:key1 =&gt; value1, :key2 =&gt; value2, ... }
</span><span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby">  <span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span>   * Returns: formatted String
</span><span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby">  <span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> Example:
</span><span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby">  <span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span>   For strings.
</span><span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby">  <span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span>   "%{firstname}, %{familyname}" % {:firstname =&gt; "Masao", :familyname =&gt; "Mutoh"}
</span><span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby">  <span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span>
</span><span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby">  <span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span>   With field type to specify format such as d(decimal), f(float),...
</span><span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby">  <span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span>   "%&lt;age&gt;d, %&lt;weight&gt;.1f" % {:age =&gt; 10, :weight =&gt; 43.4}
</span>  <span class="meta meta_function meta_function_method meta_function_method_with-arguments meta_function_method_with-arguments_ruby"><span class="keyword keyword_control keyword_control_def keyword_control_def_ruby">def</span> <span class="entity entity_name entity_name_function entity_name_function_ruby">%</span><span class="punctuation punctuation_definition punctuation_definition_parameters punctuation_definition_parameters_ruby">(</span><span class="variable variable_parameter variable_parameter_function variable_parameter_function_ruby">args</span><span class="punctuation punctuation_definition punctuation_definition_parameters punctuation_definition_parameters_ruby">)</span></span>
    <span class="keyword keyword_control keyword_control_ruby">if</span> args<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>kind_of?<span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">(</span><span class="variable variable_other variable_other_constant variable_other_constant_ruby">Hash</span><span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">)</span>
      ret <span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span> dup
      ret<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>gsub!<span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">(</span><span class="variable variable_other variable_other_constant variable_other_constant_ruby">PERCENT_MATCH_RE</span><span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">)</span> <span class="punctuation punctuation_section punctuation_section_scope punctuation_section_scope_ruby">{</span><span class="punctuation punctuation_separator punctuation_separator_variable punctuation_separator_variable_ruby">|</span><span class="variable variable_other variable_other_block variable_other_block_ruby">match</span><span class="punctuation punctuation_separator punctuation_separator_variable punctuation_separator_variable_ruby">|</span>
        <span class="keyword keyword_control keyword_control_ruby">if</span> match <span class="keyword keyword_operator keyword_operator_comparison keyword_operator_comparison_ruby">==</span> <span class="string string_quoted string_quoted_single string_quoted_single_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">'</span>%%<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">'</span></span>
          <span class="string string_quoted string_quoted_single string_quoted_single_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">'</span>%<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">'</span></span>
        <span class="keyword keyword_control keyword_control_ruby">elsif</span> <span class="variable variable_other variable_other_readwrite variable_other_readwrite_global variable_other_readwrite_global_pre-defined variable_other_readwrite_global_pre-defined_ruby"><span class="punctuation punctuation_definition punctuation_definition_variable punctuation_definition_variable_ruby">$</span>1</span>
          key <span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span> <span class="variable variable_other variable_other_readwrite variable_other_readwrite_global variable_other_readwrite_global_pre-defined variable_other_readwrite_global_pre-defined_ruby"><span class="punctuation punctuation_definition punctuation_definition_variable punctuation_definition_variable_ruby">$</span>1</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>to_sym
          args<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>has_key?<span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">(</span>key<span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">)</span> <span class="keyword keyword_operator keyword_operator_comparison keyword_operator_comparison_ruby">?</span> args<span class="punctuation punctuation_section punctuation_section_array punctuation_section_array_ruby">[</span>key<span class="punctuation punctuation_section punctuation_section_array punctuation_section_array_ruby">]</span> <span class="punctuation punctuation_separator punctuation_separator_other punctuation_separator_other_ruby">:</span> match
        <span class="keyword keyword_control keyword_control_ruby">elsif</span> <span class="variable variable_other variable_other_readwrite variable_other_readwrite_global variable_other_readwrite_global_pre-defined variable_other_readwrite_global_pre-defined_ruby"><span class="punctuation punctuation_definition punctuation_definition_variable punctuation_definition_variable_ruby">$</span>2</span>
          key <span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span> <span class="variable variable_other variable_other_readwrite variable_other_readwrite_global variable_other_readwrite_global_pre-defined variable_other_readwrite_global_pre-defined_ruby"><span class="punctuation punctuation_definition punctuation_definition_variable punctuation_definition_variable_ruby">$</span>2</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>to_sym
          args<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>has_key?<span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">(</span>key<span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">)</span> <span class="keyword keyword_operator keyword_operator_comparison keyword_operator_comparison_ruby">?</span> sprintf<span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">(</span><span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>%<span class="source source_ruby source_ruby_embedded source_ruby_embedded_source"><span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">#{</span><span class="variable variable_other variable_other_readwrite variable_other_readwrite_global variable_other_readwrite_global_pre-defined variable_other_readwrite_global_pre-defined_ruby"><span class="punctuation punctuation_definition punctuation_definition_variable punctuation_definition_variable_ruby">$</span>3</span><span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">}</span></span><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span><span class="punctuation punctuation_separator punctuation_separator_object punctuation_separator_object_ruby">,</span> args<span class="punctuation punctuation_section punctuation_section_array punctuation_section_array_ruby">[</span>key<span class="punctuation punctuation_section punctuation_section_array punctuation_section_array_ruby">]</span><span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">)</span> <span class="punctuation punctuation_separator punctuation_separator_other punctuation_separator_other_ruby">:</span> match
        <span class="keyword keyword_control keyword_control_ruby">end</span>
      <span class="punctuation punctuation_section punctuation_section_scope punctuation_section_scope_ruby">}</span>
      ret
    <span class="keyword keyword_control keyword_control_ruby">else</span>
      ret <span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span> gsub<span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">(</span><span class="string string_regexp string_regexp_classic string_regexp_classic_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_ruby">/</span>%<span class="string string_regexp string_regexp_group string_regexp_group_ruby"><span class="punctuation punctuation_definition punctuation_definition_group punctuation_definition_group_ruby">(</span><span class="string string_regexp string_regexp_character-class string_regexp_character-class_ruby"><span class="punctuation punctuation_definition punctuation_definition_character-class punctuation_definition_character-class_ruby">[</span>{&lt;<span class="punctuation punctuation_definition punctuation_definition_character-class punctuation_definition_character-class_ruby">]</span></span><span class="punctuation punctuation_definition punctuation_definition_group punctuation_definition_group_ruby">)</span></span><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_ruby">/</span></span><span class="punctuation punctuation_separator punctuation_separator_object punctuation_separator_object_ruby">,</span> <span class="string string_quoted string_quoted_single string_quoted_single_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">'</span>%%\1<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">'</span></span><span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">)</span>
      <span class="keyword keyword_control keyword_control_ruby">begin</span>
        ret<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>_old_format_m<span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">(</span>args<span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">)</span>
      <span class="keyword keyword_control keyword_control_ruby">rescue</span> <span class="variable variable_other variable_other_constant variable_other_constant_ruby">ArgumentError</span> <span class="punctuation punctuation_separator punctuation_separator_key-value">=&gt;</span> e
        <span class="keyword keyword_control keyword_control_ruby">if</span> <span class="variable variable_other variable_other_readwrite variable_other_readwrite_global variable_other_readwrite_global_ruby"><span class="punctuation punctuation_definition punctuation_definition_variable punctuation_definition_variable_ruby">$</span>DEBUG</span>
          <span class="variable variable_other variable_other_readwrite variable_other_readwrite_global variable_other_readwrite_global_ruby"><span class="punctuation punctuation_definition punctuation_definition_variable punctuation_definition_variable_ruby">$</span>stderr</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>puts <span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>  The string:<span class="source source_ruby source_ruby_embedded source_ruby_embedded_source"><span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">#{</span>ret<span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">}</span></span><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span>
          <span class="variable variable_other variable_other_readwrite variable_other_readwrite_global variable_other_readwrite_global_ruby"><span class="punctuation punctuation_definition punctuation_definition_variable punctuation_definition_variable_ruby">$</span>stderr</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>puts <span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>  args:<span class="source source_ruby source_ruby_embedded source_ruby_embedded_source"><span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">#{</span>args<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>inspect<span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">}</span></span><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span>
          puts e<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>backtrace
        <span class="keyword keyword_control keyword_control_ruby">else</span>
          <span class="keyword keyword_other keyword_other_special-method keyword_other_special-method_ruby">raise</span> <span class="variable variable_other variable_other_constant variable_other_constant_ruby">ArgumentError</span><span class="punctuation punctuation_separator punctuation_separator_object punctuation_separator_object_ruby">,</span> e<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>message
        <span class="keyword keyword_control keyword_control_ruby">end</span>
      <span class="keyword keyword_control keyword_control_ruby">end</span>
    <span class="keyword keyword_control keyword_control_ruby">end</span>
  <span class="keyword keyword_control keyword_control_ruby">end</span>
<span class="keyword keyword_control keyword_control_ruby">end</span>

<span class="keyword keyword_control keyword_control_ruby">end</span></span></pre>

Não esqueça de carregar o arquivo utilizando o método <code>require</code> antes de utiliza-lo. É recomendado que você faça isto em algum arquivo do diretório <code>initializers</code> (talvez seja bom criar um arquivo apenas para esta finalidade). Também recomendo estudar o código acima para entender o que está acontecendo antes de simplesmente sair usando.

Ah, e você também pode definir tipos numéricos assim:

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails"><span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>%&lt;age&gt;d, %&lt;weight&gt;.1f<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span> <span class="keyword keyword_operator keyword_operator_arithmetic keyword_operator_arithmetic_ruby">%</span> <span class="punctuation punctuation_section punctuation_section_scope punctuation_section_scope_ruby">{</span><span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>age</span> <span class="punctuation punctuation_separator punctuation_separator_key-value">=&gt;</span> <span class="constant constant_numeric constant_numeric_ruby">10</span><span class="punctuation punctuation_separator punctuation_separator_object punctuation_separator_object_ruby">,</span> <span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>weight</span> <span class="punctuation punctuation_separator punctuation_separator_key-value">=&gt;</span> <span class="constant constant_numeric constant_numeric_ruby">43.4</span><span class="punctuation punctuation_section punctuation_section_scope punctuation_section_scope_ruby">}</span>
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> =&gt; "10, 43.4"</span></span></pre>

Para mais informações sobre as novidades do Rails, siga-me no Twitter: <a href="http://twitter.com/carlosbrando">@carlosbrando</a>.
</div>
  <footer>
    <a rel="full-article" href="/2009/07/20/o-novo-sistema-de-interpolacao-do-ruby-1-9/">Read on &rarr;</a>
  </footer>


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2009/07/16/quantas-horas-eu-devo-trabalhar-por-semana/">Quantas Horas Eu Devo Trabalhar Por Semana?</a></h1>
    
    
      <p class="meta">




<time datetime="2009-07-16 00:00:00 -0300" pubdate  updated >Jul 16<span>th</span>, 2009</time>


</p>
    
  </header>


  <div class="entry-content">[caption id=&#8221;attachment_2656&#8221; align=&#8221;aligncenter&#8221; width=&#8221;500&#8221; caption=&#8221;Foto de nsfmc&#8221;]<img class="size-full wp-image-2656" title="3410093137_85d367e66f" src="http://www.nomedojogo.com/wp-content/uploads/2009/07/3410093137_85d367e66f.jpg" alt="3410093137_85d367e66f" width="500" height="333" />[/caption]

Normalmente eu costumo trabalhar apenas quarenta horas por semana, sempre deixando os finais de semana livres para um merecido descanso. Mas esta semana em particular estou trabalhando muito, cerca de 18 horas por dia. Meus companheiros de trabalho também estão dando o sangue para conseguirmos entregar um projeto no prazo.

Sei que este tipo de esforço vez por outra é realmente inevitável e que você muito provavelmente já passou por algumas situações assim. Meditando um pouco sobre isto, eu comecei a me questionar se estes períodos de muito trabalho são realmente produtivos.

Cheguei a conclusão de que na verdade a quantidade de horas que você trabalha não importa muito, o que realmente conta é como você está gastando todas estas horas que passa trabalhando e o quão importante é o trabalho que você está realizando.

Na década de 80 costumava-se valorizar muito os profissionais workaholics. Mas atualmente, cada vez mais as empresa estão deixando de dar valor à profissionais viciados em trabalho, dando preferencia à pessoas menos tensas e mais humanas. O argumento é de que você precisa de tempo para oxigenar suas ideias, afim de se tornar realmente produtivo.

Durante alguns anos eu trabalhei em uma conhecida empresa multinacional. Neste tempo, perdi a conta de quantas vezes cheguei pela manhã no escritório e encontrei alguns colegas que passaram a madrugada trabalhando ou que dormiram no escritório. Acredite, ainda existem pessoas que pensam que precisam trabalhar 80-100 horas por semana para provarem seu valor.

Sinto informar, mas super-heróis não existem. Uma semana comum de trabalho, que normalmente não passa de quarenta horas, já é bem desgastante. De fato, se analisarmos friamente, um prazo apertado e um tempo curto deveriam induzi-lo a valorizar mais o pouco tempo que você tem, focando nas coisas que realmente importam ao invés de induzi-lo a trabalhar mais horas ou ignorar o fim de semana.

Só há tempo para o básico. E se você tem a intenção de criar algo realmente grandioso é exatamente do básico que você precisa. Muitos projetos, que hoje são grandes sucessos, foram criados nas poucas horas de uma noite de insonia, ou no quase inexistente tempo livre que uma pessoa possuía depois do trabalho.

Se quarenta horas em uma semana é muito pouco para realizar o seu trabalho, então você não tem tempo para focar em qualquer outra coisa além do básico. Talvez você só consiga fazer algumas poucas coisas neste tempo, mas as fará realmente bem. Sem distrações.

Trabalhar demais é um péssimo hábito. Uma vez que você começa a correr a corrida dos ratos, é difícil parar. Preocupe-se com a qualidade das suas horas de trabalho e não com a quantidade. Isto é o que realmente importa.

Mas vez por outra, não temos alternativa&#8230; então me deixa voltar ao trabalho. ;)
</div>
  <footer>
    <a rel="full-article" href="/2009/07/16/quantas-horas-eu-devo-trabalhar-por-semana/">Read on &rarr;</a>
  </footer>


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2009/07/09/the-humans-are-dead/">The Humans Are Dead</a></h1>
    
    
      <p class="meta">




<time datetime="2009-07-09 00:00:00 -0300" pubdate  updated >Jul 9<span>th</span>, 2009</time>


</p>
    
  </header>


  <div class="entry-content">No último <a href="http://www.railsenvy.com/2009/7/8/rails-envy-podcast-episode-086-07-08-2009">Rails Envy Podcast</a> (episódio 86) Gregg Pollack nos mostrou como robôs cantam&#8230; e postou o link com o clipe no <a href="http://www.youtube.com/watch?v=B1BdQcJ2ZYY&amp;feature=related">YouTube</a>. Por acaso eu encontrei um outro vídeo da dupla cômica <a href="http://www.conchords.co.nz/">Flight of the Conchords</a> cantando a mesma canção e com legendas em português.

Divirta-se com &#8220;The Humans Are Dead&#8221;:

<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="500" height="405" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"><param name="allowFullScreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="src" value="http://www.youtube.com/v/EeLdKtYdvC8&amp;hl=en&amp;fs=1&amp;border=1" /><param name="allowfullscreen" value="true" /><embed type="application/x-shockwave-flash" width="500" height="405" src="http://www.youtube.com/v/EeLdKtYdvC8&amp;hl=en&amp;fs=1&amp;border=1" allowscriptaccess="always" allowfullscreen="true"></embed></object>

Se a legenda não aparecer, clique no botão CC no canto inferior direito do vídeo e escolha o idioma.
</div>
  <footer>
    <a rel="full-article" href="/2009/07/09/the-humans-are-dead/">Read on &rarr;</a>
  </footer>


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2009/07/07/interrupcao-nao-e-colaboracao/">Interrupção Não é Colaboração</a></h1>
    
    
      <p class="meta">




<time datetime="2009-07-07 00:00:00 -0300" pubdate  updated >Jul 7<span>th</span>, 2009</time>


</p>
    
  </header>


  <div class="entry-content">Recentemente passei por um episódio interessante que me fez pensar um pouco sobre o quanto a tecnologia realmente auxilia na produtividade. Fiz uma viagem para o casamento de um amigo e como trabalho remotamente, decidi que permaneceria mais tempo na cidade afim de aproveitar o fim de semana. Para estas viagens tenho sempre comigo um modem 3G que me mantém conectado a uma velocidade razoável, pelo menos na maioria dos lugares para onde vou.

Acontece que esta cidade especificamente não possuía um sinal 3G de qualidade, aliás às vezes não possuía nenhum tipo de sinal. Então tive de passar 3 dias com uma conexão pior que as antigas conexões discada. A comunicação com a equipe foi obviamente prejudicada, já que usamos Skype na maior parte do tempo. Até mesmo acessar uma simples página na internet se tornou um doloroso exercício de paciência, nem mesmo o Campfire era possível de se utilizar. Depois de pouco tempo, simplesmente abandonei o modem e passei a trabalhar 100% desconectado, por três dias, mantendo contato com a empresa apenas pelo telefone quando um assunto era questão de vida ou morte.

[caption id=&#8221;attachment_2633&#8221; align=&#8221;aligncenter&#8221; width=&#8221;500&#8221; caption=&#8221;Sem Serviço&#8221;]<img class="size-full wp-image-2633  " title="2576339565_4f9cc47eff" src="http://www.nomedojogo.com/wp-content/uploads/2009/07/2576339565_4f9cc47eff.jpg" alt="2576339565_4f9cc47eff" width="500" height="332" />[/caption]
<p style="text-align: center;"></p>

Já ouvi muitas vezes frases como: &#8220;A tecnologia está tornando cada vez mais fácil a colaboração&#8221;. Pois eu posso dizer, agora com a máxima convicção, que você pode trocar a palavra colaboração por interrupção na frase acima sem pensar duas vezes. Cada vez mais produtos e serviços visam nos deixar online por mais tempo, alegando que a possibilidade de ser encontrado e poder encontrar qualquer membro da sua equipe, não importa onde ele esteja (no escritório, no carro, no supermercado ou em casa) pode tornar seu time muito mais produtivo. Eu já acreditei nesta estória, mas agora eu vejo as coisas por um ângulo diferente.

Durante estes três dias eu me mantive desconectado, incomunicável e isolado. Mas também foi um período de alta produtividade e foco para mim. O motivo? Eu estava isolado, por isto não podia ser interrompido. Consegui concluir neste tempo muitas tarefas que estavam pendentes por semanas e a cada dia ao terminar o trabalho sentia aquela boa sensação de dever cumprido.

Ser produtivo não é algo que simplesmente acontece. Não basta apenas se sentar e sair produzindo. Entrar na zona de produtividade leva tempo. Às vezes pode levar 15 minutos, em outras ocasiões meia hora, ou uma hora ou até mais para entrarmos neste estado de concentração. Mas basta um simples telefonema, e-mail ou mensagem para lhe colocar novamente no inicio do ciclo.

Agora, toda vez que vejo algum site ou revista comentando sobre a nova ferramenta colaborativa da vez, em minha mente só consigo pensar que não passa de mais uma forma de conseguirem me interromper. <strong>E interrupção é o pior inimigo da produtividade.</strong> Pode soar estranho dizer isto, mas uma dose saudável de isolamento social e virtual pode fazer um bem extraordinário para sua alma. Se você desejar ser realmente produtivo, precisa de mais tempo sozinho.
</div>
  <footer>
    <a rel="full-article" href="/2009/07/07/interrupcao-nao-e-colaboracao/">Read on &rarr;</a>
  </footer>


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2009/07/01/todos-os-metodos-devem-ser-publicos-definitivamente-nao/">Todos Os Métodos Devem Ser Públicos? Definitivamente Não!</a></h1>
    
    
      <p class="meta">




<time datetime="2009-07-01 00:00:00 -0300" pubdate  updated >Jul 1<span>st</span>, 2009</time>


</p>
    
  </header>


  <div class="entry-content">Recentemente fiz a seguinte pergunta no <a href="http://twitter.com/carlosbrando">Twitter</a>:

[caption id=&#8221;attachment_2605&#8221; align=&#8221;aligncenter&#8221; width=&#8221;493&#8221; caption=&#8221;@carlosbrando&#8221;]<img class="size-full wp-image-2605" title="Picture 1" src="http://www.nomedojogo.com/wp-content/uploads/2009/07/Picture-1.png" alt="Picture 1" width="493" height="200" />[/caption]

As respostas que recebi apenas confirmaram o que eu já imaginava.

[caption id=&#8221;attachment_2604&#8221; align=&#8221;aligncenter&#8221; width=&#8221;549&#8221; caption=&#8221;@tapajos&#8221;]<img class="size-full wp-image-2604" title="Picture 2" src="http://www.nomedojogo.com/wp-content/uploads/2009/07/Picture-2.png" alt="Picture 2" width="549" height="268" />[/caption]

[caption id=&#8221;attachment_2602&#8221; align=&#8221;aligncenter&#8221; width=&#8221;489&#8221; caption=&#8221;@flaviogranero&#8221;]<img class="size-full wp-image-2602" title="Picture 4" src="http://www.nomedojogo.com/wp-content/uploads/2009/07/Picture-4.png" alt="Picture 4" width="489" height="264" />[/caption]

O motivo da pesquisa é que recentemente eu estava lendo um artigo onde o autor argumentava que o ideal seria criarmos classes somente com métodos públicos, evitando ao máximo métodos privados ou protegidos. E entre outros argumentos, um dos motivos para se fazer isto era simplificar a criação de testes.

Uma coisa que me preocupa no Ruby é que é muito comum encontrar programadores que não estão nem um pouco preocupados se os seus métodos são públicos, protegidos ou privados. Pior ainda, quando tomam decisões apoiando-se em argumentos como o acima.

Um clássico exemplo são os métodos de callback de validações do Active Record, que em praticamente 99% dos casos deveriam ser privados ou protegidos, mas é normal encontrá-los entre os métodos públicos de um modelo na maioria dos projetos Rails. Acredito que isto aconteça porque programadores iniciantes entusiasmados com as facilidades do Active Record apenas saem incluindo seus códigos sem pensar muito no que estão fazendo.

Eu também não tenho o hábito de testar métodos privados, pelas mesmas razões mencionadas pelos amigos do Twitter. Mas no Ruby, se você realmente desejar, é trivial realizar uma chamada em um método privado de um objeto. Uma das técnicas mais usadas por “testadores de métodos privados” é se valer das características dinâmicas da linguagem para transformar todos os métodos privados de uma classe em métodos públicos durante os testes. Diferente de outras linguagens, como C# por exemplo, onde você tem uma barreira formal para impedi-lo de acessar métodos privados, no Ruby é ridiculamente simples ultrapassar esta barreira.

Pensando desta maneira, definir um método como privado no Ruby pode não significar muita coisa, já que outro programador pode alterar esta característica com facilidade. Mas ainda assim, definir um método como privado é como dizer aos outros programadores que aquele método faz parte do funcionamento interno daquela classe e que o programador original quer se manter no direito de realizar qualquer tipo de alteração necessária sem se preocupar se alguém está usando ou não aquele método. Isto tem tudo a ver com encapsulamento, e pode fazer toda a diferença quando surgir a necessidade de alterar algum comportamento do objeto.

Toda vez que você constrói um novo objeto, você está construindo uma nova API. Cabe a você então decidir o que deve ser exposto e o que faz parte dos mecanismos internos deste objeto. Desta forma, quando surgir a necessidade de alterar alguma coisa, você não precisará se preocupar tanto com quantas classes serão afetadas pela mudança. Ao marcar um método como privado, você está se resguardando e garantindo que não causará danos ao restante do sistema, já que você está dentro da fronteira do encapsulamento, podendo assim refatorar seu código sem dor na consciência.

Por favor, não saia simplesmente injetando código em suas classes. Pense!
</div>
  <footer>
    <a rel="full-article" href="/2009/07/01/todos-os-metodos-devem-ser-publicos-definitivamente-nao/">Read on &rarr;</a>
  </footer>


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2009/06/23/quanto-cobrar-por-seus-produtos-na-internet/">Quanto Cobrar Por Seus Produtos Na Internet?</a></h1>
    
    
      <p class="meta">




<time datetime="2009-06-23 00:00:00 -0300" pubdate  updated >Jun 23<span>rd</span>, 2009</time>


</p>
    
  </header>


  <div class="entry-content">Eu havia planejado um artigo mais técnico para esta semana, mas infelizmente não consegui terminá-lo a tempo. Então vai mais uma tradução de um artigo bem interessante do blog <a href="http://www.37signals.com/svn/posts/1287-ask-37signals-how-did-you-come-up-with-pricing-for-your-products">Signal vs. Noise</a>:

[caption id=&#8221;attachment_2593&#8221; align=&#8221;aligncenter&#8221; width=&#8221;500&#8221; caption=&#8221;Quanto cobrar por seus produtos na internet?&#8221;]<img class="size-full wp-image-2593" title="2125697998_b053ac13e1" src="http://www.nomedojogo.com/wp-content/uploads/2009/06/2125697998_b053ac13e1.jpg" alt="2125697998_b053ac13e1" width="500" height="375" />[/caption]
<p style="text-align: center;"></p>

Mattijs perguntou:
<p style="padding-left: 30px;">Estou desenvolvendo um produto para a internet e está chegando a hora em que será necessário criar uma tabela de preços para este produto. Problema: Não sei nem por onde começar! Fiz algumas pesquisas que mostraram uma ampla gama de produtos semelhantes com regimes de preços totalmente diferentes. Quando a 37signals estava desenvolvendo o Basecamp, como é que vocês definiram os seus preços?</p>

Quando sentamos para decidir os preços do <a href="http://www.basecamphq.com/">Basecamp</a> pela primeira vez em fevereiro de 2004, decidimos usar os seguintes preços: $9, $19, $39 e $59. Não houve muita ciência por trás disso. Simplesmente perguntamos a nós mesmos:

1. Quanto eu pagaria?
2. Estes números soam bem?
<h2>Quanto eu pagaria?</h2>
Penso que esta é a pergunta mais importante. Se você está projetando um produto que você vai usar, então é justo perguntar quanto você aceitaria pagar se você fosse comprá-lo de alguém. Os números que surgiram pareciam justos e razoável. 9 dólares era um bom preço inicial enquanto 59 dólares parecia um ótimo preço para o plano mais caro. Já mudamos estes preços, mas esses números funcionaram bem para um produto que ainda era desconhecido no mercado.

Esta linha de pensamento acabou mudando um pouco nosso conceito quando estávamos decidindo os preços de nosso outro produto, o <a href="http://www.campfirenow.com/">Campfire</a>. Originalmente o preço seria de 5 dólares por chat no Campfire. A ideia era que as pessoas pudessem criar uma sala temporária no Campfire para coincidir com uma reunião ou conferência telefônica. Sentimos que cobrar $5/reunião/ligação seria um preço interessante.

Mas então pensamos um pouco mais sobre isso. Perguntamos a nós mesmos se realmente pegaríamos o cartão de crédito para pagar $5 por algo que usaríamos somente por alguns minutos? Nós decidimos que provavelmente não faríamos isso. Isso mudou todo o foco do produto. A ideia de chats temporários se foi e surgiu então a ideia de uma sala de chat persistente que nunca se fecharia. Então, nós adotamos uma tabela de preços similar a do Basecamp, com o sistema de mensalidades. Estamos confiantes de que tomamos a melhor decisão.
<h2>Estes números soam bem?</h2>
Há um grande lado psicológico e emocional quando falamos de preços. Um amigo que trabalhava no Wal-Mart, uma vez me disse que lá um preço nunca terminava com um 9. Eles sempre terminavam em 8 (ou 6 ou 4) ou qualquer outro diferente de 9. Eles querem que o cliente saiba que o Wal-Mart está sempre trabalhando duro para diminuir nem que seja um centavo do preço dos produtos - daí o incomum 8 no lugar do familiar 9.

Não adotamos nenhuma regra para decidir nossos preços. Talvez devêssemos adotar uma, mas não fizemos. Nossa linha de preços no Basecamp é de $12, $24, $49, $99 e $149. Estamos mantendo esses preços em vigor por alguns anos e gostamos da combinação. Eles soam bem. Cada nível é praticamente o dobro do nível anterior, mas nós entregamos mais do que o dobro em benefícios.

Por exemplo, no Basecamp Basic ($24/mês), o cliente pode criar até 15 projetos e tem 3GB para armazenamento de arquivos. No Basecamp Plus ($49/mês), o cliente pode criar até 35 projetos (mais do dobro do nível básico) e tem 10GB para armazenamento de arquivos (mais de três vezes o nível básico). Portanto, o preço é o dobro, mas os benefícios são mais do que o dobro. Este padrão persiste em todos os nossos planos de preços.
<h2>Você pode mudar os preços, se precisar</h2>
Lembre-se que se você decidiu por um preço errado, você pode fazer correções ocasionalmente. Nós fizemos uma grande alteração nos preços do Basecamp e uma alteração menor nos preços do <a href="http://www.backpackit.com/">Backpack</a>. Os preços do Backpack mudaram quando lançamos a versão multi-usuário. Reduzimos principalmente os preços dos planos maiores e diminuímos a diferença entre o preço do primeiro nível para o segundo nível (que costumava ser de $5 -&gt; $9, mas foi alterado para $5 -&gt; $7).

A alteração do preço pode ser um pouco dolorosa no curto prazo, mas se você fizer a sua parte, aumentando os benefícios junto com o preço, alertando seus clientes com bastante antecedência sobre o aumento (uns 90 dias, vamos dizer), considerar a possibilidade de manter os preços anteriores para os clientes mais antigos e manter o seu preço justo, a alteração de acontecer sem maiores problemas.
</div>
  <footer>
    <a rel="full-article" href="/2009/06/23/quanto-cobrar-por-seus-produtos-na-internet/">Read on &rarr;</a>
  </footer>


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2009/06/15/como-a-37signals-faturou-um-milhao-com-o-conteudo-criado-em-seu-blog/">Como a 37signals Faturou Um Milhão Com O Seu Blog</a></h1>
    
    
      <p class="meta">




<time datetime="2009-06-15 00:00:00 -0300" pubdate  updated >Jun 15<span>th</span>, 2009</time>


</p>
    
  </header>


  <div class="entry-content">[caption id=&#8221;attachment_2582&#8221; align=&#8221;aligncenter&#8221; width=&#8221;500&#8221; caption=&#8221;Reembalagem é o segredo do sucesso&#8221;]<img class="size-full wp-image-2582" title="419050330_27d0a2c69d" src="http://www.nomedojogo.com/wp-content/uploads/2009/06/419050330_27d0a2c69d.jpg" alt="419050330_27d0a2c69d" width="500" height="333" />[/caption]

Ganhar dinheiro com a internet hoje em dia não é uma coisa muito difícil. Eu mesmo já andei ganhando uma graninha com a venda do meu último livro, que não passava de uma compilação dos textos deste blog traduzidos para o inglês. Não ganhei muita coisa, mas esta também nunca foi a intenção, mas tem muita gente ganhando dinheiro com seus blogs, principalmente fora do Brasil.

Se você cria um conteúdo de qualidade, não é difícil ganhar dinheiro com ele, desde que você não tenha vergonha de fazer dinheiro. Mas o mais impressionante é que algumas pessoas conseguem ganhar dinheiro mais de uma vez com o mesmo conteúdo.

Não é de hoje que expresso minha admiração pela <a href="http://37signals.com/">37signals</a>, e os caras realmente a merecem. Você muito provavelmente já ouviu falar do livro <a href="http://gettingreal.37signals.com/">Getting Real</a> (<a href="http://gettingreal.37signals.com/GR_por.php">Caia na Real</a>), onde eles documentam alguns de seus insight sobre a forma como eles criam e vendem produtos na web. O mais interessante é que tudo começou com uma série de artigos publicados no seu blog <a href="http://www.37signals.com/svn/">Signal vs Noise</a>. Veja a seguir como eles ganharam dinheiro 4 vezes com o mesmo conteúdo.
<h2>Ganhando dinheiro pela primeira vez</h2>
Durante muito tempo eles escreveram, baseados em suas experiências, artigos muito originais sobre o processo de construção de um produto para a internet em seu blog. Estes artigos obviamente geravam muito tráfego e desta forma eles conseguiram alguns milhares de dólares com anúncios na barra lateral do site.
<h2>Ganhando dinheiro pela segunda vez</h2>
Quando já estavam com um número bem vasto de artigos sobre a sua filosofia de desenvolvimento publicados no blog, eles decidiram compilar os melhores posts no formato de um ebook. Nasceu assim o Getting Real, e cada cópia em PDF era vendida por 19 dólares. Desta forma eles conseguiram angariar aproximadamente 100 mil dólares.
<h2>Ganhando dinheiro pela terceira vez</h2>
Depois de um tempo, ele pegaram o Getting Real em PDF e transformaram-no em um livro impresso através do site <a href="http://www.lulu.com/">Lulu.com</a>. Cada livro era vendido por 25 dólares e eles conseguiram mais alguns milhares de dólares apenas no primeiro mês. O livro ainda encontra-se a venda no site e até pouco tempo atrás estava classificado como o quarto livro mais vendido.
<h2>Ganhando dinheiro pela quarta vez</h2>
Por último, eles pegaram o conteúdo do livro e produziram uma série de conferencias sobre a filosofia que eles criaram. Eles ganham em média $50 mil por conferencia e já realizaram mais de 5 delas.
<h2>Somando os resultados</h2>
Bom, vamos calcular quanto eles conseguiram ganhar com o mesmo conteúdo. Com anúncios eles conseguiram por volta de 100 mil dólares (é importante considerar que eles utilizam o <a href="http://decknetwork.net/">The Deck</a> como seu principal sistema de anúncios, e eles são sócios fundadores da empresa, então provavelmente devem receber um pouco mais do que o normal por anúncio). Com o livro em formato PDF eles ganharam por volta de 350 mil dólares e com o livro impresso eles conseguiram mais ou menos 65 mil. E por último eles já conseguiram 250 mil com as conferencias.

Isto dá um ganho total de 765.000 dólares ao longo de alguns anos, explorando o mesmo conteúdo, insight e idéias sobre como eles executam o seus negócios. Artigos publicados no blog, PDF, livro impresso e conferencias.

É claro que provavelmente eles também devem ter ganho mais algum dinheiro com negócios indiretos conseguidos através do sucesso do livro, como novas oportunidades  para a empresa. Mas somente com o conteúdo criado eles chegaram a quase 1 milhão de dólares. Muito bom para um conteúdo que foi originalmente publicada de graça em um blog, não?

Se você ainda não leu o <a href="http://gettingreal.37signals.com/">Getting Real</a>, caia na real e trate de lê-lo agora. Temos até mesmo uma <a href="http://gettingreal.37signals.com/GR_por.php">versão em português</a>, totalmente gratuita, traduzida pela comunidade Rails brasileira.
</div>
  <footer>
    <a rel="full-article" href="/2009/06/15/como-a-37signals-faturou-um-milhao-com-o-conteudo-criado-em-seu-blog/">Read on &rarr;</a>
  </footer>


  </article>

<nav role="pagination">
  <div>
    
      <a class="prev" href="/blog/page/8/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/6/">Newer &rarr;</a>
    
  </div>
</nav>

<script type="text/javascript">
    var disqus_shortname = 'carlosbrando';
    (function () {
      var s = document.createElement('script'); s.async = true;
      s.type = 'text/javascript';
      s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
      (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>

</div>
<aside role=sidebar>
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2011/06/13/a-regra-direita-esquerda-do-c/">A Regra Direita-Esquerda do C</a>
      </li>
    
      <li class="post">
        <a href="/2011/06/03/colorific/">Colorific</a>
      </li>
    
      <li class="post">
        <a href="/2011/03/29/quem-disse-que-gravar-um-podcast-e-facil/">Quem disse que gravar um podcast é fácil?</a>
      </li>
    
      <li class="post">
        <a href="/2011/03/24/convite-para-o-grok-podcast/">Convite para o Grok Podcast!</a>
      </li>
    
      <li class="post">
        <a href="/2011/02/08/quatro-anos-de-nome-do-jogo/">Quatro anos de Nome do Jogo</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("carlosbrando", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/carlosbrando" class="twitter-follow-button" data-width="208px" data-show-count="false">Follow @carlosbrando</a>
  
</section>




  
</aside>

    </div>
  </div>
  <footer><p>
  Copyright &copy; 2011 - Carlos Brando -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
</body>
</html>
