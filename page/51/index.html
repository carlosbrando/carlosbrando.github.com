
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Nome do Jogo</title>
  <meta name="author" content="Carlos Brando">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  

  <link rel="canonical" href="http://nomedojogo.com/page/51/index.html"/>
  <link href="/favicon.png" rel="shortcut icon" />
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="http://s3.amazonaws.com/ender-js/jeesh.min.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="http://feeds2.feedburner.com/NomeDoJogo" rel="alternate" title="Nome do Jogo" type="application/atom+xml"/>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-1249636-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


  
  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>


  
  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>

</head>

<body  >
  <header><hgroup>
  <h1><a href="/">Nome do Jogo</a></h1>
  
    <h2>por Carlos Brando</h2>
  
</hgroup>

</header>
  <nav role=navigation><ul role=subscription data-subscription="rss">
  <li><a href="http://feeds2.feedburner.com/NomeDoJogo" rel="subscribe-rss" title="assine via RSS">RSS</a></li>
  
</ul>
<form action="http://google.com/search" method="get">
  <fieldset role="site-search">
    <input type="hidden" name="q" value="site:nomedojogo.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Pesquisar"/>
  </fieldset>
</form>
<ul role=main-navigation>
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Arquivo</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">



  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2008/03/12/como-testar-um-metodo-privado/">Como testar um método privado?</a></h1>
    
    
      <p class="meta">




<time datetime="2008-03-12 00:00:00 -0300" pubdate  updated >12 de Março de 2008</time>


</p>
    
  </header>


  <div class="entry-content"><p><img src="http://old.nomedojogo.com/wp-content/uploads/2008/03/148963020_54c3f1b723.jpg" alt="148963020_54c3f1b723.jpg" /></p>

<p>Vi esta dica no blog do <a href="http://jasonrudolph.com/blog/2007/11/02/evan-phoenix-on-testing-private-methods-in-ruby/">Jason Rudolph</a>, mas ele mesmo ouvi isto do Evan Phoenix no RubyConf no ano passado. Durante uma discussão sobre como testar isoladamente métodos privados, Evan chegou com a seguinte idéia, veja o método</p>

<pre class="textmate-source"><span class="source source_ruby"><span class="meta meta_class meta_class_ruby"><span class="keyword keyword_control keyword_control_class keyword_control_class_ruby">class</span> <span class="entity entity_name entity_name_type entity_name_type_class entity_name_type_class_ruby">Ninja</span></span>
  <span class="keyword keyword_other keyword_other_special-method keyword_other_special-method_ruby">private</span>
  <span class="meta meta_function meta_function_method meta_function_method_with-arguments meta_function_method_with-arguments_ruby"><span class="keyword keyword_control keyword_control_def keyword_control_def_ruby">def</span> <span class="entity entity_name entity_name_function entity_name_function_ruby">kill</span><span class="punctuation punctuation_definition punctuation_definition_parameters punctuation_definition_parameters_ruby">(</span><span class="variable variable_parameter variable_parameter_function variable_parameter_function_ruby">num_victims</span><span class="punctuation punctuation_definition punctuation_definition_parameters punctuation_definition_parameters_ruby">)</span></span>
    <span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span><span class="source source_ruby source_ruby_embedded source_ruby_embedded_source"><span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">#{</span>num_victims<span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">}</span></span> victims are no longer with us.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span>
  <span class="keyword keyword_control keyword_control_ruby">end</span>
<span class="keyword keyword_control keyword_control_ruby">end</span>
</span></pre>


<p>Ok, agora como testar isto? A sugestão foi definir um novo método público na classe, que chamará o método privado. Tudo isto na classe de teste. Veja como:</p>

<pre class="textmate-source"><span class="source source_ruby"><span class="meta meta_class meta_class_ruby"><span class="keyword keyword_control keyword_control_class keyword_control_class_ruby">class</span> <span class="entity entity_name entity_name_type entity_name_type_class entity_name_type_class_ruby">NinjaTest<span class="entity entity_other entity_other_inherited-class entity_other_inherited-class_ruby"> <span class="punctuation punctuation_separator punctuation_separator_inheritance punctuation_separator_inheritance_ruby">&lt;</span> Test::Unit::TestCase</span></span></span>
  <span class="meta meta_function meta_function_method meta_function_method_without-arguments meta_function_method_without-arguments_ruby"><span class="keyword keyword_control keyword_control_def keyword_control_def_ruby">def</span> <span class="entity entity_name entity_name_function entity_name_function_ruby">test_should_punish_sloppy_coders</span></span>
    <span class="variable variable_other variable_other_readwrite variable_other_readwrite_instance variable_other_readwrite_instance_ruby"><span class="punctuation punctuation_definition punctuation_definition_variable punctuation_definition_variable_ruby">@</span>ninja</span> <span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span> <span class="support support_class support_class_ruby">Ninja</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span><span class="keyword keyword_other keyword_other_special-method keyword_other_special-method_ruby">new</span>
    <span class="meta meta_function meta_function_method meta_function_method_without-arguments meta_function_method_without-arguments_ruby"><span class="keyword keyword_control keyword_control_def keyword_control_def_ruby">def</span></span> <span class="variable variable_other variable_other_readwrite variable_other_readwrite_instance variable_other_readwrite_instance_ruby"><span class="punctuation punctuation_definition punctuation_definition_variable punctuation_definition_variable_ruby">@</span>ninja</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>flog_publicly<span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">(</span><span class="keyword keyword_operator keyword_operator_arithmetic keyword_operator_arithmetic_ruby">*</span>args<span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">)</span>
      kill<span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">(</span><span class="keyword keyword_operator keyword_operator_arithmetic keyword_operator_arithmetic_ruby">*</span>args<span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">)</span>
    <span class="keyword keyword_control keyword_control_ruby">end</span>
    assert_equal Â<span class="constant constant_numeric constant_numeric_ruby">3</span> victims are no longer with us<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>Â<span class="punctuation punctuation_separator punctuation_separator_object punctuation_separator_object_ruby">,</span> <span class="variable variable_other variable_other_readwrite variable_other_readwrite_instance variable_other_readwrite_instance_ruby"><span class="punctuation punctuation_definition punctuation_definition_variable punctuation_definition_variable_ruby">@</span>ninja</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>flog_publicly<span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">(</span><span class="constant constant_numeric constant_numeric_ruby">3</span><span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">)</span>
  <span class="keyword keyword_control keyword_control_ruby">end</span>
<span class="keyword keyword_control keyword_control_ruby">end</span></span></pre>


<p>Entendeu? Criamos um novo método público chamado <code>flog_publicly</code> e o inserimos na instancia de <code>ninja</code>, este método por sua vez, chama nosso método privado.</p>
</div>
  
  


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2008/03/11/twitter-in-plain-english/">Twitter in Plain English</a></h1>
    
    
      <p class="meta">




<time datetime="2008-03-11 00:00:00 -0300" pubdate  updated >11 de Março de 2008</time>


</p>
    
  </header>


  <div class="entry-content"><object width="425" height="355"><param name="movie" value="http://www.youtube.com/v/ddO9idmax0o"></param><param name="wmode" value="transparent"></param><embed src="http://www.youtube.com/v/ddO9idmax0o" type="application/x-shockwave-flash" wmode="transparent" width="425" height="355"></embed></object>

</div>
  
  


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2008/03/11/demita-os-workaholics-ou-nao/">Demita os workaholics, ou não&#8230;</a></h1>
    
    
      <p class="meta">




<time datetime="2008-03-11 00:00:00 -0300" pubdate  updated >11 de Março de 2008</time>


</p>
    
  </header>


  <div class="entry-content"><p><img src="http://old.nomedojogo.com/wp-content/uploads/2008/03/365849097_5a726d5b9d.jpg" alt="365849097_5a726d5b9d.jpg" /></p>

<p>Jason Calacanis escreveu um artigo com <a href="http://www.calacanis.com/2008/03/07/how-to-save-money-running-a-startup-17-really-good-tips/">17 dicas para uma startup economizar dinheiro</a>. Você pode ver a relação em português <a href="http://updateordie.com/updates/cyber/2008/03/como-economizar-ao-tocar-uma-startup/">aqui</a>.</p>

<p>Eu particulamente gostei de algumas como &#8220;Compre mesas baratas e cadeiras caras. Mesas não servem pra nada, cadeiras sim&#8221;, &#8220;Não se preocupe com sistema de telefonia. A maioria usa a internet e seus próprios celulares pra se comunicar&#8221; e &#8220;Compre Mac e se livre dos caras de suporte&#8221;. Mas uma das dicas fez alguns dar pulinhos&#8230;</p>

<blockquote>Demita quem não for workaholic.</blockquote>


<p>David Hansson, que é famoso por se envolver em algumas briguinhas de vez em quando, resolveu responder publicando um post com o titulo: &#8221;<a href="http://www.37signals.com/svn/posts/902-fire-the-workaholics">Demita os workaholics</a>&#8221;, onde ele lista 5 motivos para isto. Entre os motivos: Workaholics ao tentar resolver um problema são suscetíveis a ficar atirando por muitas horas contra ele até resolve-lo. Pessoas que trabalham até tarde sempre, faz com que as pessoas que não fazem isto se sintam intimidadas a ficar mesmo sem necessidade. E, trabalhar com um workaholic é um saco, porque normalmente eles são pessoas chatas, já que só pensam em trabalho.</p>

<p>É claro que não foi somente David que caiu matando em cima de Jason, tanto que ele acabou alterando seu artigo original para explicar melhor o que ele quis dizer:</p>

<blockquote>Demita pessoas que não <strike>são workaholics</strike> amam seu trabalho&#8230; vamos lá, é assim em uma startup, <strike>não estamos de brincadeira.</strike> não trabalhe em uma uma startup se você não entrar de cabeça Â vá trabalhar nos correios ou no stabucks se você não estiver disposto a entrar de cabeça. <strike>se quer uma vida equilibrada.</strike></blockquote>


<p>E você é workaholic?</p>
</div>
  
  


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2008/03/10/gitnub-veja-as-alteracoes-em-seu-repositorio-git/">GitNub - Veja as alterações em seu repositório Git</a></h1>
    
    
      <p class="meta">




<time datetime="2008-03-10 00:00:00 -0300" pubdate  updated >10 de Março de 2008</time>


</p>
    
  </header>


  <div class="entry-content"><p>O <a href="http://github.com/Caged/gitnub/tree/master">GitNub</a> é um projeto em RubyCocoa que permite navegar nos logs do Git através de uma interface gráfica. Não sei dizer com certeza, mas deve ser um dos primeiros projetos deste nível para o Git. Pena que só vai rodar em um Mac&#8230;</p>

<p>Eu sei que tem bastante gente falando do Git por aí, muitos falando bem, outros apenas criticando&#8230; Mas, o que posso dizer é: teste você mesmo. Eu gastei uma hora assistindo o screencast do PeepCode sobre Git e posso dizer que gostei muito do que vi. E Hoje uso o Git em 100% dos meus projetos, mesmo para os que estão no Subversion uso Git com git-svn. E sou mais feliz do que quando usava o SVN.</p>
</div>
  
  


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2008/03/06/rails-podcast-brasil-episodio-8/">Rails Podcast Brasil - Episódio 8</a></h1>
    
    
      <p class="meta">




<time datetime="2008-03-06 00:00:00 -0300" pubdate  updated > 6 de Março de 2008</time>


</p>
    
  </header>


  <div class="entry-content"><p><img src="http://old.nomedojogo.com/wp-content/uploads/2008/01/untitled-1.png" alt="untitled-1.png" /></p>

<p>Tarda mais não falha&#8230; Nosso plano era lançar o podcast toda quarta-feira, mas esta semana as coisas estão difíceis. Mas não vamos deixar você na mão&#8230; por isto eu e o Fábio, não almoçamos hoje, e não é porque estamos barrigudos, e sim para gravar mais um episódio do Rails Podcast Brasil&#8230; aeeee</p>

<p>Uma dica legal, mesmo quem não é fõ do podcast, ouça pelo menos o primeiro minuto, porque desta vez vamos dar um vale screencast/livro do PeepCode, mas para saber como participar, precisa ouvir o podcast (tá pensando o quê?)</p>

<p>Como sempre, para fazer o download acesse: <a href="http://www.rubyonrails.pro.br/podcasts">http://www.rubyonrails.pro.br/podcasts</a></p>

<p>Neste episódio:</p>

<ul>
    <li><a href="http://www.cio.com/article/191000/You_Used_Ruby_to_Write_WHAT_/1">You Used Ruby to Write WHAT?!</a></li>
    <li><a href="http://getahead.org/blog/joe/2008/03/05/ie8_review.html">New IE8 beta 1 tantalizes, rough edges and all</a></li>
    <li><a href="http://weblog.jamisbuck.org/2008/2/28/capistrano-2-2-0">Capistrano 2.2.0</a></li>
    <li><a href="http://groups.google.com/group/ruby-core-google/browse_thread/thread/a4e0dd0563f0d956?hl=en">Ruby 1.9.0-1</a></li>
    <li><a href="http://brainspl.at/articles/2008/03/05/merb-0-9-1-developer-release">Merb-0.9.1 Developer release</a></li>
    <li><a href="http://www.rubyinside.com/ebb-web-framework-http-server-786.html">Ebb: C-Powered Web Server That Uses Rack - Faster than Mongrel *and* Thin</a></li>
    <li><a href="http://blog.thinkrelevance.com/2008/3/6/frozen-gems-generator">Frozen Gems Generator</a></li>
    <li><a href="http://hackety.org/press/">Shoes News: Free Shoes Books and Applications For Everyone!</a></li>
    <li><a href="http://headius.blogspot.com/2008/03/welcome-pythonistas-to-sun.html">Welcome Pythonistas to Sun!</a></li>
    <li><a href="http://youtube.com/watch?v=PfnP-8XbJao">JRuby: The power of Java and Ruby</a></li>
    <li><a href="http://www.nomedojogo.com/2008/02/29/plugin-patterns-for-rails-2/">Plugin Patterns for Rails 2</a></li>
    <li><a href="http://www.rubyinside.com/waves-a-new-rails-like-web-applications-framework-782.html">Waves: A New Rails-like Web Applications Framework</a></li>
    <li><a href="http://www.37signals.com/svn/posts/887-design-decisions-calendar-picker-for-backpack-reminders">Design Decisions: Calendar picker for Backpack Reminders</a></li>
    <li><a href="http://railspikes.com/2008/3/1/cleaner-code-with-conversions">Cleaner code with Conversions</a></li>
    <li><a href="http://heroku.com/docs/api/">Heroku API - deploy apps to Heroku from the command line</a></li>
    <li><a href="http://andrew.flypublishing.com/2008/03/01/blueprint-css-yeeaahh-demo-part-one/">BLUEPRINT CSS YEEAAHH DEMO PART ONE</a></li>
    <li><a href="http://ozmm.org/posts/try.html">try()</a></li>
    <li><a href="http://ruby.tie-rack.org/54/you-might-be-able-to-stop-trying-to-call-methods-on-nil/">You might be able to stop trying to call methods on nil</a></li>
    <li><a href="http://blog.hasmanythrough.com/2008/3/2/migration-concordance">Migration Concordance</a></li>
    <li><a href="http://hivelogic.com/articles/ruby-rails-leopard/">Installing Ruby, Rubygems, Rails, and Mongrel on Mac OS X 10.5 (Leopard)</a></li>
    <li><a href="http://jamesgolick.com/2008/3/3/plugins-i-ve-known-and-loved-3-ultrasphinx">Plugins I&#8217;ve Known and Loved #3: Ultrasphinx</a></li>
</ul>


<p>Mais uma vez agradeço ao <a href="http://www.monteiro.eti.br/">Júlio Monteiro</a> pelo cupom do PeepCode!</p>
</div>
  
  


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2008/03/05/edge-rails-html-options-em-todos-os-date-helpers/">Edge Rails: HTML options em todos os Date Helpers</a></h1>
    
    
      <p class="meta">




<time datetime="2008-03-05 00:00:00 -0300" pubdate  updated > 5 de Março de 2008</time>


</p>
    
  </header>


  <div class="entry-content"><p>Tai uma coisa que eu estou esperando faz tempo. Hoje você simplesmente não consegue definir um <code>class</code> para um <code>date_select</code>, por exemplo. Para aplicar um estilo nestes caras, você precisa verificar o nome gerado pelo Rails e incluí-lo no seu CSS.</p>

<p>Mas isto acabou! A partir da próxima versão do Rails, todos os helpers que tratam datas (<code>date_select</code>, <code>time_select</code>, <code>select_datetime</code>, etc.) vão aceitar HTML options, permitindo que façamos isso:</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails"><span class="keyword keyword_operator keyword_operator_comparison keyword_operator_comparison_ruby">&lt;</span><span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_augmented keyword_operator_assignment_augmented_ruby">%=</span> date_select <span class="string string_quoted string_quoted_single string_quoted_single_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">'</span>item<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">'</span></span><span class="punctuation punctuation_separator punctuation_separator_object punctuation_separator_object_ruby">,</span><span class="string string_quoted string_quoted_single string_quoted_single_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">'</span>happening<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">'</span></span><span class="punctuation punctuation_separator punctuation_separator_object punctuation_separator_object_ruby">,</span> <span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>order</span> <span class="punctuation punctuation_separator punctuation_separator_key-value">=&gt;</span> <span class="punctuation punctuation_section punctuation_section_array punctuation_section_array_ruby">[</span><span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>day</span><span class="punctuation punctuation_section punctuation_section_array punctuation_section_array_ruby">]</span><span class="punctuation punctuation_separator punctuation_separator_object punctuation_separator_object_ruby">,</span> <span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>class</span> <span class="punctuation punctuation_separator punctuation_separator_key-value">=&gt;</span> <span class="string string_quoted string_quoted_single string_quoted_single_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">'</span>foobar<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">'</span></span><span class="string string_quoted string_quoted_other string_quoted_other_literal string_quoted_other_literal_other string_quoted_other_literal_other_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">%&gt;</span></span></span></pre>


<p>Fonte: <a href="http://dev.rubyonrails.org/ticket/6000">Allow HTML options for select helpers</a></p>
</div>
  
  


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2008/03/03/o-metodo-try-e-um-objeto-nulo/">O método try() e um objeto nulo</a></h1>
    
    
      <p class="meta">




<time datetime="2008-03-03 00:00:00 -0300" pubdate  updated > 3 de Março de 2008</time>


</p>
    
  </header>


  <div class="entry-content"><p>Ontem eu dei a dica do <a href="http://www.nomedojogo.com/2008/03/02/o-metodo-try/">método <code>try()</code></a>. Porém só hoje fui perceber que existe uma exceção para o uso do método. Ele não vai funcionar se você estiver precisando recuperar a propriedade <code>id</code> do que deveria ser um registro do <code>ActiveRecord</code> se a variável for nula:</p>

<pre class="textmate-source"><span class="source source_ruby"><span class="variable variable_other variable_other_readwrite variable_other_readwrite_instance variable_other_readwrite_instance_ruby"><span class="punctuation punctuation_definition punctuation_definition_variable punctuation_definition_variable_ruby">@</span>person</span> <span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span> <span class="constant constant_language constant_language_ruby">nil</span>
<span class="variable variable_other variable_other_readwrite variable_other_readwrite_instance variable_other_readwrite_instance_ruby"><span class="punctuation punctuation_definition punctuation_definition_variable punctuation_definition_variable_ruby">@</span>person</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>try<span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">(</span><span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>id</span><span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">)</span></span></pre>


<p>Isto retornaria o seguinte:</p>

<pre class="textmate-source"><span class="text text_plain"><span class="meta meta_paragraph meta_paragraph_text">(irb):7: warning: Object#id will be deprecated; use Object#object_id
=&gt; 4</span></span></pre>


<p>Hmm&#8230; Isto não funciona porque a classe <code>Object</code> também tem uma propriedade <code>id</code> (que deve deixar de existir na próxima versão do ruby), e como a classe <code>NilClass</code> herda dela&#8230;</p>

<p>A melhor solução para resolver este problema na minha opinião seria usar algo assim:</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails"><span class="meta meta_class meta_class_ruby"><span class="keyword keyword_control keyword_control_class keyword_control_class_ruby">class</span> <span class="entity entity_name entity_name_type entity_name_type_class entity_name_type_class_ruby">Object</span></span>
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby">  <span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span>#
</span><span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby">  <span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span>   @person.name unless @person.nil?
</span><span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby">  <span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> vs
</span><span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby">  <span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span>   @person.try(:name)
</span>  <span class="meta meta_function meta_function_method meta_function_method_with-arguments meta_function_method_with-arguments_ruby"><span class="keyword keyword_control keyword_control_def keyword_control_def_ruby">def</span> <span class="entity entity_name entity_name_function entity_name_function_ruby">try</span><span class="punctuation punctuation_definition punctuation_definition_parameters punctuation_definition_parameters_ruby">(</span><span class="variable variable_parameter variable_parameter_function variable_parameter_function_ruby">method</span><span class="punctuation punctuation_definition punctuation_definition_parameters punctuation_definition_parameters_ruby">)</span></span>
    <span class="variable variable_language variable_language_ruby">self</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>send<span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">(</span>method<span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">)</span> <span class="keyword keyword_control keyword_control_ruby">unless</span> <span class="variable variable_language variable_language_ruby">self</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>nil?
  <span class="keyword keyword_control keyword_control_ruby">end</span>
<span class="keyword keyword_control keyword_control_ruby">end</span></span></pre>

</div>
  
  


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2008/03/03/edge-rails-novos-metodos-na-classe-time/">Edge Rails: Novos métodos na classe Time</a></h1>
    
    
      <p class="meta">




<time datetime="2008-03-03 00:00:00 -0300" pubdate  updated > 3 de Março de 2008</time>


</p>
    
  </header>


  <div class="entry-content"><p>Quatro novos métodos foram criados na classe <code>Time</code> do Rails: <code>end_of_day</code>, <code>end_of_week</code>, <code>end_of_quarter</code> e <code>end_of_year</code>.</p>

<p><strong>end_of_day</strong>
Este método basicamente retorna o dia de hoje com o horário 23:59:59. Só isso&#8230;</p>

<p><strong>end_of_week</strong>
Supostamente retorna o fim da semana (domingo 23:59:59). Não sei se faz muito sentido, para mim a semana termina no sábado.</p>

<p><strong>end_of_quarter</strong>
Retorna um <code>Date/Datime</code> representando o final do trimestre. Em outras palavras o última dia de março, junho, setembro, dezembro, o que vier primeiro.</p>

<p><strong>end_of_year</strong>
Retorna dia 31 de dezembro às 23:59:59</p>
</div>
  
  


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2008/03/02/o-metodo-try/">O método try()</a></h1>
    
    
      <p class="meta">




<time datetime="2008-03-02 00:00:00 -0300" pubdate  updated > 2 de Março de 2008</time>


</p>
    
  </header>


  <div class="entry-content"><p><img src="http://old.nomedojogo.com/wp-content/uploads/2008/03/494863115_d6ee04b511.jpg" alt="494863115_d6ee04b511.jpg" /></p>

<p>Vi esta dica no blog do <a href="http://ozmm.org/posts/try.html">Chris Wanstrath</a>, um dos funcionários da <strong>Ett Free</strong>. Pense em quantas vezes você já fez algo assim:</p>

<pre class="textmate-source"><span class="source source_ruby"><span class="meta meta_function meta_function_method meta_function_method_without-arguments meta_function_method_without-arguments_ruby"><span class="keyword keyword_control keyword_control_def keyword_control_def_ruby">def</span> <span class="entity entity_name entity_name_function entity_name_function_ruby">name</span></span>
  <span class="variable variable_other variable_other_readwrite variable_other_readwrite_instance variable_other_readwrite_instance_ruby"><span class="punctuation punctuation_definition punctuation_definition_variable punctuation_definition_variable_ruby">@</span>person</span> <span class="keyword keyword_operator keyword_operator_comparison keyword_operator_comparison_ruby">?</span> <span class="variable variable_other variable_other_readwrite variable_other_readwrite_instance variable_other_readwrite_instance_ruby"><span class="punctuation punctuation_definition punctuation_definition_variable punctuation_definition_variable_ruby">@</span>person</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>name <span class="punctuation punctuation_separator punctuation_separator_other punctuation_separator_other_ruby">:</span> <span class="constant constant_language constant_language_ruby">nil</span>
<span class="keyword keyword_control keyword_control_ruby">end</span>
</span></pre>


<p>Agora imagine como seria fácil se pudéssemos fazer a mesma coisa assim:</p>

<pre class="textmate-source"><span class="source source_ruby"><span class="meta meta_function meta_function_method meta_function_method_without-arguments meta_function_method_without-arguments_ruby"><span class="keyword keyword_control keyword_control_def keyword_control_def_ruby">def</span> <span class="entity entity_name entity_name_function entity_name_function_ruby">name</span></span>
  <span class="variable variable_other variable_other_readwrite variable_other_readwrite_instance variable_other_readwrite_instance_ruby"><span class="punctuation punctuation_definition punctuation_definition_variable punctuation_definition_variable_ruby">@</span>person</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>try<span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">(</span><span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>name</span><span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">)</span>
<span class="keyword keyword_control keyword_control_ruby">end</span></span></pre>


<p>Pois é&#8230; inclua este código abaixo em seu projeto e seja feliz.</p>

<pre class="textmate-source"><span class="source source_ruby"><span class="meta meta_class meta_class_ruby"><span class="keyword keyword_control keyword_control_class keyword_control_class_ruby">class</span> <span class="entity entity_name entity_name_type entity_name_type_class entity_name_type_class_ruby">Object</span></span>
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby">  <span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span>#
</span><span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby">  <span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span>   @person ? @person.name : nil
</span><span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby">  <span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> vs
</span><span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby">  <span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span>   @person.try(:name)
</span>  <span class="meta meta_function meta_function_method meta_function_method_with-arguments meta_function_method_with-arguments_ruby"><span class="keyword keyword_control keyword_control_def keyword_control_def_ruby">def</span> <span class="entity entity_name entity_name_function entity_name_function_ruby">try</span><span class="punctuation punctuation_definition punctuation_definition_parameters punctuation_definition_parameters_ruby">(</span><span class="variable variable_parameter variable_parameter_function variable_parameter_function_ruby">method</span><span class="punctuation punctuation_definition punctuation_definition_parameters punctuation_definition_parameters_ruby">)</span></span>
    send method <span class="keyword keyword_control keyword_control_ruby">if</span> respond_to? method
  <span class="keyword keyword_control keyword_control_ruby">end</span>
<span class="keyword keyword_control keyword_control_ruby">end</span></span></pre>


<p>É engraçado como normalmente as melhores soluções são as mais simples&#8230;</p>
</div>
  
  


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2008/02/29/plugin-patterns-for-rails-2/">Plugin Patterns for Rails 2</a></h1>
    
    
      <p class="meta">




<time datetime="2008-02-29 00:00:00 -0300" pubdate  updated >29 de Fevereiro de 2008</time>


</p>
    
  </header>


  <div class="entry-content"><p><img src="http://old.nomedojogo.com/wp-content/uploads/2008/02/pp-cover.png" alt="pp-cover.png" /></p>

<p>O novo livro do <a href="http://peepcode.com">PeepCode</a> é sobre a <a href="http://peepcode.com/products/rails-2-plugin-patterns">construção de plugins</a>. Este é um assunto que qualquer desenvolvedor Rails precisa saber. Faz parte da cultura do Ruby e do Rails o DRY (não se repetir) e para conseguir isto nada melhor que plugins.</p>

<p>Eu já tenho o livro e com certeza vale a pena, como quase tudo no PeepCode. Ele ensina desde como criar um plugin do tipo <strong>acts_as</strong> até o uso do pai das gambiarras: o método <code>alias_method_chain</code>.</p>
</div>
  
  


  </article>

<nav role="pagination">
  <div>
    
      <a class="prev" href="/page/52/">&larr; Antigos</a>
    
    <a href="/blog/archives">Arquivo</a>
    
    <a class="next" href="/page/50/">Novos &rarr;</a>
    
  </div>
</nav>

<script type="text/javascript">
    var disqus_shortname = 'carlosbrando';
    (function () {
      var s = document.createElement('script'); s.async = true;
      s.type = 'text/javascript';
      s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
      (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>

</div>
<aside role=sidebar>
  
    <section>
  <h1>Artigos Recentes</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2011/08/25/como-convencer-sua-equipe-a-usar-um-sistema-de-controle-de-vers-o/">Como convencer sua equipe a usar um sistema de controle de versão</a>
      </li>
    
      <li class="post">
        <a href="/2011/08/19/blogando-como-um-hacker/">Blogando como um hacker</a>
      </li>
    
      <li class="post">
        <a href="/2011/06/13/a-regra-direita-esquerda-do-c/">A Regra Direita-Esquerda do C</a>
      </li>
    
      <li class="post">
        <a href="/2011/06/03/colorific/">Colorific</a>
      </li>
    
      <li class="post">
        <a href="/2011/03/29/quem-disse-que-gravar-um-podcast-e-facil/">Quem disse que gravar um podcast é fácil?</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Últimos Tweets</h1>
  <ul id="tweets">
    <li class="loading">Atualizando&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("carlosbrando", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/carlosbrando" class="twitter-follow-button" data-width="208px" data-show-count="false">Siga @carlosbrando</a>
  
</section>




  
</aside>

    </div>
  </div>
  <footer><p>
  Copyright &copy; 2011 - Carlos Brando -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
</body>
</html>
