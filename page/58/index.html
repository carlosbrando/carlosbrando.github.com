
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Nome do Jogo</title>
  <meta name="author" content="Carlos Brando">

  
  <meta name="description" content="Faça o Teste, crie um projeto Rails 2.0 (você já sabe fazer isto né?) e execute o comando abaixo: ./script/generate scaffold Post title:string body: &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://nomedojogo.com/page/58">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/stylesheets/bootstrap.min.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/stylesheets/custom.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="http://feeds2.feedburner.com/NomeDoJogo" rel="alternate" title="Nome do Jogo" type="application/atom+xml">
  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-1249636-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >

  <header class="main">
    <div class="container">
	<div class="row">
		<div class="span8 title">
			<h2>Carlos Brando</h2>
			<h1><a href="/">Nome do Jogo</a></h1>
		
			<ul class="header-list">
				<li class="title">Acompanhe também</li>
				<li class="grokpodcast"><a href="http://grokpodcast.com/">Grok Podcast</a></li>
			</ul>
		</div>
		<div class="span4 seach_form">
			
			<form action="http://google.com/search" method="get">
				<fieldset role="search">
					<input type="hidden" name="q" value="site:nomedojogo.com" />
					<input class="search" type="text" name="q" results="0" placeholder="Pesquisar"/>
				</fieldset>
			</form>
			
		</div>
	</div>
</div>

  </header>
  
  <!-- <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feeds2.feedburner.com/NomeDoJogo" rel="subscribe-rss" title="assine via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:nomedojogo.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Pesquisar"/>
  </fieldset>
</form>
  
<ul role=main-navigation>
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Arquivo</a></li>
</ul>

</nav> -->
  
  <section class="container">
    <div id="main">
      <div id="content">
        <div class="blog-index">
  
    
    









    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/2008/01/16/edge-rails-use-rotulos-nas-suas-paginas/">Edge Rails: Use rótulos nas suas páginas</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2008-01-16T00:00:00-02:00" pubdate data-updated="true">16 de Janeiro de 2008</time>
        
        <a rel="bookmark" href="/2008/01/16/edge-rails-use-rotulos-nas-suas-paginas/"></a>
      </p>
    
  </header>



  <div class="entry-content"><p><img src="http://old.nomedojogo.com/wp-content/uploads/2008/01/631345826_d7158ef086.jpg" alt="631345826_d7158ef086.jpg" /></p>

<p>Faça o Teste, crie um projeto Rails 2.0 (você já sabe fazer isto né?) e execute o comando abaixo:</p>

<pre>./script/generate scaffold Post title:string body:text</pre>


<p>Vamos pegar como exemplo o arquivo <em>edit.html.erb</em>, veja como foi criado o formulário de edição:</p>

<pre class="textmate-source"><span class="text text_html text_html_ruby"><span class="source source_ruby source_ruby_rails source_ruby_rails_embedded source_ruby_rails_embedded_html"><span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">&lt;%</span> form_for<span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">(</span><span class="variable variable_other variable_other_readwrite variable_other_readwrite_instance variable_other_readwrite_instance_ruby"><span class="punctuation punctuation_definition punctuation_definition_variable punctuation_definition_variable_ruby">@</span>post</span><span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">)</span> <span class="keyword keyword_control keyword_control_start-block keyword_control_start-block_ruby">do </span><span class="punctuation punctuation_separator punctuation_separator_variable punctuation_separator_variable_ruby">|</span><span class="variable variable_other variable_other_block variable_other_block_ruby">f</span><span class="punctuation punctuation_separator punctuation_separator_variable punctuation_separator_variable_ruby">|</span> <span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">%&gt;</span></span>
  <span class="meta meta_tag meta_tag_block meta_tag_block_any meta_tag_block_any_html"><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html">&lt;</span><span class="entity entity_name entity_name_tag entity_name_tag_block entity_name_tag_block_any entity_name_tag_block_any_html">p</span><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html">&gt;</span></span>
    <span class="meta meta_tag meta_tag_inline meta_tag_inline_any meta_tag_inline_any_html"><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html">&lt;</span><span class="entity entity_name entity_name_tag entity_name_tag_inline entity_name_tag_inline_any entity_name_tag_inline_any_html">b</span><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html">&gt;</span></span>Title<span class="meta meta_tag meta_tag_inline meta_tag_inline_any meta_tag_inline_any_html"><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html">&lt;/</span><span class="entity entity_name entity_name_tag entity_name_tag_inline entity_name_tag_inline_any entity_name_tag_inline_any_html">b</span><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html">&gt;&lt;</span><span class="entity entity_name entity_name_tag entity_name_tag_inline entity_name_tag_inline_any entity_name_tag_inline_any_html">br</span><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html"> /&gt;</span></span>
    <span class="source source_ruby source_ruby_rails source_ruby_rails_embedded source_ruby_rails_embedded_html"><span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">&lt;%=</span> f<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>text_field <span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>title</span> <span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">%&gt;</span></span>
  <span class="meta meta_tag meta_tag_block meta_tag_block_any meta_tag_block_any_html"><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html">&lt;/</span><span class="entity entity_name entity_name_tag entity_name_tag_block entity_name_tag_block_any entity_name_tag_block_any_html">p</span><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html">&gt;</span></span>

  <span class="meta meta_tag meta_tag_block meta_tag_block_any meta_tag_block_any_html"><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html">&lt;</span><span class="entity entity_name entity_name_tag entity_name_tag_block entity_name_tag_block_any entity_name_tag_block_any_html">p</span><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html">&gt;</span></span>
    <span class="meta meta_tag meta_tag_inline meta_tag_inline_any meta_tag_inline_any_html"><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html">&lt;</span><span class="entity entity_name entity_name_tag entity_name_tag_inline entity_name_tag_inline_any entity_name_tag_inline_any_html">b</span><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html">&gt;</span></span>Body<span class="meta meta_tag meta_tag_inline meta_tag_inline_any meta_tag_inline_any_html"><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html">&lt;/</span><span class="entity entity_name entity_name_tag entity_name_tag_inline entity_name_tag_inline_any entity_name_tag_inline_any_html">b</span><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html">&gt;&lt;</span><span class="entity entity_name entity_name_tag entity_name_tag_inline entity_name_tag_inline_any entity_name_tag_inline_any_html">br</span><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html"> /&gt;</span></span>
    <span class="source source_ruby source_ruby_rails source_ruby_rails_embedded source_ruby_rails_embedded_html"><span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">&lt;%=</span> f<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>text_area <span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>body</span> <span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">%&gt;</span></span>
  <span class="meta meta_tag meta_tag_block meta_tag_block_any meta_tag_block_any_html"><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html">&lt;/</span><span class="entity entity_name entity_name_tag entity_name_tag_block entity_name_tag_block_any entity_name_tag_block_any_html">p</span><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html">&gt;</span></span>

  <span class="meta meta_tag meta_tag_block meta_tag_block_any meta_tag_block_any_html"><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html">&lt;</span><span class="entity entity_name entity_name_tag entity_name_tag_block entity_name_tag_block_any entity_name_tag_block_any_html">p</span><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html">&gt;</span></span>
    <span class="source source_ruby source_ruby_rails source_ruby_rails_embedded source_ruby_rails_embedded_html"><span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">&lt;%=</span> f<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>submit <span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>Update<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span> <span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">%&gt;</span></span>
  <span class="meta meta_tag meta_tag_block meta_tag_block_any meta_tag_block_any_html"><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html">&lt;/</span><span class="entity entity_name entity_name_tag entity_name_tag_block entity_name_tag_block_any entity_name_tag_block_any_html">p</span><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html">&gt;</span></span>
<span class="source source_ruby source_ruby_rails source_ruby_rails_embedded source_ruby_rails_embedded_html"><span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">&lt;%</span> <span class="keyword keyword_control keyword_control_ruby">end</span> <span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">%&gt;</span></span></span></pre>


<p>Ok, agora vamos criar um segundo projeto e usar a versão <em>edge</em> do Rails. Lembra como faz? Não? Então assista ao <a href="http://www.nomedojogo.com/2008/01/02/screencast-3-edge-rails/">terceiro episódio</a> do screencast deste blog.</p>

<p>[PAUSA PARA ASSISTIR AO EPIS&Oacute;DIO]</p>

<p>Pronto? Beleza! Agora execute o mesmo comando acima (o primeiro código do post). Vamos pegar o mesmo arquivo e verificar como foi gerado o formulário de edição:</p>

<pre class="textmate-source"><span class="text text_html text_html_ruby"><span class="source source_ruby source_ruby_rails source_ruby_rails_embedded source_ruby_rails_embedded_html"><span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">&lt;%</span> form_for<span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">(</span><span class="variable variable_other variable_other_readwrite variable_other_readwrite_instance variable_other_readwrite_instance_ruby"><span class="punctuation punctuation_definition punctuation_definition_variable punctuation_definition_variable_ruby">@</span>post</span><span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">)</span> <span class="keyword keyword_control keyword_control_start-block keyword_control_start-block_ruby">do </span><span class="punctuation punctuation_separator punctuation_separator_variable punctuation_separator_variable_ruby">|</span><span class="variable variable_other variable_other_block variable_other_block_ruby">f</span><span class="punctuation punctuation_separator punctuation_separator_variable punctuation_separator_variable_ruby">|</span> <span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">%&gt;</span></span>
  <span class="meta meta_tag meta_tag_block meta_tag_block_any meta_tag_block_any_html"><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html">&lt;</span><span class="entity entity_name entity_name_tag entity_name_tag_block entity_name_tag_block_any entity_name_tag_block_any_html">p</span><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html">&gt;</span></span>
    <span class="source source_ruby source_ruby_rails source_ruby_rails_embedded source_ruby_rails_embedded_html"><span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">&lt;%=</span> f<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>label <span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>title</span> <span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">%&gt;</span></span><span class="meta meta_tag meta_tag_inline meta_tag_inline_any meta_tag_inline_any_html"><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html">&lt;</span><span class="entity entity_name entity_name_tag entity_name_tag_inline entity_name_tag_inline_any entity_name_tag_inline_any_html">br</span><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html"> /&gt;</span></span>
    <span class="source source_ruby source_ruby_rails source_ruby_rails_embedded source_ruby_rails_embedded_html"><span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">&lt;%=</span> f<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>text_field <span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>title</span> <span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">%&gt;</span></span>
  <span class="meta meta_tag meta_tag_block meta_tag_block_any meta_tag_block_any_html"><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html">&lt;/</span><span class="entity entity_name entity_name_tag entity_name_tag_block entity_name_tag_block_any entity_name_tag_block_any_html">p</span><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html">&gt;</span></span>
  <span class="meta meta_tag meta_tag_block meta_tag_block_any meta_tag_block_any_html"><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html">&lt;</span><span class="entity entity_name entity_name_tag entity_name_tag_block entity_name_tag_block_any entity_name_tag_block_any_html">p</span><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html">&gt;</span></span>
    <span class="source source_ruby source_ruby_rails source_ruby_rails_embedded source_ruby_rails_embedded_html"><span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">&lt;%=</span> f<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>label <span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>body</span> <span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">%&gt;</span></span><span class="meta meta_tag meta_tag_inline meta_tag_inline_any meta_tag_inline_any_html"><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html">&lt;</span><span class="entity entity_name entity_name_tag entity_name_tag_inline entity_name_tag_inline_any entity_name_tag_inline_any_html">br</span><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html"> /&gt;</span></span>
    <span class="source source_ruby source_ruby_rails source_ruby_rails_embedded source_ruby_rails_embedded_html"><span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">&lt;%=</span> f<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>text_area <span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>body</span> <span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">%&gt;</span></span>
  <span class="meta meta_tag meta_tag_block meta_tag_block_any meta_tag_block_any_html"><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html">&lt;/</span><span class="entity entity_name entity_name_tag entity_name_tag_block entity_name_tag_block_any entity_name_tag_block_any_html">p</span><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html">&gt;</span></span>
  <span class="meta meta_tag meta_tag_block meta_tag_block_any meta_tag_block_any_html"><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html">&lt;</span><span class="entity entity_name entity_name_tag entity_name_tag_block entity_name_tag_block_any entity_name_tag_block_any_html">p</span><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html">&gt;</span></span>
    <span class="source source_ruby source_ruby_rails source_ruby_rails_embedded source_ruby_rails_embedded_html"><span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">&lt;%=</span> f<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>submit <span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>Update<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span> <span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">%&gt;</span></span>
  <span class="meta meta_tag meta_tag_block meta_tag_block_any meta_tag_block_any_html"><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html">&lt;/</span><span class="entity entity_name entity_name_tag entity_name_tag_block entity_name_tag_block_any entity_name_tag_block_any_html">p</span><span class="punctuation punctuation_definition punctuation_definition_tag punctuation_definition_tag_html">&gt;</span></span>
<span class="source source_ruby source_ruby_rails source_ruby_rails_embedded source_ruby_rails_embedded_html"><span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">&lt;%</span> <span class="keyword keyword_control keyword_control_ruby">end</span> <span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">%&gt;</span></span></span></pre>


<p>Hmm&#8230; diferente! E agora faz muito mais sentido. Já que temos o método <strong>label</strong>, porque não usar?</p>

<h3>Apenas para ficar registrado, o que faz o método label?</h3>


<p>Essa é fácil, o método <strong>label</strong> retorna uma string com o título da coluna num formato legal para se colocar na página, por exemplo, se a coluna se chama &#8220;title&#8221;, ele retorna uma string com o texto &#8220;Title&#8221;, com o &#8220;t&#8221; em maiúsculo. Essa foi fácil, manda outra&#8230;</p>

<p>Espera aí. Não é isso não. A resposta está <font color="#ff0000"><strong>ERRADA</strong><font color="#000000">.</font></font></p>

<p>Na verdade o método <strong>label</strong> faz mais ou menos isso, mas ele não retorna uma string apenas com o nome da coluna, veja um exemplo:</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails"><span class="keyword keyword_operator keyword_operator_other keyword_operator_other_ruby">&gt;&gt;</span> f<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>label <span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>title</span>
<span class="punctuation punctuation_separator punctuation_separator_key-value">=&gt;</span> <span class="keyword keyword_operator keyword_operator_comparison keyword_operator_comparison_ruby">&lt;</span>label <span class="keyword keyword_control keyword_control_ruby">for</span><span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span><span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>post_title<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span><span class="keyword keyword_operator keyword_operator_comparison keyword_operator_comparison_ruby">&gt;</span><span class="variable variable_other variable_other_constant variable_other_constant_ruby">Title</span><span class="keyword keyword_operator keyword_operator_comparison keyword_operator_comparison_ruby">&lt;</span><span class="keyword keyword_operator keyword_operator_arithmetic keyword_operator_arithmetic_ruby">/</span>label<span class="keyword keyword_operator keyword_operator_comparison keyword_operator_comparison_ruby">&gt;</span>

<span class="keyword keyword_operator keyword_operator_other keyword_operator_other_ruby">&gt;&gt;</span> f<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>label <span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>title</span><span class="punctuation punctuation_separator punctuation_separator_object punctuation_separator_object_ruby">,</span> <span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>A short title<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span>
<span class="punctuation punctuation_separator punctuation_separator_key-value">=&gt;</span> <span class="keyword keyword_operator keyword_operator_comparison keyword_operator_comparison_ruby">&lt;</span>label <span class="keyword keyword_control keyword_control_ruby">for</span><span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span><span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>post_title<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span><span class="keyword keyword_operator keyword_operator_comparison keyword_operator_comparison_ruby">&gt;</span><span class="variable variable_other variable_other_constant variable_other_constant_ruby">A</span> short title<span class="keyword keyword_operator keyword_operator_comparison keyword_operator_comparison_ruby">&lt;</span><span class="keyword keyword_operator keyword_operator_arithmetic keyword_operator_arithmetic_ruby">/</span>label<span class="keyword keyword_operator keyword_operator_comparison keyword_operator_comparison_ruby">&gt;</span>

<span class="keyword keyword_operator keyword_operator_other keyword_operator_other_ruby">&gt;&gt;</span> label <span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>title</span><span class="punctuation punctuation_separator punctuation_separator_object punctuation_separator_object_ruby">,</span> <span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>A short title<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span><span class="punctuation punctuation_separator punctuation_separator_object punctuation_separator_object_ruby">,</span> <span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>class</span> <span class="punctuation punctuation_separator punctuation_separator_key-value">=&gt;</span> <span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>title_label<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span>
<span class="punctuation punctuation_separator punctuation_separator_key-value">=&gt;</span> <span class="keyword keyword_operator keyword_operator_comparison keyword_operator_comparison_ruby">&lt;</span>label <span class="keyword keyword_control keyword_control_ruby">for</span><span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span><span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>post_title<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span> <span class="keyword keyword_control keyword_control_ruby">class</span><span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span><span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>title_label<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span><span class="keyword keyword_operator keyword_operator_comparison keyword_operator_comparison_ruby">&gt;</span><span class="variable variable_other variable_other_constant variable_other_constant_ruby">A</span> short title<span class="keyword keyword_operator keyword_operator_comparison keyword_operator_comparison_ruby">&lt;</span><span class="keyword keyword_operator keyword_operator_arithmetic keyword_operator_arithmetic_ruby">/</span>label<span class="keyword keyword_operator keyword_operator_comparison keyword_operator_comparison_ruby">&gt;</span></span></pre>


<p>Ele retorna o nome do coluna, mas dentro de uma tag <strong>&lt;label&gt;</strong>.</p>

<h3>Que droga! Isto só vai sujar meu HTML</h3>


<p>Como é? Sujar seu HTML? Calma aí, vai me dizer que você não sabe para que serve a tag <strong>&lt;label&gt;</strong>? Aí aí, lá vamos nós outra vez&#8230;</p>

<p>Percebeu o par&acirc;metro &#8221;<strong>for</strong>&#8221; dentro da tag? O &#8220;post_title&#8221; é o nome da caixa de texto que contém o título do nosso post. Em outras palavras a tag <strong>&lt;label&gt;</strong> é na verdade um rótulo associado ao objeto post_title. Quando se clica no rótulo (ele não é um link, não confunda as coisas) o controle associado a ele recebe o foco.</p>

<h3>Legal&#8230; e para que eu vou querer isso?</h3>


<p><strong>Robby Russell</strong> escreveu um artigo interessante em seu blog sobre este assunto. <a href="http://www.robbyonrails.com/articles/2007/12/02/that-checkbox-needs-a-label">Clique aqui</a> para ler (está em inglês).</p>

<p>Se você sabe o mínimo necessário de inglês para trabalhar na área de programação, leia o artigo de Robby, é bem simples, mesmo que você saiba bem pouco de inglês. Mas se você não sabe nada (deveria se preocupar com isso) use rótulos nem que seja apenas para deixar os usuários do seu sistema mais felizes.</p>
</div>


    </article>
  
    
    









    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/2008/01/14/rails-podcast-brasil-1/">Rails Podcast Brasil #1</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2008-01-14T00:00:00-02:00" pubdate data-updated="true">14 de Janeiro de 2008</time>
        
        <a rel="bookmark" href="/2008/01/14/rails-podcast-brasil-1/"></a>
      </p>
    
  </header>



  <div class="entry-content"><p>Lembra-se quando eu disse que teríamos novidades no começo deste ano?</p>

<p>&Eacute; com muito orgulho que eu anuncio o lançamento do primeiro episódio do <span style="font-weight: bold">Rails Podcast Brasil</span>!</p>

<p>Este não é mais um podcast qualquer, é um podcast oficial que será publicado nas página do <a href="http://www.rubyonrails.com.br">site oficial</a> da comunidade Rails brasileira. Eu e o <a href="http://www.akitaonrails.com/">Fábio Akita</a> gravamos na madrugada de sexta para sábado um piloto do programa. O <a href="http://www.monteiro.eti.br/">Júlio Monteiro</a> (que aliás agora trabalha para a <a href="http://www.egenial.com.br/">e-genial</a>, do meu amigo e chara Carlos Eduardo), que já cuida muito bem do site, está criando todo o sistema para armazenar os podcasts. E em breve teremos uma página toda especial, do jeito que a comunidade merece. Por enquanto o Júlio apenas quebrou o galho, publicando o episódio em uma página estática.</p>

<p>Neste primeiro episódio você vai nos ouvir comentando sobre as noticias mais importantes da semana passada no mundo do Ruby on Rails. E uma boa discussão, com uma aula do Akita no final, sobre o polêmico post de Zed Shaw e o futuro do Mongrel.</p>

<p>Para ouvir o podcast, basta fazer o download no endereços: <a href="http://www.rubyonrails.com.br/podcasts">www.rubyonrails.com.br/podcast</a> ou <a href="http://www.rubyonrails.pro.br/podcasts">http://www.rubyonrails.pro.br/podcasts</a></p>

<p>Espero que vocês gostem, e comentem sobre o formato do programa. Todo tipo de critica é bem vinda. E lembre-se este primeiro episódio é apenas um piloto.</p>

<p>E aguardem que as novidades não acabaram ainda&#8230;</p>
</div>


    </article>
  
    
    









    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/2008/01/14/como-um-garoto-chamado-samy-pode-derrubar-seu-site/">Como um garoto chamado Samy pode derrubar seu site</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2008-01-14T00:00:00-02:00" pubdate data-updated="true">14 de Janeiro de 2008</time>
        
        <a rel="bookmark" href="/2008/01/14/como-um-garoto-chamado-samy-pode-derrubar-seu-site/"></a>
      </p>
    
  </header>



  <div class="entry-content"><p>Já reparou que quando um novo projeto Rails é criado o arquivo <code>application_controller.rb</code> fica dessa maneira?</p>

<figure class='code'><figcaption><span>application_controller.rb</span><a href='https://github.com/rails/rails/blob/master/railties/lib/rails/generators/rails/app/templates/app/controllers/application_controller.rb'>link</a></figcaption> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='rb'><span class='line'><span class="k">class</span> <span class="nc">ApplicationController</span> <span class="o">&lt;</span> <span class="no">ActionController</span><span class="o">::</span><span class="no">Base</span>
</span><span class='line'>  <span class="n">protect_from_forgery</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Hmm&#8230; <code>protect_from_forgery</code>? Para que diabos serve isto? Antes de explicar, me deixa contar uma história&#8230;</p>

<h2>Calma é uma história chata, mas é curta, e depois fica legal</h2>

<p>Já ouviu falar de <em>Cross Site Scripting</em>? Este é o nome de uma falha de segurança encontrada facilmente em grande parte dos websites e aplicações web que permite à pessoas maldosas, aqui estou me referindo à adolescentes sem nada para fazer e sem vida social, alterarem o conteúdo de páginas web, incluírem conteúdo hostil, executarem ataques de <a href="http://pt.wikipedia.org/wiki/Phishing">phishing</a>, obterem o controle do navegador através de códigos JavaScript e na maioria dos casos forçarem o usuário a executar algum comando que eles desejem. Este último tipo de ataque se chama <em>Cross Site Request Forgeries</em>.</p>

<p>O <strong>CSRF</strong> é um tipo de ataque que consiste em obrigar usuários legítimos a executarem uma série de comandos sem nem mesmo saberem disto. E com o aumento do uso de Ajax e JavaScript nos websites, a coisa tem ficado ainda pior. Já ouviu falar do <strong>Samy Worm</strong>?</p>

<h2>Samy é o meu herói</h2>

<p>Talvez você não o conheça, mas o MySpace.com conhece muito bem, na verdade conhece mais do que gostaria. Graças a uma falha de segurança em um código JavaScript, o tal do &#8220;Samy&#8221;, um garoto solitário e sem amigos (e por isso, um cara muito mal), descobriu uma forma nova de fazer amizades na internet. Ele conseguiu através de técnicas de <em>Cross Site Scripting</em> injetar um bloco de código (JavaScript) na sua página pessoal. Este código fez nada mais, nada menos que adicionar automaticamente como &#8220;amigo&#8221; no MySpace cada pessoa que entrasse na sua página. O mais interessante é que depois disso o código também era passado para a página do novo &#8220;amigo&#8221; e ainda incluía a frase &#8220;O Samy é meu herói&#8221; no perfil da pessoa. Em questão de poucas horas ele ser tornou o herói de mais de um milhão de pessoas e o grande amigão do MySpace. E provavelmente deve ter levado uma bela surra dos seus pais quando a policia chegou na sua casa.</p>

<p>Graças ao Samy, o MySpace caiu, os funcionários levaram uma boa ralada do chefe e sofreram durante alguns dias para se recuperarem dos danos.</p>

<h2>O que isso tem a ver com Rails?</h2>

<p>Tudo! O caso do MySpace foi algo bem simples, que se resolveu apagando o &#8220;Samy&#8221; do banco de dados. Mas com certeza você não gostaria de ter o Samy cadastrado em seu site, correto? O problema é que existem muitos Samys por aí&#8230;</p>

<h2>E a droga do método <code>protect_from_forgery</code>, para que serve???</h2>

<p>Calma! O método <code>protect_from_forgery</code> serve para te proteger do Samy!</p>

<p>Na verdade, este método serve para nos assegurar de que todos os formulários que sua aplicação está recebendo estão vindo dela mesma, e não de um link perdido de algum outro site. Ele consegue isto incluindo um token (se você não sabe o que é um token, <a href="http://pt.wikipedia.org/wiki/Token">clique aqui</a>) baseado na sessão em todos os formulários e requisições Ajax geradas pelo Rails, e depois verifica a autenticidade deste token no controller.</p>

<p>Há, eu já ia me esquecendo&#8230; requisições via GET não são protegidas. Mas isto não é um problema, afinal elas só devem ser usadas para nos trazer dados, e nós nunca as usamos para alterar ou gravar algo em nosso banco de dados, não é verdade? Não é verdade?</p>

<p>Se quiser aprender mais sobre CSRF use os links abaixo:</p>

<ul>
<li><a href="http://isc.sans.edu/diary.html?storyid=1750">http://isc.sans.edu/diary.html?storyid=1750</a></li>
<li><a href="http://en.wikipedia.org/wiki/Cross-site_request_forgery">http://en.wikipedia.org/wiki/Cross-site_request_forgery</a></li>
</ul>


<p>Mas lembre-se que isto NÃO é uma solução definitiva para nosso problema. Continuem espertos, e por favor deixem este método lá.</p>
</div>


    </article>
  
    
    









    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/2008/01/09/edge-rails-ruby-debug-e-cache-store/">Edge Rails: Facilitando as coisas para o ruby-debug e cache store</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2008-01-09T00:00:00-02:00" pubdate data-updated="true"> 9 de Janeiro de 2008</time>
        
        <a rel="bookmark" href="/2008/01/09/edge-rails-ruby-debug-e-cache-store/"></a>
      </p>
    
  </header>



  <div class="entry-content"><p>Duas simples alterações para a próxima versão do Rails. Uma no arquivo <a href="http://dev.rubyonrails.org/browser/trunk/railties/environments/production.rb?rev=8612">environments/production.rb</a> e outra no <a href="http://dev.rubyonrails.org/browser/trunk/railties/lib/test_help.rb?rev=8613">lib/test_help.rb</a>. Vamos a elas:</p>

<h3>Debugger nos testes</h3>


<p>David habilitou novamente a opção de usar o <a href="https://rubyforge.org/projects/ruby-debug/">ruby-debug</a> nos testes do Rails.
Se antes você desejasse usá-lo nos testes seria necessário incluir um <span style="font-weight: bold;">require &#8216;ruby-debug&#8217;</span> na classe e logo em seguida usar o método <span style="font-weight: bold;">debugger</span> no local desejado. Agora só se preocupe com o método <span style="font-weight: bold;">debugger</span>, o resto é nativo, desde que você já tenha o <span style="font-style: italic;">gem</span> instalado.</p>

<h3>Usando diferentes locais para armazenar cache</h3>


<p>No <a href="http://www.nomedojogo.com/2008/01/05/edge-rails-cache-e-prototype-1601/">último post</a> desta série eu mencionei sobre a adição do <span style="font-weight: bold;">config.cache_store</span> para informar o local padrão de armazenamento do cache. Agora para facilitar as coisas, foi incluído o comentário abaixo no arquivo <a href="http://dev.rubyonrails.org/browser/trunk/railties/environments/production.rb?rev=8612">environments/production.rb</a>, afim de lembrá-lo desta opção.</p>

<pre># Use a different cache store in production
# config.cache_store = :mem_cache_store</pre>

</div>


    </article>
  
    
    









    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/2008/01/08/o-declinio-de-zed-shaw/">O declínio de Zed Shaw?</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2008-01-08T00:00:00-02:00" pubdate data-updated="true"> 8 de Janeiro de 2008</time>
        
        <a rel="bookmark" href="/2008/01/08/o-declinio-de-zed-shaw/"></a>
      </p>
    
  </header>



  <div class="entry-content"><p><img src="http://old.nomedojogo.com/wp-content/uploads/2008/01/picture-1.jpg" alt="picture-1.jpg" /></p>

<p>Durante muito tempo (eu nem tenho idéia de quanto) Zed foi o primeiro nome na <a href="http://workingwithrails.com/browse/popular/people">lista de recomendações</a> do <a href="http://workingwithrails.com/">Working With Rails</a>, na frente até mesmo de David Hansson.</p>

<p>Mas parece que David finalmente passou Zed, ou será que algumas pessoas estão deixando de recomendá-lo? O interessante é que mesmo em segundo lugar, a diferença dele para o terceiro ainda é muito grande.</p>

<p>Será que isto é devido ao <a href="Será que isto é devido ao polêmico post de Zed?">polêmico post</a> de Zed?</p>

<p>&Eacute; um post babaca, eu sei, mas acho que vale como curiosidade.</p>

<p>Alias, o Zed mudou o layout do seu site, ficou bacana.</p>
</div>


    </article>
  
    
    









    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/2008/01/06/episodio-4-group-by/">Episódio 4: Group By</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2008-01-06T00:00:00-02:00" pubdate data-updated="true"> 6 de Janeiro de 2008</time>
        
        <a rel="bookmark" href="/2008/01/06/episodio-4-group-by/"></a>
      </p>
    
  </header>



  <div class="entry-content"><p><img src="http://old.nomedojogo.com/wp-content/uploads/2008/01/1425536855_58df8c2688.jpg" alt="1425536855_58df8c2688.jpg" /></p>

<p>Mais um <strong>videopodcast</strong> do <strong>Nome do Jogo</strong>. Neste vídeo você verá como agrupar resultados de uma pesquisa no banco de dados de uma forma simples e prática aprimorando a exibição de suas informações.</p>

<p>Também quero lembrar que todos os comentários são muito bem-vindos. Também não deixe de falar se tem algum assunto que você gostaria de ver nestes vídeos.</p>

<p>E aguardem, que em breve eu vou trazer uma novidade&#8230;</p>

<p>Como sempre, para assistir ao vídeo use os links abaixo e para assinar o feed <a href="http://feeds.feedburner.com/nomedojogo/podcast">clique aqui</a>.</p>
</div>


    </article>
  
    
    









    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/2008/01/05/edge-rails-cache-e-prototype-1601/">Edge Rails: Cache e Prototype 1.6.0.1</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2008-01-05T00:00:00-02:00" pubdate data-updated="true"> 5 de Janeiro de 2008</time>
        
        <a rel="bookmark" href="/2008/01/05/edge-rails-cache-e-prototype-1601/"></a>
      </p>
    
  </header>



  <div class="entry-content"><p><img src="http://old.nomedojogo.com/wp-content/uploads/2008/01/375147944_49f541ad21.jpg" alt="375147944_49f541ad21.jpg" /></p>

<p>O time de desenvolvimento do Rails continua forte nas alterações para torná-lo compatível com o <strong>Ruby 1.9</strong>, mas isto não significa que o resto será deixado de lado. Como vocês verão nas alterações relacionadas abaixo muita coisa está sendo feita para melhorar o sistema de cache e também o código como um todo. Vamos as últimas alterações:</p>

<h3>Code refactoring</h3>


<p>Foi feito um refactoring no <a href="http://dev.rubyonrails.org/browser/trunk/actionpack/lib/action_controller/verification.rb?rev=8543">ActionController::Verification</a> e aproveitaram para melhorar a documentação.</p>

<h3>Cache</h3>


<p>David também aproveitou para mudar algumas coisas nas classes de cache.</p>

<p>Todos os métodos <strong>fragment_cache_key</strong> agora retornam por padrão o namespace &#39;view/&#39; na frente.</p>

<p>Todos os <em>caching stores</em> foram retirados de <strong>ActionController::Caching::Fragments::<em></strong> e agora estão em <strong>ActiveSupport::Cache::</em></strong>. Neste caso se você faz referência a um <em>store</em>, como <strong>ActionController::Caching::Fragments::MemoryStore</strong>, por exemplo, será necessário alterar sua referência para <strong>ActiveSupport::Cache::MemoryStore</strong>.</p>

<p><strong>ActionController::Base.fragment_cache_store</strong> deixa de existir e dá lugar à <strong>ActionController::Base.cache_store</strong>.</p>

<p>Foi incluído no <strong>ActiveRecord::Base</strong> o método <strong>cache_key</strong> para facilitar o armazenamento em cache de Active Records pelas novas bibliotecas <strong>ActiveSupport::Cache::*</strong>. Este método funciona assim:</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails"><span class="keyword keyword_operator keyword_operator_other keyword_operator_other_ruby">&gt;&gt;</span> <span class="support support_class support_class_ruby">Product</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span><span class="keyword keyword_other keyword_other_special-method keyword_other_special-method_ruby">new</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>cache_key
<span class="punctuation punctuation_separator punctuation_separator_key-value">=&gt;</span> <span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>products/new<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span>
<span class="keyword keyword_operator keyword_operator_other keyword_operator_other_ruby">&gt;&gt;</span> <span class="support support_class support_class_ruby">Product</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>find<span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">(</span><span class="constant constant_numeric constant_numeric_ruby">5</span><span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">)</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>cache_key
<span class="punctuation punctuation_separator punctuation_separator_key-value">=&gt;</span> <span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>products/5<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span>
<span class="keyword keyword_operator keyword_operator_other keyword_operator_other_ruby">&gt;&gt;</span><span class="support support_class support_class_ruby">Person</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>find<span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">(</span><span class="constant constant_numeric constant_numeric_ruby">5</span><span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">)</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>cache_key
<span class="punctuation punctuation_separator punctuation_separator_key-value">=&gt;</span> <span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>people/5-20071224150000<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span></span></pre>


<p>Foi incluído o <strong>ActiveSupport::Gzip.decompress/compress</strong> para facilitar o <em>wrapper</em> para o <em>Zlib</em>.</p>

<p>Agora você pode usar entre as opções de <em>environment</em> o <strong>config.cache_store</strong> para informar o local padrão de armazenamento do cache. Vale lembrar que se o diretório tmp/cache existir o padrão é o <strong>FileStore</strong>, caso contrário o <strong>MemoryStore</strong> é usado. Você pode configurar das seguintes formas:</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails">config<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>cache_store <span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span> <span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>memory_store</span>
config<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>cache_store <span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span> <span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>file_store</span><span class="punctuation punctuation_separator punctuation_separator_object punctuation_separator_object_ruby">,</span> <span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>/path/to/cache/directory<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span>
config<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>cache_store <span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span> <span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>drb_store</span><span class="punctuation punctuation_separator punctuation_separator_object punctuation_separator_object_ruby">,</span> <span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>druby://localhost:9192<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span>
config<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>cache_store <span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span> <span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>mem_cache_store</span><span class="punctuation punctuation_separator punctuation_separator_object punctuation_separator_object_ruby">,</span> <span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>localhost<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span>
config<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>cache_store <span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span> <span class="support support_class support_class_ruby">MyOwnStore</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span><span class="keyword keyword_other keyword_other_special-method keyword_other_special-method_ruby">new</span><span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">(</span><span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>parameter<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span><span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">)</span></span></pre>


<h3>Prototype e script.aculo.us</h3>


<p>O Rails passa a usar a partir de agora a versão <em>1.6.0.1 do Prototype</em>. Isto serve como um preparatório para a versão <em>1.8.1 do script.aculo.us</em>.</p>
</div>


    </article>
  
    
    









    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/2008/01/04/rails-ou-django/">Rails ou Django?</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2008-01-04T00:00:00-02:00" pubdate data-updated="true"> 4 de Janeiro de 2008</time>
        
        <a rel="bookmark" href="/2008/01/04/rails-ou-django/"></a>
      </p>
    
  </header>



  <div class="entry-content"><p><img src="http://old.nomedojogo.com/wp-content/uploads/2008/01/164576023_462ad17de8.jpg" alt="164576023_462ad17de8.jpg" /></p>

<p>Comparações entre frameworks e linguagens de programação sempre geram <a href="http://pt.wikipedia.org/wiki/Flaming">flame wars</a> e isto é simplesmente inevitável, afinal de contas é puramente uma questão de gosto.</p>

<p>Mas a maioria de nós Railers temos nossos pés no chão e sabemos que cedo ou tarde teremos um novo framework ou linguagem que se mostrará mais interessante que o Ruby ou o Rails, e estaremos prontos para mudar se for necessário. Mas no momento, pelo menos na minha opinião, não existe nada comparado ao Rails. Existem diversos frameworks que me chamam a atenção mas nenhum deles ainda me convenceu.</p>

<p>A questão é como discutir sobre as diferenças entre frameworks sem entrar em uma guerra? &Eacute; simplesmente impossível. Então o melhor a se fazer é estudar por si só cada framework ou linguagem de programação que apareça até encontrar algo que lhe agrade, e enquanto isto não acontecer continue onde está.</p>

<p>Conheço alguns Railers que estão indo para o Django e alguns que assim como eu preferiram ficar no Rails. Mas afinal de contas qual dos dois é melhor? Depende de você e de sua preferência.</p>

<p>Estudando sobre o Django eu encontrei um documento bem interessante que compara as duas ferramentas de um ponto de vista bem neutro. Se quiser conferir <a href="http://www.vaporbase.com/rails-django">clique aqui</a>.</p>

<p>O segredo é sempre se manter atualizado com tudo que aparece. Nunca se sabe o que vem por aí&#8230;</p>

<p>Há, e recentemente o <a href="http://akitaonrails.com/">Fábio Akita</a> também entrevistou <a href="http://www.holovaty.com/">Adrian Holovaty</a> o criador do Django, vale a pena conferir a <a href="http://akitaonrails.com/2008/1/1/conversando-com-adrian-holovaty">entrevista</a>.</p>
</div>


    </article>
  
    
    









    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/2008/01/03/ganhe-um-ipod-touch-do-%25e2%2580%259cworking-with-rails%25e2%2580%259d/">Ganhe um iPod Touch do &#8220;Working With Rails&#8221;</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2008-01-03T00:00:00-02:00" pubdate data-updated="true"> 3 de Janeiro de 2008</time>
        
        <a rel="bookmark" href="/2008/01/03/ganhe-um-ipod-touch-do-%25e2%2580%259cworking-with-rails%25e2%2580%259d/"></a>
      </p>
    
  </header>



  <div class="entry-content"><p><img src="http://old.nomedojogo.com/wp-content/uploads/2008/01/1425520052_5c711d2e50.jpg" alt="1425520052_5c711d2e50.jpg" /></p>

<p>O site com a maior concentração de Railers do mundo está quase atingindo a marca de 10.000 usuários cadastrados. Até agora já são mais de 9.600 usuários.</p>

<p>E para comemorar este feito, o <a href="http://www.workingwithrails.com/home/winipod">WWR</a> vai <strike>sortear</strike> dar um iPod Touch <strike>entre os</strike> para o 10.000Â° usuário a se cadastrar <strike>primeiros cadastrados</strike> no site. Se você ainda não se cadastrou, está <a href="http://www.workingwithrails.com/person/new">esperando o que</a>?</p>

<p>E como não eu não podia deixar de falar, quando se cadastrar, não esqueça de <a href="http://workingwithrails.com/recommendation/new/person/8137-carlos-brando">me recomendar</a>.</p>

<h4>[Atualizado: 04/01/2008 11:01]</h4>


<p>Quem ganha na verdade é o 10.000Â° usuário cadastrado. Não é um sorteio, como o Daniel Luz alertou.</p>
</div>


    </article>
  
    
    









    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/2008/01/03/edge-rails-titleize-increment-e-dry/">Edge Rails: Titleize, increment e DRY</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2008-01-03T00:00:00-02:00" pubdate data-updated="true"> 3 de Janeiro de 2008</time>
        
        <a rel="bookmark" href="/2008/01/03/edge-rails-titleize-increment-e-dry/"></a>
      </p>
    
  </header>



  <div class="entry-content"><p><img src="http://old.nomedojogo.com/wp-content/uploads/2008/01/92697433_aa5c016a77.jpg" alt="92697433_aa5c016a77.jpg" /></p>

<p>David acabou de publicar algumas alterações no trunk do Rails. Vamos a elas:</p>

<h3>Rails:update</h3>


<p>A partir de agora toda vez que rodarmos a tarefa &#39;<strong>rake rails:freeze:edge</strong>&#39; também será executado o &#39;<strong>rails:update</strong>&#39;, atualizando os arquivos de configuração e JavaScript. Esta é uma alteração simples mas importante, porque na maioria das vezes que congelamos uma versão do Rails em nosso projeto, precisamos rodar um &#39;<strong>rake rails:update</strong>&#39;, mas muita gente se esquece disso. Agora não será mais necessário.</p>

<h3>Titleize</h3>


<p>Existe um bug no método <strong>String#titleize</strong> quando tentamos usá-lo em uma string que contenha o <em><strong>&#39;s</strong></em>. Faça um teste no console de sua aplicação Rails executando o código abaixo:</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails"><span class="keyword keyword_operator keyword_operator_other keyword_operator_other_ruby">&gt;&gt;</span> <span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>brando's blog<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>titleize
<span class="punctuation punctuation_separator punctuation_separator_key-value">=&gt;</span> <span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>Brando'S Blog<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span></span></pre>


<p>Notou que o <em><strong>&#39;s</strong></em> retornou maiúsculo? Este problema foi corrigido. Se você executar o mesmo código na versão Edge do Rails, o retorno será o texto correto: &quot;Brando&#39;s Blog&quot;.</p>

<h3>Increment e decrement</h3>


<p>Os métodos <strong>increment</strong>, <strong>increment!</strong>, <strong>decrement</strong> e <strong>decrement!</strong> do <em><strong>ActiveRecord</strong></em> receberam mais um par&acirc;metro como opcional. Hoje você pode usar estes métodos para aumentar ou diminuir o valor de uma coluna em 1 (um). Mas a partir da próxima versão do Rails você poderá especificar o valor a ser adicionado ou subtraído se desejar. Assim:</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails">player1<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>increment!<span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">(</span><span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>points</span><span class="punctuation punctuation_separator punctuation_separator_object punctuation_separator_object_ruby">,</span> <span class="constant constant_numeric constant_numeric_ruby">5</span><span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">)</span>
player2<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>decrement!<span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">(</span><span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>points</span><span class="punctuation punctuation_separator punctuation_separator_object punctuation_separator_object_ruby">,</span> <span class="constant constant_numeric constant_numeric_ruby">2</span><span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">)</span></span></pre>


<p>No exemplo acima estou somando 5 à pontuação atual do jogador 1 e subtraindo 2 da pontuação atual do jogador 2. Como este par&acirc;metro é opcional, os seus códigos antigos não serão afetados.</p>

<h3>127.0.0.1 e DRY</h3>


<p>Em um <a href="http://www.nomedojogo.com/2007/12/16/edge-rails-%e2%80%93-ruby-19-seguranca-e-muito-zelo/">post antigo</a> eu mencionei que o arquivo <a href="http://dev.rubyonrails.org/browser/trunk/railties/lib/tasks/databases.rake?rev=8388">databases.rake</a> havia sido alterado para suportar o <strong>IP 127.0.0.1</strong> na tarefa <em><strong>create</strong></em>. Agora isto foi estendido para a tarefa <em><strong>drop</strong></em> e o arquivo recebeu um <em>refactory</em> para tornar o código menos repetitivo.</p>

<h4>Referências:</h4>


<ul>
    <li><a href="http://dev.rubyonrails.org/ticket/10565">Change rails:freeze:edge to call rails:update automatically</a></li>
    <li><a href="http://dev.rubyonrails.org/ticket/10571">Titleize doesn&#8217;t work correctly on &#8220;alex&#8217;s beer&#8221;</a></li>
    <li><a href="http://dev.rubyonrails.org/ticket/10542">Add optional by parameter to AR increment/decrement</a></li>
    <li><a href="http://dev.rubyonrails.org/ticket/10539">Add 127.0.0.1 to drop and refactor</a></li>
</ul>

</div>


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/page/59/">&larr; Antigos</a>
    
    <a href="/blog/archives">Arquivo</a>
    
    <a class="next" href="/page/57/">Novos &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Artigos Recentes</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2012/04/05/heroku-add-ons-catalog/">Heroku Add-ons Catalog</a>
      </li>
    
      <li class="post">
        <a href="/2012/04/04/cldwalker-slash-debugger-github/">Finalmente um debug para o Ruby 1.9.3</a>
      </li>
    
      <li class="post">
        <a href="/2012/02/08/cinco-anos-de-nome-do-jogo/">Cinco anos de Nome do Jogo</a>
      </li>
    
      <li class="post">
        <a href="/2012/01/31/mudancas-no-ruby-inside-brasil/">Mudanças no Ruby Inside Brasil</a>
      </li>
    
      <li class="post">
        <a href="/2011/11/07/ruby-em-todos-os-lugares-e-dispositivos/">Ruby em todos os lugares e dispositivos</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Atualizando&#8230;</li>
  </ul>
  
  <a href="https://github.com/carlosbrando">@carlosbrando</a> no GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'carlosbrando',
            count: 4,
            skip_forks: false,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Últimos Tweets</h1>
  <ul id="tweets">
    <li class="loading">Atualizando&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("carlosbrando", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/carlosbrando" class="twitter-follow-button" data-show-count="false">Siga @carlosbrando</a>
  
</section>


<section>
  <h1>Bookmarks</h1>
  <div id="delicious"></div>
  <script type="text/javascript" src="http://feeds.delicious.com/v2/json/cbrando?count=3&amp;sort=date&amp;callback=renderDeliciousLinks"></script>
  <p><a href="http://delicious.com/cbrando">Meus Bookmarks &raquo;</a></p>
</section>


<section class="googleplus googleplus-hidden">
  <h1>
    <a href="https://plus.google.com/109235566448786781079?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>

      </div>
    </div>
  </section>
  
  <!-- <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Carlos Brando -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer> -->
  

<script type="text/javascript">
      var disqus_shortname = 'carlosbrando';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
