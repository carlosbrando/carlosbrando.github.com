
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Nome do Jogo</title>
  <meta name="author" content="Carlos Brando">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  

  <link rel="canonical" href="http://nomedojogo.com/page/30/index.html"/>
  <link href="/favicon.png" rel="shortcut icon" />
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="http://s3.amazonaws.com/ender-js/jeesh.min.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="http://feeds2.feedburner.com/NomeDoJogo" rel="alternate" title="Nome do Jogo" type="application/atom+xml"/>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-1249636-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


  
  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>


  
  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>

</head>

<body  >
  <header><hgroup>
  <h1><a href="/">Nome do Jogo</a></h1>
  
    <h2>por Carlos Brando</h2>
  
</hgroup>

</header>
  <nav role=navigation><ul role=subscription data-subscription="rss">
  <li><a href="http://feeds2.feedburner.com/NomeDoJogo" rel="subscribe-rss" title="assine via RSS">RSS</a></li>
  
</ul>
<form action="http://google.com/search" method="get">
  <fieldset role="site-search">
    <input type="hidden" name="q" value="site:nomedojogo.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Pesquisar"/>
  </fieldset>
</form>
<ul role=main-navigation>
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Arquivo</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">



  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2008/08/08/edge-rails-desabilitando-o-cabecalho-accept-em-requisicoes-http/">Edge Rails: Desabilitando o cabeçalho Accept em requisições HTTP</a></h1>
    
    
      <p class="meta">




<time datetime="2008-08-08 00:00:00 -0300" pubdate  updated > 8 de Agosto de 2008</time>


</p>
    
  </header>


  <div class="entry-content"><p>Quando usamos o método <strong>respond_to</strong> para fazer algo assim:</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails"><span class="meta meta_function meta_function_method meta_function_method_without-arguments meta_function_method_without-arguments_ruby"><span class="keyword keyword_control keyword_control_def keyword_control_def_ruby">def</span> <span class="entity entity_name entity_name_function entity_name_function_ruby">index</span></span>
  <span class="variable variable_other variable_other_readwrite variable_other_readwrite_instance variable_other_readwrite_instance_ruby"><span class="punctuation punctuation_definition punctuation_definition_variable punctuation_definition_variable_ruby">@</span>people</span> <span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span> <span class="support support_class support_class_ruby">Person</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>find<span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">(</span><span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>all</span><span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">)</span>

  <span class="support support_function support_function_actionpack support_function_actionpack_rails">respond_to</span> <span class="keyword keyword_control keyword_control_start-block keyword_control_start-block_ruby">do </span><span class="punctuation punctuation_separator punctuation_separator_variable punctuation_separator_variable_ruby">|</span><span class="variable variable_other variable_other_block variable_other_block_ruby">format</span><span class="punctuation punctuation_separator punctuation_separator_variable punctuation_separator_variable_ruby">|</span>
    format<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>html
    format<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>xml <span class="punctuation punctuation_section punctuation_section_scope punctuation_section_scope_ruby">{</span><span class="meta meta_syntax meta_syntax_ruby meta_syntax_ruby_start-block"> </span><span class="support support_function support_function_actionpack support_function_actionpack_rails">render</span> <span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>xml</span> <span class="punctuation punctuation_separator punctuation_separator_key-value">=&gt;</span> <span class="variable variable_other variable_other_readwrite variable_other_readwrite_instance variable_other_readwrite_instance_ruby"><span class="punctuation punctuation_definition punctuation_definition_variable punctuation_definition_variable_ruby">@</span>people</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>to_xml <span class="punctuation punctuation_section punctuation_section_scope punctuation_section_scope_ruby">}</span>
  <span class="keyword keyword_control keyword_control_ruby">end</span>
<span class="keyword keyword_control keyword_control_ruby">end</span>
</span></pre>


<p>O Rails tem duas formas de identificar qual é o formato que deve ser usado, a primeira e mais comum é através do formato informado na URL (/index.<strong>xml</strong>, por exemplo) e a segunda forma para o caso de o formato não ter sido especificado é examinando o cabeçalho <strong>Accept</strong> da requisição HTTP.</p>

<p>Para quem não sabe o cabeçalho <strong>Accept</strong> é aquele que informa o tipo do documento desejado em strings mais ou menos assim:</p>

<p><code>Accept: text/plain, text/html
Accept: text/x-dvi; q=.8; mxb=100000; mxt=5.0, text/x-c</code></p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails"><span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> recuperando esta informação via código
</span><span class="variable variable_other variable_other_readwrite variable_other_readwrite_instance variable_other_readwrite_instance_ruby"><span class="punctuation punctuation_definition punctuation_definition_variable punctuation_definition_variable_ruby">@</span>request</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>env<span class="punctuation punctuation_section punctuation_section_array punctuation_section_array_ruby">[</span><span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>HTTP_ACCEPT<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span><span class="punctuation punctuation_section punctuation_section_array punctuation_section_array_ruby">]</span> <span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span> <span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>text/javascript<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span></span></pre>


<p><a href="http://www.developershome.com/wap/detection/detection.asp?page=httpHeaders">Aqui</a> você pode ver uma lista dos tipos mais comuns.</p>

<p>Acontece que este cabeçalho é porcamente implementado na maioria dos browsers. E quando ele é usado em sites públicos algumas vezes estranhos erros acontecem quando robôs indexadores fazem seus <strong>requests</strong>.</p>

<p>Assim, tomou-se a decisão de desativar este cabeçalho por padrão, depois voltou-se atrás e resolveu-se que era melhor deixar apenas a opção de desligar se desejado. Para isto basta incluir a seguinte linha no arquivo <strong>environment.rb</strong>:</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails">config<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>action_controller<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>use_accept_header <span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span> <span class="constant constant_language constant_language_ruby">false</span></span></pre>


<p>Quando desligado, caso o formato não seja informado na URL o Rails assumirá que deve usar o <strong>format.html</strong>.</p>

<p>Existe um caso especial quando fazemos requisições usando ajax se o cabeçalho <strong>X-Requested-With</strong> estiver presente. Neste caso o formato <strong>format.js</strong> ainda será usado mesmo que o formato não tenha sido especificado (/people/1, por exemplo).</p>
</div>
  
  


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2008/08/06/the-big-bang-theory/">The Big Bang Theory</a></h1>
    
    
      <p class="meta">




<time datetime="2008-08-06 00:00:00 -0300" pubdate  updated > 6 de Agosto de 2008</time>


</p>
    
  </header>


  <div class="entry-content"><p><img class="alignnone size-full wp-image-1034" title="2271998567_72f1f35306" src="http://old.nomedojogo.com/wp-content/uploads/2008/08/2271998567_72f1f35306.jpg" alt="" /></p>

<p>Tentei assistir este seriado tempos atrás, mas nunca consegui porque minha esposa simplesmente não achava a menor graça <em>cof</em> não entendia as piadas <em>cof</em> e por isto sempre acabávamos assistindo outra coisa.</p>

<p>Fica claro então que este é um seriado 100% nerd e que eu teria de assistir sozinho, como um bom nerd que sou.</p>

<p>Aproveitei que minha esposa está viajando esta semana e estou sozinho em casa e preparei uma maratona para saciar minha sede de conteúdo nerd, coisa que infelizmente só consigo fazer nestas ocasiões.</p>

<p>A série é um sitcom que conta a história de uma turma de nerds super espertos, que tentam se dar bem socialmente. Mas a grande graça da série vem do alto número de referencias a cultura pop e piadas que somente um nerd de carteirinha conseguiria entender.</p>

<p>Terminei minha maratona exatamente agora. No total foram 17 episódios regados a refrigerante, pizza e muita risada. Recomendado.</p>

<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="425" height="344" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"><param name="allowFullScreen" value="true" /><param name="src" value="http://www.youtube.com/v/9eTUz61LNjo&amp;hl=en&amp;fs=1" /><embed type="application/x-shockwave-flash" width="425" height="344" src="http://www.youtube.com/v/9eTUz61LNjo&amp;hl=en&amp;fs=1" allowfullscreen="true"></embed></object>

</div>
  
  


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2008/08/06/rails-podcast-brasil-episodio-26/">Rails Podcast Brasil - Episódio 26</a></h1>
    
    
      <p class="meta">




<time datetime="2008-08-06 00:00:00 -0300" pubdate  updated > 6 de Agosto de 2008</time>


</p>
    
  </header>


  <div class="entry-content"><p><img class="alignnone size-full wp-image-1043" title="552926523_9fb50d67e2" src="http://old.nomedojogo.com/wp-content/uploads/2008/08/552926523_9fb50d67e2.jpg" alt="" /></p>

<p>Episódio novo gravado às 2 da manhõ de hoje!</p>

<p>Pergunta: Você acha o Rails Podcast Brasil grande demais? Na sua opinião ele deveria ser menor? O que você acharia se um episódio fosse dividido em pedaços de 15 minutos (3 arquivos para fechar um episódio de 45 minutos)? Algumas pessoas estão reclamando do tempo de duração do podcast, mas achei melhor levar esta dúvida para vocês. Comentem por favor&#8230;</p>

<p>Neste episódio falamos mais um pouco sobre os preparativos para o Rails Summit Latin America, falamos sobre a nova onda de procurar emprego com blogs, comentamos sobre o Prawn que parece ser a nova alternativa para gerar PDF a partir de código Ruby. Além disso também falamos de novos projetos como o HTTParty, a revista &#8220;The Rubyist&#8221;, novos livros, Rails no Windows e para fechar nossa opinião sobre Erlang.</p>

<p>Para baixar o episódio <a href="http://download.podcast.rubyonrails.pro.br/RailsPodcastBrasil_026.mp3">clique aqui</a>.</p>

<p>Para fazer isto automaticamente via iTunes (e similares) use este endereço: <a href="http://podcast.rubyonrails.pro.br/rss">http://podcast.rubyonrails.pro.br/rss</a></p>

<h3>Neste episódio</h3>


<ul>
    <li><a href="http://www.akitaonrails.com/2008/8/1/largada-para-o-maior-evento-de-rails-da-am-rica-latina">Largada Para O Maior Evento De Rails Da América Latina!</a></li>
    <li><a href="http://www.akitaonrails.com/2008/8/5/ruby-on-rails-em-produ-o-na-locaweb">Ruby on Rails na Locaweb!</a></li>
    <li><a href="http://blog.egenial.com.br/?p=164">Novidades Treina TOM, FREE</a></li>
    <li><a href="http://blog.brasigo.com.br/2008/07/17/no-ar-brasigo-beta/">No ar, Brasigo beta :)</a></li>
    <li><a href="http://www.akitaonrails.com/2008/8/4/brazilian-open-source-rails-projects">Brazilian Open Source Rails Projects</a></li>
    <li><a href="http://mergulhao.info/2008/7/31/procuro-empresa-para-me-contratar">Dr Nic for hire e Sylvestre Mergulhão</a></li>
    <li><a href="http://www.railsinside.com/elsewhere/62-open-source-rails-app-repository.html">Open Source Rails: An Index of Open Sourced Rails Apps</a></li>
    <li><a href="http://www.rubyinside.com/prawn-ruby-pdf-library-987.html">Prawn: The Pure Ruby PDF Generation Library</a></li>
    <li><a href="http://www.rubyinside.com/httparty-web-api-rest-service-consumption-from-ruby-class-981.html">HTTParty: Quick Web Service Consumption From Any Ruby Class</a></li>
    <li><a href="http://peepcode.com/products/rails-on-facebook">Rails on Facebook</a></li>
    <li><a href="http://rubylearning.com/blog/2008/07/31/best-of-rubylearning-posts-for-ruby-beginners/">Best of RubyLearning Posts for Ruby Beginners</a></li>
    <li><a href="http://www.rubyinside.com/the-rubyist-magazine-first-issue-released-983.html">&#8220;The Rubyist&#8221; Ruby Magazine Launches</a></li>
    <li><a href="http://blog.hungrymachine.com/2008/8/6/ruby-and-multi-threaded-mysql-mri-vs-jruby-jdbc-vs-dataobjects-mysql">MRI Ruby + MySQL + Threads == Stop the worldÂ JRuby doesnÂt</a></li>
    <li><a href="http://antoniocangiano.com/2008/08/05/ruby-on-rails-for-microsoft-developers-available-for-pre-order/">Ruby on Rails for Microsoft Developers available for pre-order on Amazon.com</a></li>
    <li><a href="http://www.akitaonrails.com/2008/7/29/testando-rails-no-iis-6-com-fastcgi">Testando Rails No IIS 6 Com FastCGI</a></li>
    <li><a href="http://www.sapphiresteel.com/The-Little-Book-Of-Ruby-in">The Little Book Of Ruby Â in Brazilian Portuguese</a></li>
    <li><a href="http://www.codethinked.com/category/IronRuby-via-C-Series.aspx">Learning Ruby via IronRuby and C# Part 6</a></li>
    <li><a href="http://www.wagnerandrade.com/blog/2008/08/textmate-theme-github/">Textmate Theme: Github</a></li>
    <li><a href="http://github.com/blog/128-let-there-be-renaming">Let There Be Renaming</a></li>
    <li><a href="http://blogs.sun.com/arungupta/entry/jruby_on_glassfish_v2_screencast">JRuby on GlassFish v2 Â screencast from community</a></li>
    <li><a href="http://blog.areacriacoes.com.br/2008/7/30/rails-mate-nova-vers-o">Rails Mate nova versão</a></li>
    <li><a href="http://railspikes.com/2008/7/29/functional-loops-in-ruby-each-map-inject-select-and-for">Functional programming and looping</a></li>
    <li><a href="http://simplesideias.com.br/textmate-cheat-sheet/">Textmate cheat sheet</a></li>
    <li><a href="http://alexbartlow.net/2008/07/actsasencrypted.html">acts<em>as</em>encrypted</a></li>
    <li><a href="http://rubypond.com/articles/2008/07/16/sexy-forms-in-rails/">Sexy Forms in Rails</a></li>
    <li><a href="http://blog.mmediasys.com/2008/08/04/problems-with-rubygems-find-here-some-handy-tips/">Problems with RubyGems? Find here some handy tips</a></li>
    <li><a href="http://www.nomedojogo.com/2008/08/04/edge-rails-informando-o-primary_key-em-associacoes-has_many/">Edge Rails: Informando outro primary_key em associações</a></li>
    <li><a href="http://marklunds.com/articles/one/389">Asus Eee + Ubuntu + Rails</a></li>
    <li><a href="http://github.com/guides/disaster-faq-what-to-do-when-github-goes-bad">Guides: Disaster FAQ: What to do when GitHub goes bad</a></li>
    <li><a href="http://debasishg.blogspot.com/2008/08/erlang-as-middleware.html">Erlang as middleware</a></li>
</ul>

</div>
  
  


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2008/08/05/porque-eu-defendo-o-shoulda/">Porque eu defendo o Shoulda</a></h1>
    
    
      <p class="meta">




<time datetime="2008-08-05 00:00:00 -0300" pubdate  updated > 5 de Agosto de 2008</time>


</p>
    
  </header>


  <div class="entry-content"><p>Como alguns já viram no último <a href="http://www.nomedojogo.com/2008/07/29/rails-podcast-brasil-episodio-25/">podcast</a> eu costumo defender muito os projetos e sistemas que gosto. O <a href="http://github.com/">GitHub</a> pode não ter a importancia que o <a href="http://rubyforge.org/">RubyForge</a> &#8220;teve&#8221; para a comunidade Ruby no mundo, mas acredito seriamente no valor deste projeto e aposto minhas fichas nele.</p>

<p>O fato dele ser um projeto comercial só aumenta ainda mais minha confiança, porque ele é um projeto opensource-like com a diferença de ser mantido não somente pela boa vontade dos desenvolvedores, mas sim por dinheiro, e isto é muito bom porque estimula a &#8220;boa vontade&#8221;, se é que vocês me entendem.</p>

<p>Além disso o GitHub evoluiu os projetos opensource além do que o RubyForge conseguiu, tornou muito mais fácil contribuir para um projeto, criar forks, entrar em contato com desenvolvedores, e tudo de uma forma que estimula o social.</p>

<p>Outro projeto que muito me agrada é o <a href="http://www.thoughtbot.com/projects/shoulda">Shoulda</a>, e vou explicar o motivo disto. O Sholda diferente do <a href="http://rspec.info/">RSpec</a>, por exemplo, foi feito para o Rails (embora você possa usá-lo em outros tipos de projetos isto não faz muito sentido) e isto dá ao projeto uma liberdade que não pode ser aplicada ao RSPec que precisa ser mais genérico.</p>

<p>Claro que existem iniciativas semelhantes aplicadas ao RSpec, mas nenhuma é tão madura.</p>

<p>Outra vantagem é que o Shoulda não precisa alterar nada em seu projeto Rails, já que ele trabalha em cima do <a href="http://www.ruby-doc.org/stdlib/libdoc/test/unit/rdoc/classes/Test/Unit.html">Test::Unit</a> que é o framework padrão para testes no Rails. E se você já costuma criar testes neste framework, a curva de aprendizado é perto de zero.</p>

<p>E agora a terceira grande vantagem é a possibilidade de criar macros para testes. Funciona mais ou menos assim: Você cria um plugin que adiciona uma certa funcionalidade a um objeto do <strong>ActiveRecord</strong>, então você cria uma macro de testes para isto e a coloca dentro de uma pasta <strong>shoulda_macros</strong> na raiz do seu gem ou plugin. Assim, os usuários do seu projeto só precisam incluir uma chamada de método nos testes dos modelos que implementarem estas novas funcionalidades e tudo estará seguro.</p>

<p>Por exemplo, se você estiver usando o plugin <a href="http://www.thoughtbot.com/projects/paperclip">Paperclip</a>, basta adicionar a seguinte linha no arquivo de teste do modelo para garantir que tudo vai funcionar bem:</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails"><span class="meta meta_rails meta_rails_unit_test"><span class="meta meta_class meta_class_ruby"><span class="keyword keyword_control keyword_control_class keyword_control_class_ruby">class</span> <span class="entity entity_name entity_name_type entity_name_type_class entity_name_type_class_ruby">UserTest<span class="entity entity_other entity_other_inherited-class entity_other_inherited-class_ruby"> <span class="punctuation punctuation_separator punctuation_separator_inheritance punctuation_separator_inheritance_ruby">&lt;</span> Test::Unit::TestCase</span></span></span>
  should_have_attached_file <span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>avatar</span>
</span><span class="keyword keyword_control keyword_control_ruby">end</span>
</span></pre>


<p>Sou tão fõ do projeto que mantenho, junto com o Dr. Nic, os <a href="http://github.com/drnic/ruby-shoulda-tmbundle/tree/master">Bundles do TextMate</a> para o Shoulda e posso garantir que ele está completo. Já enviei alguns patchs para o projeto principal também.</p>

<p>Se tem coisas que eu não sou é preciosista ou saudosita. Sou adépto ao novo, e quando considero que algo novo é melhor do que o antigo não tenho medo de mudar. Não é porque algo me serviu durante muitos anos que devo continuar usando-o o resto da vida, se fosse assim eu não teria comprado um travesseiro novo, nem um macbook, nem uma TV nova, nem um&#8230;</p>
</div>
  
  


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2008/08/04/edge-rails-templates-em-cache/">Edge Rails: Templates em cache</a></h1>
    
    
      <p class="meta">




<time datetime="2008-08-04 00:00:00 -0300" pubdate  updated > 4 de Agosto de 2008</time>


</p>
    
  </header>


  <div class="entry-content"><p>Para melhorar a performance do Rails as páginas de template serão armazenadas em cache automaticamente em ambiente de produção.</p>

<p>Em outras palavras, se você alterar algum template em produção terá de reiniciar o servidor para que isto tenha efeito.</p>
</div>
  
  


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2008/08/04/edge-rails-informando-o-primary_key-em-associacoes-has_many/">Edge Rails: Informando outro primary_key em associações</a></h1>
    
    
      <p class="meta">




<time datetime="2008-08-04 00:00:00 -0300" pubdate  updated > 4 de Agosto de 2008</time>


</p>
    
  </header>


  <div class="entry-content"><p>Uma nova opção foi acrescentado ao método <strong>has_many</strong>: a opção <strong>:primary_key</strong>.</p>

<p>Fazendo uso desta opção podemos definir qual método do modelo associado retornará a chave primária que será usada na associação. Obviamente o método padrão é o <strong>id</strong>.</p>

<p>Veja um exemplo de uso:</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails"><span class="support support_function support_function_activerecord support_function_activerecord_rails">has_many</span> <span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>clients_using_primary_key</span><span class="punctuation punctuation_separator punctuation_separator_object punctuation_separator_object_ruby">,</span> <span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>class_name</span> <span class="punctuation punctuation_separator punctuation_separator_key-value">=&gt;</span> <span class="string string_quoted string_quoted_single string_quoted_single_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">'</span>Client<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">'</span></span><span class="punctuation punctuation_separator punctuation_separator_object punctuation_separator_object_ruby">,</span>
  <span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>primary_key</span> <span class="punctuation punctuation_separator punctuation_separator_key-value">=&gt;</span> <span class="string string_quoted string_quoted_single string_quoted_single_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">'</span>name<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">'</span></span><span class="punctuation punctuation_separator punctuation_separator_object punctuation_separator_object_ruby">,</span> <span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>foreign_key</span> <span class="punctuation punctuation_separator punctuation_separator_key-value">=&gt;</span> <span class="string string_quoted string_quoted_single string_quoted_single_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">'</span>firm_name<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">'</span></span></span></pre>


<h4>Atualização</h4>


<p>4 de agosto de 2008 às 12:45</p>

<p>Nosso amigo Ozéias Sant&#8217;ana (de blog novo) preparou um gem que adiciona esta mesma funcionalidade nas versões anteriores do Rails.</p>

<p>Assim, quem precisa desta funcionalidade para já, deve ler o <a href="http://railsbox.org/2008/8/2/gem-has_many_select">artigo</a> que ele escreveu explicando como instalar e usar este gem.</p>

<h4>has_one</h4>


<p>5 de agosto de 2008 às 11:44</p>

<p>O método <strong>has_one</strong> também recebeu esta implementação, funcionando exatamente como no exemplo acima.</p>
</div>
  
  


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2008/08/01/edge-rails-use_full_path-do-metodo-render-nao-existira-mais/">Edge Rails: :use_full_path do método render não existirá mais</a></h1>
    
    
      <p class="meta">




<time datetime="2008-08-01 00:00:00 -0300" pubdate  updated > 1 de Agosto de 2008</time>


</p>
    
  </header>


  <div class="entry-content"><pre class="textmate-source"><span class="source source_ruby source_ruby_rails"><span class="support support_function support_function_actionpack support_function_actionpack_rails">render</span> <span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>file</span> <span class="punctuation punctuation_separator punctuation_separator_key-value">=&gt;</span> <span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>some/template<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span><span class="punctuation punctuation_separator punctuation_separator_object punctuation_separator_object_ruby">,</span> <span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>use_full_path</span> <span class="punctuation punctuation_separator punctuation_separator_key-value">=&gt;</span> <span class="constant constant_language constant_language_ruby">true</span></span></pre>


<p>A opção <strong>:use_full_path</strong> do método render não existirá mais na próxima versão do Rails. Não é algo sério já que atualmente ela nem é mais necessária.</p>
</div>
  
  


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2008/08/01/edge-rails-railsinitialized/">Edge Rails: Rails.initialized?</a></h1>
    
    
      <p class="meta">




<time datetime="2008-08-01 00:00:00 -0300" pubdate  updated > 1 de Agosto de 2008</time>


</p>
    
  </header>


  <div class="entry-content"><p>Novo método adicionado ao Rails:</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails"><span class="support support_class support_class_ruby">Rails</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>initialized?</span></pre>


<p>Ele informa se todos os processos de inicialização já foram finalizados. Sinceramente? Não sei onde eu usaria isto.</p>
</div>
  
  


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2008/08/01/edge-rails-define_javascript_functions/">Edge Rails: define_javascript_functions</a></h1>
    
    
      <p class="meta">




<time datetime="2008-08-01 00:00:00 -0300" pubdate  updated > 1 de Agosto de 2008</time>


</p>
    
  </header>


  <div class="entry-content"><p>Mais um método que deixará de existir na próxima versão do Rails: <a href="http://rails-doc.org/rails/ActionView/Helpers/JavaScriptHelper/define_javascript_functions">define_javascript_functions</a>.</p>

<p>Também faz sentido já que métodos como <a href="http://rails-doc.org/rails/ActionView/Helpers/AssetTagHelper/javascript_include_tag">javascript_include_tag</a> e outros realizam a mesma tarefa de uma forma melhor.</p>
</div>
  
  


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2008/07/31/edge-rails-testando-apenas-arquivos-uncommitteds-no-git/">Edge Rails: Testando apenas arquivos uncommitteds no Git</a></h1>
    
    
      <p class="meta">




<time datetime="2008-07-31 00:00:00 -0300" pubdate  updated >31 de Julho de 2008</time>


</p>
    
  </header>


  <div class="entry-content"><p>Existe uma tarefa rake no Rails que pouca gente conhece mas que é muito útil:</p>

<pre class="textmate-source"><span class="source source_shell">rake test:uncommitted</span></pre>


<p>Como o nome já diz esta tarefa roda os testes apenas dos arquivos que ainda não foram enviados (commit) para o <strong>subversion</strong>, ao invés de rodar todos os testes do projeto.</p>

<p>Eu costumava usar isto muito, mas quando mudei para <strong>Git</strong> ela não funcionou mais, o suporte era apenas para o <strong>SVN</strong>. Mas um patch acabou de ser aplicado no Edge Rails garantindo que na próxima versão teremos o mesmo suporte também para o <strong>Git</strong>.</p>
</div>
  
  


  </article>

<nav role="pagination">
  <div>
    
      <a class="prev" href="/page/31/">&larr; Antigos</a>
    
    <a href="/blog/archives">Arquivo</a>
    
    <a class="next" href="/page/29/">Novos &rarr;</a>
    
  </div>
</nav>

<script type="text/javascript">
    var disqus_shortname = 'carlosbrando';
    (function () {
      var s = document.createElement('script'); s.async = true;
      s.type = 'text/javascript';
      s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
      (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>

</div>
<aside role=sidebar>
  
    <section>
  <h1>Artigos Recentes</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2011/08/25/como-convencer-sua-equipe-a-usar-um-sistema-de-controle-de-vers-o/">Como convencer sua equipe a usar um sistema de controle de versão</a>
      </li>
    
      <li class="post">
        <a href="/2011/08/19/blogando-como-um-hacker/">Blogando como um hacker</a>
      </li>
    
      <li class="post">
        <a href="/2011/06/13/a-regra-direita-esquerda-do-c/">A Regra Direita-Esquerda do C</a>
      </li>
    
      <li class="post">
        <a href="/2011/06/03/colorific/">Colorific</a>
      </li>
    
      <li class="post">
        <a href="/2011/03/29/quem-disse-que-gravar-um-podcast-e-facil/">Quem disse que gravar um podcast é fácil?</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Últimos Tweets</h1>
  <ul id="tweets">
    <li class="loading">Atualizando&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("carlosbrando", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/carlosbrando" class="twitter-follow-button" data-width="208px" data-show-count="false">Siga @carlosbrando</a>
  
</section>


<section>
  <h1>Open Source</h1>
  <ul id="gh_repos">
    <li class="loading">Atualizando&#8230;</li>
  </ul>
  
  <a href="https://github.com/carlosbrando">@carlosbrando</a> no Github
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'carlosbrando',
            count: 4,
            skip_forks: false,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>




  
</aside>

    </div>
  </div>
  <footer><p>
  Copyright &copy; 2011 - Carlos Brando -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
</body>
</html>
