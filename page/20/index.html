
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Nome do Jogo</title>
  <meta name="author" content="Carlos Brando">

  
  <meta name="description" content="Depois do Rails, o framework mais famoso para Ruby com certeza é o Merb. O problema com o Merb até agora era a falta de uma versão 1.0 finalizada, &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://nomedojogo.com/page/20">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="http://feeds2.feedburner.com/NomeDoJogo" rel="alternate" title="Nome do Jogo" type="application/atom+xml">
  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-1249636-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Nome do Jogo</a></h1>
  
    <h2>por Carlos Brando</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feeds2.feedburner.com/NomeDoJogo" rel="subscribe-rss" title="assine via RSS">RSS</a></li>
  
</ul>
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:nomedojogo.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Pesquisar"/>
  </fieldset>
</form>
<ul role=main-navigation>
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Arquivo</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/11/10/merb-10-released/">Merb 1.0 Released</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-11-10T00:00:00-02:00" pubdate data-updated="true">10 de Novembro de 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img class="size-full wp-image-1770 alignright" title="Merb" src="http://old.nomedojogo.com/wp-content/uploads/2008/11/2939711285_b573d9b52c_o.jpg" alt="" width="300" height="237" />Depois do Rails, o framework mais famoso para Ruby com certeza é o <a href="http://www.merbivore.com/">Merb</a>. O problema com o Merb até agora era a falta de uma versão 1.0 finalizada, garantindo que não haveria mais mudanças drásticas na API. Muitos desenvolvedores ainda não queriam se arriscar neste framework com medo das mudanças que poderiam vir até o lançamento de uma versão 1.0 estável.</p>

<p>Depois de dois anos de desenvolvimento, <strong>Ezra Zygmuntowicz</strong> e o core team do Merb <a href="http://brainspl.at/articles/2008/11/08/merb-1-0">anunciam</a> o lançamento da versão 1.0.</p>

<p>No site <a href="http://www.rubyinside.com/44-merb-resources-1318.html">RubyInside</a>, <strong>Peter Cooper</strong> publicou um artigo com <strong>44 links</strong> de tutoriais, noticias, livros, eventos e aplicativos de exemplo para os que desejam se aventurar no Merb.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/11/07/rails-22-novo-metodo-de-instancia-modeldelete/">Rails 2.2: Novo método de instância Model#delete</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-11-07T00:00:00-02:00" pubdate data-updated="true"> 7 de Novembro de 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Para tornar o <strong>ActiveRecord</strong> mais consistente foi adicionado o método de instância <strong>Model#delete</strong>. Ele é similar ao método de classe com o mesmo nome. O método <strong>delete</strong>, diferente do método <strong>destroy</strong>, apaga o registro do banco de dados sem disparar callbacks, como o <strong>before_destroy</strong> e o <strong>after_destroy</strong>.</p>

<p>Este método também não aplicará nenhuma das regras impostas na associação através de cláusulas como <strong>:dependent</strong>.</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails">client <span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span> <span class="support support_class support_class_ruby">Client</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>find<span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">(</span><span class="constant constant_numeric constant_numeric_ruby">1</span><span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">)</span>
client<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>delete</span></pre>


<hr /><em>Todos os exemplos dados aqui funcionarão somente no <strong>Ruby on Rails 2.2 ou superior</strong>. Você pode encontrar mais detalhes sobre esta e outras novidades do Rails 2.2 no e-book “<a href="../2008/10/24/novo-livro-e-screencast-ruby-on-rails-22-o-que-ha-de-novo/">Ruby on Rails - O que há de novo?</a>“.</em>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/11/07/ninguem-pode-ser-uma-estrela-do-rock-sem-um-grande-cenario/">Ninguém pode ser uma estrela do rock sem um grande cenário</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-11-07T00:00:00-02:00" pubdate data-updated="true"> 7 de Novembro de 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img class="alignnone size-full wp-image-1750" title="StarWars Rock!" src="http://old.nomedojogo.com/wp-content/uploads/2008/11/359087786_8fb025c4a0.jpg" alt="" /></p>

<h5><em>Este texto é uma tradução do artigo &#8221;<a href="http://www.37signals.com/svn/posts/1164-average-environments-beget-average-work">Average environments beget average work</a>&#8221;.</em></h5>


<p><a href="http://en.wikipedia.org/wiki/Grady_Booch">Grady Booch</a> soltou o seguinte axioma no <a href="http://www.timeinc.net/fortune/conferences/brainstormtech/tech_home.html">BrainstormTECH</a>: &#8220;Na média, um trabalhador mediano realiza um trabalho mediano&#8221;. Inicialmente, pareceu-me perfeitamente racional. Mas, pensando melhor, isto começou a me incomodar. Isto se baseia na hipótese de que mau, médio e bom são atributos estáticos de uma pessoa, o que eu considero totalmente ofensivo e de mau gosto.</p>

<p>Eu acredito que somos capazes de fazer trabalhos ruins, medianos e bons. Eu certamente já fiz trabalhos ruins algumas vezes e constantemente faço trabalhos medianos. O que tenho percebido é que os trabalhos bons e excepcionais dependem mais do ambiente em que trabalho do que de mim. Ambientes medianos produzem trabalhos medianos.</p>

<h2>Bons profissionais produzem trabalhos ruins o tempo todo</h2>


<p>Simplesmente pense em todas as grandes pessoas e empresas que desapareceram em algum momento, só para aparecerem novamente depois de alguns anos, com quase nada de novo para mostrar. Até pessoas conhecidas como excepcionais podem fazer trabalhos imprestáveis quando são colocadas em ambientes ruins.</p>

<p>Ou pense em como boas pessoas podem facilmente fazer coisas ruins quando colocadas em circunstâncias ruins. O <a href="http://www.prisonexp.org/">Stanford Prison Experiment</a> é um bom exemplo da banalidade do mal.</p>

<p>Isso não quer dizer que somos todos iguais e que a estrela do rock dentro de você pode ser destravada com música hippie e sandálias. Só que há muito potencial inexplorado dentro de nós preso sob políticas de merda, má direção e burocracias sufocantes. Existem muitas pessoas esperando para fazer um grande trabalho se lhes dermos oportunidade.</p>

<h2>Ninguém pode ser uma estrela do rock sem um grande cenário</h2>


<p>Se você quer um time vencedor, então pare de tentar encher uma sala com estrelas do rock e ninjas. Em vez disso, comece a pensar na sala!</p>

<p>Aqui estão três perguntas para você começar a pensar sobre como auto-diagnosticar o seu meio ambiente:</p>

<ul>
    <li>Você valoriza o esforço antes do efeito?
<em>Alguém que fica a noite toda trabalhando é um herói, mas aquele que termina todo o trabalho e vai mais cedo para casa é visto como alguém que não trabalha em equipe.</em></li>
</ul>


<ul>
    <li> Você confia que as pessoas farão a coisa certa?
<em>Nós não contamos dias de férias e damos a qualquer um o cartão de crédito corporativo, mas exigimos relatórios do que não são despesas.</em></li>
</ul>


<ul>
    <li> Você incentiva questionamentos?
<em>As discussões sempre acabam com a frase &#8220;porque eu quero isto assim&#8221; ou explicando políticas como &#8221; porque deve ser desse jeito e pronto&#8221;.</em></li>
</ul>


<p>Mas o mais importante, pare de utilizar a qualidade percebida do seu time como desculpa para justificar porque você não pode experimentar ou seguir novas idéias. É uma grande realização dizer que isto nunca vai decepcioná-lo. Os seres humanos são extremamente propensos a desanimar sob baixas expectativas.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/11/06/curso-on-line-de-bdd-com-rails-e-rspec-na-e-genial/">Curso on-line de BDD com Rails e RSpec na e-Genial</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-11-06T00:00:00-02:00" pubdate data-updated="true"> 6 de Novembro de 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img class="alignnone size-full wp-image-1739" title="2075339405_f42630ddb6" src="http://old.nomedojogo.com/wp-content/uploads/2008/11/2075339405_f42630ddb6.jpg" alt="" /></p>

<p>A <a href="http://www.egenial.com.br/">e-Genial</a> está inovando mais uma vez, desta vez está lançando um <a href="http://blog.egenial.com.br/?p=192">curso on-line</a> e intensivo de BDD (Behaviour-Driven Development) com Rails e RSpec, com nada mais nada menos que <a href="http://www.dtsato.com/blog/">Danilo Sato</a>.</p>

<p>Diferente dos demais cursos, este curso será aos sábados, com uma carga horária de 12 horas. Tive o prazer de conhece o Danilo Sato (ThoughtWorks) durante o RejectConf&#8217;07, onde ele palestrou sobre o mesmo tema.</p>

<p>Recomendo o curso!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/11/05/rails-podcast-brasil-episodio-36/">Rails Podcast Brasil - Episódio 36</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-11-05T00:00:00-02:00" pubdate data-updated="true"> 5 de Novembro de 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img class="alignnone size-full wp-image-1735" title="2698966435_9c3fe7105a" src="http://old.nomedojogo.com/wp-content/uploads/2008/11/2698966435_9c3fe7105a.jpg" alt="" /></p>

<p>De volta a nossa programação normal, um podcast com as últimas noticias desta e da última semana. Neste episódio falamos sobre o <strong>Rails Rumble</strong>, a polêmica do <strong>Nokogiri</strong>, <strong>Paperclip</strong>, o novo gem de autenticação <strong>Authlogic</strong> e <strong>CouchDB</strong>.</p>

<p>Estamos preparando um episódio especial sobre o Rails 2.2, em breve!</p>

<h2>Neste Episódio</h2>


<ul>
    <li><a href="http://blog.railsrumble.com/2008/11/2/the-results">Rails Rumble</a></li>
    <li><a href="http://blog.phusion.nl/2008/10/29/phusion-passenger-now-with-global-queuing/">Phusion Passenger, now with Global Queuing</a></li>
    <li><a href="http://peepcode.com/products/thinking-sphinx-pdf">PeepCode Lançamentos</a></li>
    <li><a href="http://www.rubyinside.com/nokogiri-ruby-html-parser-and-xml-parser-1288.html">Nokogiri: A Faster, Better HTML and XML Parser for Ruby (than Hpricot)</a></li>
    <li><a href="http://hackety.org/2008/11/03/hpricotStrikesBack.html">Hpricot Strikes Back</a></li>
    <li><a href="http://www.nomedojogo.com/2008/10/28/why%E2%80%99s-poignant-guide-to-ruby-em-portugues/">Why’s (Poignant) Guide to Ruby em português</a></li>
    <li><a href="http://blog.headius.com/2008/10/ffi-for-ruby-now-available.html">FFI for Ruby Now Available</a></li>
    <li><a href="http://thewebfellas.com/blog/2008/11/2/goodbye-attachment_fu-hello-paperclip">Goodbye attachment_fu, hello Paperclip</a></li>
    <li><a href="http://www.mouseoverstudio.com/blog/2008/10/27/criando-gems-com-gemhub-nunca-foi-tao-simples/#comment-2204">Criando gems com GemHub, nunca foi tão simples</a></li>
    <li><a href="http://railstips.org/2008/10/27/using-gmail-with-imap-to-receive-email-in-rails">Using Gmail with IMAP to Receive Email in Rails</a></li>
    <li><a href="http://dev.massivebraingames.com/">A DB admin interface written in Rails</a></li>
    <li><a href="http://www.binarylogic.com/2008/11/3/tutorial-authlogic-basic-setup">Tutorial: Authlogic Basic Setup</a></li>
    <li><a href="http://www.rubyinside.com/merb-1-0-rc2-available-1268.html">Merb 1.0 RC2 Now Available: Merb 1.0 Not Far Behind!</a></li>
    <li><a href="http://www.dcmanges.com/blog/rails-application-visualization-with-munin">Rails Application Visualization</a></li>
    <li><a href="http://www.railsinside.com/tools/138-rails-application-generators.html">suprails and rg: Two Rails Application Generators</a></li>
    <li><a href="http://giantrobots.thoughtbot.com/2008/10/21/suspenders">Suspenders</a></li>
    <li><a href="http://jshoulda.scriptia.net/">jShoulda – Shoulda for JavaScript</a></li>
    <li><a href="http://jchris.mfdz.com/posts/122">CouchDB</a></li>
</ul>


<p><strong>Download</strong>: <a href="http://download.podcast.rubyonrails.pro.br/RailsPodcastBrasil_036.mp3">Episódio #36</a>
iTunes: <a href="http://podcast.rubyonrails.pro.br/rss">http://podcast.rubyonrails.pro.br/rss</a>
Episódios anteriores: <a href="http://podcast.rubyonrails.pro.br/">http://podcast.rubyonrails.pro.br/</a><a href="http://podcast.rubyonrails.pro.br/"></a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/11/05/rails-22-caminho-completo-da-view-no-caso-de-uma-excecao/">Rails 2.2: Caminho completo da view no caso de uma exceção</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-11-05T00:00:00-02:00" pubdate data-updated="true"> 5 de Novembro de 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Quando uma exceção é dispara recebemos em nossa view uma mensagem semelhante a esta:</p>

<pre class="textmate-source"><span class="text text_html text_html_basic">NoMethodError in Administration/groups#show
Showing app/views//_list.erb where line ...
</span></pre>


<p>Quando na verdade deveríamos receber uma mensagem com o caminho completo do arquivo que disparou o erro, assim:</p>

<pre class="textmate-source"><span class="text text_html text_html_basic">NoMethodError in Administration/groups#show
Showing app/views/administration/reports/_list.erb where line ...
</span></pre>


<p>Este problema já está corrigido no Rails 2.2, facilitando nosso trabalho.</p>

<hr /><em>Todos os exemplos dados aqui funcionarão somente no <strong>Ruby on Rails 2.2 ou superior</strong>. Você pode encontrar mais detalhes sobre esta e outras novidades do Rails 2.2 no e-book “<a href="../2008/10/24/novo-livro-e-screencast-ruby-on-rails-22-o-que-ha-de-novo/">Ruby on Rails - O que há de novo?</a>“.</em>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/11/04/rails-22-cookie-de-sessao-agora-e-httponly/">Rails 2.2: Cookie de sessão agora é HttpOnly</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-11-04T00:00:00-02:00" pubdate data-updated="true"> 4 de Novembro de 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Ao se criar um cookie existe uma opção esquecida por muita gente. A opção <strong>http_only</strong> faz com que o cookie somente seja acessível via HTTP, impedindo que um trecho de código em javascript consiga acessá-lo. O valor padrão para esta opção é <strong>false</strong>.</p>

<p>No Rails 2.2 o cookie que armazena a sessão do usuário terá a opção <strong>http_only</strong> ligada por padrão. A intenção é aumentar a segurança em nossos projetos. Obviamente esta opção pode ser desligada caso necessário. Se este for o caso, basta incluir a seguinte linha no <strong>ApplicationController</strong> ou em um controller especifico:</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails">session <span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>session_http_only</span> <span class="punctuation punctuation_separator punctuation_separator_key-value">=&gt;</span> <span class="constant constant_language constant_language_ruby">false</span></span></pre>


<hr /><em>Todos os exemplos dados aqui funcionarão somente no <strong>Ruby on Rails 2.2 ou superior</strong>. Você pode encontrar mais detalhes sobre esta e outras novidades do Rails 2.2 no e-book “<a href="../2008/10/24/novo-livro-e-screencast-ruby-on-rails-22-o-que-ha-de-novo/">Ruby on Rails - O que há de novo?</a>“.</em>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/11/03/edge-rails-tarefa-dbmigrateredo-agora-aceita-a-versao-da-migration/">Rails 2.2: Tarefa db:migrate:redo agora aceita a versão da migration</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-11-03T00:00:00-02:00" pubdate data-updated="true"> 3 de Novembro de 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>A tarefa <strong>rake db:migrate:redo</strong> tem se mostrado muito útil quando precisamos voltar e executar novamente a última migration criada. Agora esta tarefa ficou ainda mais útil, porque podemos utilizar a opção <strong>VERSION</strong> e informar qual migration queremos que seja reexecutada.</p>

<pre class="textmate-source"><span class="source source_shell">rake db:migrate:redo VERSION=20080725004631</span></pre>


<hr /><em>Todos os exemplos dados aqui funcionarão somente no <strong>Ruby on Rails 2.2 ou superior</strong>. Você pode encontrar mais detalhes sobre esta e outras novidades do Rails 2.2 no e-book “<a href="../2008/10/24/novo-livro-e-screencast-ruby-on-rails-22-o-que-ha-de-novo/">Ruby on Rails - O que há de novo?</a>“.</em>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/10/31/rails-22-tres-novos-metodos-para-classes-que-trabalham-com-datas-e-horas/">Rails 2.2: Três novos métodos para classes que trabalham com datas e horas</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-10-31T00:00:00-02:00" pubdate data-updated="true">31 de Outubro de 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>As classes <strong>Time</strong>, <strong>Date</strong>, <strong>DateTime</strong> e <strong>TimeWithZone</strong> receberam três novos métodos muito convenientes. Os métodos <strong>today?</strong>, <strong>past?</strong> e <strong>future?</strong> foram introduzidos em todas as classes que trabalham com datas e horas para facilitar nossa vida em algumas situações.</p>

<p>Acredito que não seja necessário explicar o funcionamento de cada um. Então vejamos os métodos em ação:</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails">date <span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span> <span class="support support_class support_class_ruby">Date</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>current
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> =&gt; Sat, 04 Oct 2008
</span>
date<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>today?
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> =&gt; true
</span>
date<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>past?
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> =&gt; false
</span>
date<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>future?
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> =&gt; false
</span>
time <span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span> <span class="support support_class support_class_ruby">Time</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>now
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> =&gt; Sat Oct 04 18:36:43 -0300 2008
</span>
time<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>today?
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> =&gt; true</span></span></pre>


<hr /><em>Todos os exemplos dados aqui funcionarão somente no <strong>Ruby on Rails 2.2 ou superior</strong>. Você pode encontrar mais detalhes sobre esta e outras novidades no e-book “<a href="../2008/10/24/novo-livro-e-screencast-ruby-on-rails-22-o-que-ha-de-novo/">Ruby on Rails 2.2 - O que há de novo?</a>“.</em>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/10/30/rails-22-alias_attribute-funcionando-com-dirty-objects/">Rails 2.2: alias_attribute funcionando com Dirty Objects</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-10-30T00:00:00-02:00" pubdate data-updated="true">30 de Outubro de 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Para entender esta alteração, vamos precisar analisar o mesmo código sendo executado em uma versão anterior do Rails e depois no Rails 2.2. Vamos pegar um modelo como exemplo:</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails"><span class="meta meta_rails meta_rails_model"><span class="meta meta_class meta_class_ruby"><span class="keyword keyword_control keyword_control_class keyword_control_class_ruby">class</span> <span class="entity entity_name entity_name_type entity_name_type_class entity_name_type_class_ruby">Comment<span class="entity entity_other entity_other_inherited-class entity_other_inherited-class_ruby"> <span class="punctuation punctuation_separator punctuation_separator_inheritance punctuation_separator_inheritance_ruby">&lt;</span> ActiveRecord::Base</span></span></span>
  <span class="support support_function support_function_activesupport support_function_activesupport_rails">alias_attribute</span> <span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>text</span><span class="punctuation punctuation_separator punctuation_separator_object punctuation_separator_object_ruby">,</span> <span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>body</span>
</span><span class="keyword keyword_control keyword_control_ruby">end</span>
</span></pre>


<p>Note que estou usando o método <strong>alias_attribute</strong> para criar um alias para o atributo <strong>body</strong> com o nome de <strong>text</strong>. Na teoria este método deveria replicar todos os métodos de leitura, escrita, pesquisa e qualquer outro que envolva o atributo <strong>body</strong>. Mas vejamos um exemplo sendo executado no Rails 2.1 ou anterior:</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails">c <span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span> <span class="support support_class support_class_ruby">Comment</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>first
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> =&gt; #&lt;Comment id: 1, body: "my comment"&gt;
</span>
c<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>body
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> =&gt; "my comment"
</span>
c<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>text
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> =&gt; "my comment"
</span>
c<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>body <span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span> <span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>a new message<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span>
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> =&gt; "a new message"
</span>
c<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>body_changed?
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> =&gt; true
</span>
c<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>text_changed?
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> =&gt; NoMethodError: undefined method `text_changed?' ...</span></span></pre>


<p>Ao executar o método <strong>text_changed?</strong> temos um erro, porque o <strong>alias_attribute</strong> não estava replicando os métodos de rastreamento, mas isto já foi corrigido. Veja o mesmo código executado agora em um projeto Rails 2.2:</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails">c <span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span> <span class="support support_class support_class_ruby">Comment</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>first
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> =&gt; #&lt;Comment id: 1, body: "my comment"&gt;
</span>
c<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>body
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> =&gt; "my comment"
</span>
c<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>text
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> =&gt; "my comment"
</span>
c<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>body <span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span> <span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>a new message<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span>
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> =&gt; "a new message"
</span>
c<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>body_changed?
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> =&gt; true
</span>
c<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>text_changed?
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> =&gt; true
</span>
c<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>text_change
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> =&gt; ["my comment", "a new message"]</span></span></pre>


<hr /><em>Todos os exemplos dados aqui funcionarão somente no <strong>Ruby on Rails 2.2 ou superior</strong>. Você pode encontrar mais detalhes sobre esta e outras novidades do Rails 2.2 no e-book “<a href="../2008/10/24/novo-livro-e-screencast-ruby-on-rails-22-o-que-ha-de-novo/">Ruby on Rails - O que há de novo?</a>“.</em>

</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/page/21/">&larr; Antigos</a>
    
    <a href="/blog/archives">Arquivo</a>
    
    <a class="next" href="/page/19/">Novos &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Artigos Recentes</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2011/11/07/ruby-em-todos-os-lugares-e-dispositivos/">Ruby em todos os lugares e dispositivos</a>
      </li>
    
      <li class="post">
        <a href="/2011/10/18/grok-podcast-extra-o-que-voce-achou/">Grok Podcast Extra - O que você achou?</a>
      </li>
    
      <li class="post">
        <a href="/2011/09/12/contratos-onde-todos-ganham/">Contratos onde todos ganham</a>
      </li>
    
      <li class="post">
        <a href="/2011/08/25/como-convencer-sua-equipe-a-usar-um-sistema-de-controle-de-vers-o/">Como convencer sua equipe a usar um sistema de controle de versão</a>
      </li>
    
      <li class="post">
        <a href="/2011/08/19/blogando-como-um-hacker/">Blogando como um hacker</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Open Source</h1>
  <ul id="gh_repos">
    <li class="loading">Atualizando&#8230;</li>
  </ul>
  
  <a href="https://github.com/carlosbrando">@carlosbrando</a> no Github
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'carlosbrando',
            count: 4,
            skip_forks: false,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Últimos Tweets</h1>
  <ul id="tweets">
    <li class="loading">Atualizando&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("carlosbrando", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/carlosbrando" class="twitter-follow-button" data-width="208px" data-show-count="false">Siga @carlosbrando</a>
  
</section>


<section>
  <h1>Bookmarks</h1>
  <div id="delicious"></div>
  <script type="text/javascript" src="http://feeds.delicious.com/v2/json/cbrando?count=3&amp;sort=date&amp;callback=renderDeliciousLinks"></script>
  <p><a href="http://delicious.com/cbrando">Meus Bookmarks &raquo;</a></p>
</section>


<section class="googleplus googleplus-hidden">
  <h1>
    <a href="https://plus.google.com/109235566448786781079?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2011 - Carlos Brando -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'carlosbrando';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
