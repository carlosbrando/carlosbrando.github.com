
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Nome do Jogo</title>
  <meta name="author" content="Carlos Brando">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  

  <link rel="canonical" href="http://nomedojogo.com/page/37/index.html"/>
  <link href="/favicon.png" rel="shortcut icon" />
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="http://s3.amazonaws.com/ender-js/jeesh.min.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="http://feeds2.feedburner.com/NomeDoJogo" rel="alternate" title="Nome do Jogo" type="application/atom+xml"/>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-1249636-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


  
  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>


  
  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>

</head>

<body  >
  <header><hgroup>
  <h1><a href="/">Nome do Jogo</a></h1>
  
    <h2>por Carlos Brando</h2>
  
</hgroup>

</header>
  <nav role=navigation><ul role=subscription data-subscription="rss">
  <li><a href="http://feeds2.feedburner.com/NomeDoJogo" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="http://google.com/search" method="get">
  <fieldset role="site-search">
    <input type="hidden" name="q" value="site:nomedojogo.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul role=main-navigation>
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Arquivo</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">



  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2008/06/06/edge-rails-stringquestioneer-renomeado-para-stringinquirer/">Edge Rails: StringQuestioneer renomeado para StringInquirer</a></h1>
    
    
      <p class="meta">




<time datetime="2008-06-06 00:00:00 -0300" pubdate  updated > 6 de Junho de 2008</time>


</p>
    
  </header>


  <div class="entry-content"><p>Hoje de manhã eu <a href="http://www.nomedojogo.com/2008/06/06/edge-rails-stringquestioneer/">falei desta nova classe</a> no Rails, e comentei que estavam querendo mudar o seu nome. Pois bem, isto aconteceu mesmo!</p>

<p>Agora a classe se chama <strong>StringInquirer</strong>. Além disso ela também foi incluída no namespace <strong>ActiveSupport</strong>.</p>

<p>Vejam o mesmo exemplo usado no artigo anterior, mas adaptado para funcionar com estas alterações:</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails"><span class="meta meta_class meta_class_ruby"><span class="keyword keyword_control keyword_control_class keyword_control_class_ruby">class</span> <span class="entity entity_name entity_name_type entity_name_type_class entity_name_type_class_ruby">Cliente</span></span>
  <span class="meta meta_function meta_function_method meta_function_method_without-arguments meta_function_method_without-arguments_ruby"><span class="keyword keyword_control keyword_control_def keyword_control_def_ruby">def</span> <span class="entity entity_name entity_name_function entity_name_function_ruby">status</span></span>
    <span class="support support_class support_class_ruby">ActiveSupport</span><span class="punctuation punctuation_separator punctuation_separator_other punctuation_separator_other_ruby">::</span><span class="support support_class support_class_ruby">StringInquirer</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span><span class="keyword keyword_other keyword_other_special-method keyword_other_special-method_ruby">new</span><span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">(</span><span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>ativo<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span><span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">)</span>
  <span class="keyword keyword_control keyword_control_ruby">end</span>
<span class="keyword keyword_control keyword_control_ruby">end</span>

c <span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span> <span class="support support_class support_class_ruby">Cliente</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span><span class="keyword keyword_other keyword_other_special-method keyword_other_special-method_ruby">new</span>
c<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>status
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> =&gt; "ativo"
</span>
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> Agora vem a grande diferença:
</span>c<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>status<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>ativo?
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> =&gt; true
</span>
c<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>status<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>inativo?
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> =&gt; false</span></span></pre>

</div>
  
  


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2008/06/06/edge-rails-stringquestioneer/">Edge Rails: StringQuestioneer</a></h1>
    
    
      <p class="meta">




<time datetime="2008-06-06 00:00:00 -0300" pubdate  updated > 6 de Junho de 2008</time>


</p>
    
  </header>


  <div class="entry-content"><p>David acabou de incluir uma novidade interessante no Rails, a classe <strong>StringQuestioneer</strong> (alguns estão tentando mudar este nome para StringInquirer, mas por enquanto é <strong>StringQuestioneer</strong> mesmo).</p>

<p>Para entender como funciona, vou ter de explicar usando alguns exemplos. Vamos criar uma classe chamada Cliente que contém um método que retorna o status do cliente:</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails"><span class="meta meta_class meta_class_ruby"><span class="keyword keyword_control keyword_control_class keyword_control_class_ruby">class</span> <span class="entity entity_name entity_name_type entity_name_type_class entity_name_type_class_ruby">Cliente</span></span>
  <span class="meta meta_function meta_function_method meta_function_method_without-arguments meta_function_method_without-arguments_ruby"><span class="keyword keyword_control keyword_control_def keyword_control_def_ruby">def</span> <span class="entity entity_name entity_name_function entity_name_function_ruby">status</span></span>
    <span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>ativo<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span>
  <span class="keyword keyword_control keyword_control_ruby">end</span>
<span class="keyword keyword_control keyword_control_ruby">end</span>


c <span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span> <span class="support support_class support_class_ruby">Cliente</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span><span class="keyword keyword_other keyword_other_special-method keyword_other_special-method_ruby">new</span>
c<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>status
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> =&gt; "ativo"
</span>
c<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>status <span class="keyword keyword_operator keyword_operator_comparison keyword_operator_comparison_ruby">==</span> <span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>ativo<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span>
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> =&gt; true
</span>
c<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>status <span class="keyword keyword_operator keyword_operator_comparison keyword_operator_comparison_ruby">==</span> <span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>inativo<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span>
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> =&gt; false
</span></span></pre>


<p>Ok, até aqui tudo normal. Agora vou modificar a implementação do método status usando a classe <strong>StringQuestioneer</strong>, sempre lembrando que o retorno do método status pode vir de uma coluna do banco de dados (claro), isto é apenas um exemplo.</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails"><span class="meta meta_class meta_class_ruby"><span class="keyword keyword_control keyword_control_class keyword_control_class_ruby">class</span> <span class="entity entity_name entity_name_type entity_name_type_class entity_name_type_class_ruby">Cliente</span></span>
  <span class="meta meta_function meta_function_method meta_function_method_without-arguments meta_function_method_without-arguments_ruby"><span class="keyword keyword_control keyword_control_def keyword_control_def_ruby">def</span> <span class="entity entity_name entity_name_function entity_name_function_ruby">status</span></span>
    <span class="support support_class support_class_ruby">StringQuestioneer</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span><span class="keyword keyword_other keyword_other_special-method keyword_other_special-method_ruby">new</span><span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">(</span><span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>ativo<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span><span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">)</span>
  <span class="keyword keyword_control keyword_control_ruby">end</span>
<span class="keyword keyword_control keyword_control_ruby">end</span>


c <span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span> <span class="support support_class support_class_ruby">Cliente</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span><span class="keyword keyword_other keyword_other_special-method keyword_other_special-method_ruby">new</span>
c<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>status
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> =&gt; "ativo"
</span>
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> Agora vem a grande diferença:
</span>c<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>status<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>ativo?
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> =&gt; true
</span>
c<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>status<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>inativo?
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> =&gt; false</span></span></pre>


<p>Para verificar se o status do cliente é o esperado, ao invés de comparar <strong>Strings</strong>, eu uso um método com o valor do status e o sinal de interrogação. Gostou?</p>

<p>Claro que isto já começou a ser usado no próprio Rails. Por exemplo, caso você precise verificar se o Rails foi carregado em ambiente de produção, você pode substituir o velho <strong>Rails.env == &#8220;production&#8221;</strong>, por:</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails"><span class="support support_class support_class_ruby">Rails</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>env<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>production?</span></pre>


<p>Para variar criei mais um plugin só para ir colocando as novidades que gostei e não quero esperar
para usar. Para quem quiser acompanhar, tá no <strong>GitHub</strong> (para variar):
<a href="http://github.com/carlosbrando/back-to-the-future">http://github.com/carlosbrando/back-to-the-future</a></p>
</div>
  
  


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2008/06/05/rails-podcast-brasil-episodio-19/">Rails Podcast Brasil - Episódio 19</a></h1>
    
    
      <p class="meta">




<time datetime="2008-06-05 00:00:00 -0300" pubdate  updated > 5 de Junho de 2008</time>


</p>
    
  </header>


  <div class="entry-content"><p><img class="alignnone size-full wp-image-769" title="2546018742_cb7049ac4b" src="http://old.nomedojogo.com/wp-content/uploads/2008/06/2546018742_cb7049ac4b.jpg" alt="" /></p>

<p>Podcast especial &#8220;RailsConf 2008&#8221;.</p>

<p>Neste episódio Fábio Akita conta tudo sobre os bastidores do evento mais importante para a comunidade Ruby on Rails.</p>

<p>Para ouvir: <a href="http://www.rubyonrails.pro.br/podcasts">http://www.rubyonrails.com.br/podcasts</a></p>
</div>
  
  


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2008/06/05/edge-rails-opcao-layout-para-o-metodo-caches_action/">Edge Rails: Opção :layout para o método caches_action</a></h1>
    
    
      <p class="meta">




<time datetime="2008-06-05 00:00:00 -0300" pubdate  updated > 5 de Junho de 2008</time>


</p>
    
  </header>


  <div class="entry-content"><p>Mais um patch do <a href="http://josevalim.blogspot.com/">José Valim</a> (desta vez eu prestei atenção de quem era).</p>

<p>Ele adicionou a opção <strong>:layout</strong> no método <strong>caches_action</strong>.</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails"><span class="meta meta_rails meta_rails_controller"><span class="meta meta_class meta_class_ruby"><span class="keyword keyword_control keyword_control_class keyword_control_class_ruby">class</span> <span class="entity entity_name entity_name_type entity_name_type_class entity_name_type_class_ruby">ListsController<span class="entity entity_other entity_other_inherited-class entity_other_inherited-class_ruby"> <span class="punctuation punctuation_separator punctuation_separator_inheritance punctuation_separator_inheritance_ruby">&lt;</span> ApplicationController</span></span></span>
  <span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">...</span>

  caches_action <span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>index</span><span class="punctuation punctuation_separator punctuation_separator_object punctuation_separator_object_ruby">,</span> <span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>layout</span> <span class="punctuation punctuation_separator punctuation_separator_key-value">=&gt;</span> <span class="constant constant_language constant_language_ruby">false</span>

  <span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">...</span>
</span><span class="keyword keyword_control keyword_control_ruby">end</span></span></pre>


<p>No exemplo acima eu especifiquei <strong>:layout =&gt; false</strong>, isto significa que o layout não será armazenado no cache, apenas o conteúdo da action será. Isto é muito útil quando temos conteúdo dinâmico no layout (o que acontece na maioria dos casos).</p>

<p>Se você não especificar nada ele assumirá o padrão atual que é true.</p>
</div>
  
  


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2008/06/04/edge-rails-nova-funcionalidade-rjspagereload/">Edge Rails - Nova funcionalidade: RJS#page.reload</a></h1>
    
    
      <p class="meta">




<time datetime="2008-06-04 00:00:00 -0300" pubdate  updated > 4 de Junho de 2008</time>


</p>
    
  </header>


  <div class="entry-content"><p>Antes de qualquer coisa, me deixe explicar como ficaram organizadas as coisas aqui no blog. A série Edge Rails, como sempre, continua tratando das versões futuras do Rails. Para ver todos os posts da série, você pode usar a categoria <a href="http://www.nomedojogo.com/category/edge-rails/">Edge Rails</a>. Mas, para relembrar tudo que foi escrito antes do lançamento do Rails 2.1, criei uma <a href="http://www.nomedojogo.com/category/rails-21/">categoria com o mesmo nome</a> para facilitar, e movi todos os posts antigos para ela.</p>

<p>Outra coisa importante é que já está saindo do forno o livro sobre <strong>Ruby on Rails 2.1</strong> e será disponibilizado em PDF (de grátis!!!) em breve. Aliás, se alguém bom com Photoshop estiver lendo este post e estiver a fim de ajudar com uma capa bem bonita para o livro, entre em contato comigo, por favor!</p>

<p>Ok, agora vamos ao que interessa:</p>

<p>O método <strong>reload</strong> foi incluído ao <strong>ActionView::Helpers::PrototypeHelper</strong> para ser usado em templates <strong>.rjs</strong> ou blocos <strong>render(:update)</strong>. Este método força a recarga da página atual no browser usando javascript. Em outras palavras é um atalho para o já muito usado <strong>window.location.reload();</strong>.</p>

<p>Veja como usar:</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails"><span class="support support_function support_function_actionpack support_function_actionpack_rails">respond_to</span> <span class="keyword keyword_control keyword_control_start-block keyword_control_start-block_ruby">do </span><span class="punctuation punctuation_separator punctuation_separator_variable punctuation_separator_variable_ruby">|</span><span class="variable variable_other variable_other_block variable_other_block_ruby">format</span><span class="punctuation punctuation_separator punctuation_separator_variable punctuation_separator_variable_ruby">|</span>
  format<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>js <span class="keyword keyword_control keyword_control_start-block keyword_control_start-block_ruby">do
</span>    <span class="support support_function support_function_actionpack support_function_actionpack_rails">render</span><span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">(</span><span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>update</span><span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">)</span> <span class="punctuation punctuation_section punctuation_section_scope punctuation_section_scope_ruby">{</span><span class="meta meta_syntax meta_syntax_ruby meta_syntax_ruby_start-block"> </span><span class="punctuation punctuation_separator punctuation_separator_variable punctuation_separator_variable_ruby">|</span><span class="variable variable_other variable_other_block variable_other_block_ruby">page</span><span class="punctuation punctuation_separator punctuation_separator_variable punctuation_separator_variable_ruby">|</span> page<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>reload <span class="punctuation punctuation_section punctuation_section_scope punctuation_section_scope_ruby">}</span>
  <span class="keyword keyword_control keyword_control_ruby">end</span>
<span class="keyword keyword_control keyword_control_ruby">end</span></span></pre>

</div>
  
  


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2008/06/03/rails-21-bug-in-method-end_of_quarter/">Rails 2.1: Bug in method end_of_quarter</a></h1>
    
    
      <p class="meta">




<time datetime="2008-06-03 00:00:00 -0300" pubdate  updated > 3 de Junho de 2008</time>


</p>
    
  </header>


  <div class="entry-content"><p>Neither came out the <strong>Rails 2.1</strong> and was already found a serious error. Access the <strong>irb</strong> and try to run this:</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails"><span class="support support_class support_class_ruby">Date</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span><span class="keyword keyword_other keyword_other_special-method keyword_other_special-method_ruby">new</span><span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">(</span><span class="constant constant_numeric constant_numeric_ruby">2008</span><span class="punctuation punctuation_separator punctuation_separator_object punctuation_separator_object_ruby">,</span> <span class="constant constant_numeric constant_numeric_ruby">5</span><span class="punctuation punctuation_separator punctuation_separator_object punctuation_separator_object_ruby">,</span> <span class="constant constant_numeric constant_numeric_ruby">31</span><span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">)</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>end_of_quarter</span></pre>


<p><span style="color: #ff0000;"><strong>ERROR!</strong></span></p>

<p>Why? The implementation of the method <strong>end_of_quarter</strong> was made of the wrong way, it moves until the last month of the quarter and then picks last day. The problem is that it only moves the month, but as the date is starting on May 31, it&#8217;s trying to create a new instance of the Date to June 31, which does not exist. The class Time not raise an exception, but returns the wrong date: July 31.</p>

<p>In Edge Rails this has already been corrected, but who are using Rails 2.1 will have this problem.</p>

<p>Very careful, because this error only occurs if you use the method <strong>end_of_quarter</strong> in day 31 of May, July, and August. So, very careful.</p>

<p>For those who do not like to live dangerously by using the edge rails, I created a plugin with the code that fixes the bug. I will try to keep out this plugin updated whenever any corrections is released.</p>

<p>To install:</p>

<pre class="textmate-source"><span class="text text_plain"><span class="meta meta_paragraph meta_paragraph_text">./script/plugin install git://github.com/carlosbrando/rails21_fixes.git</span></span></pre>


<p>Do you like it? <a href="http://www.workingwithrails.com/recommendation/new/person/8137-carlos-brando">Recommend me on Working With Rails</a>.</p>
</div>
  
  


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2008/06/03/politica-de-comunicacao-publica/">Política de comunicação pública</a></h1>
    
    
      <p class="meta">




<time datetime="2008-06-03 00:00:00 -0300" pubdate  updated > 3 de Junho de 2008</time>


</p>
    
  </header>


  <div class="entry-content"><p>Tradução do artigo &#8221;<a href="http://www.37signals.com/svn/posts/1021-ask-37signals-public-communications-policy">Ask 37signals: Public communications policy?</a>&#8221;.</p>

<h4>Pergunta:</h4>


<p>Estou curioso, qual é política de comunicação pública para os funcionários de sua empresa, especialmente quanto à publicar artigos no blog SvN (<a href="http://blogcabin.37signals.com/svn/">Signal vs. Noise</a>). Qualquer um pode ter uma idéia e simplesmente publicar lá? Existe diretrizes escritas? Instruções faladas? Um processo de aprovação?</p>

<p>Isso me interessa, porque eu já vi vários processos furados com respeito a comunicação pública e tenho boas idéias em mente, mas estaria interessado em algo que já está implementado e funcionando.</p>

<h4>Resposta:</h4>


<p>A nossa política é: Fale! Queremos que nosso pessoal escreva para o SvN, use o Twitter, publiquem artigos no blog de produtos, em geral, apareçam e falem.</p>

<p>Nós não temos um processo institucionalizado de aprovação. Se alguém acha que um artigo tem o conteúdo questionável, pode passá-lo para que eu dê uma olhada nele antes, mas eu não exijo que as pessoas façam isto sempre. Caberá a cada um decidir se alguma coisa exige uma segunda olhada antes de postar.</p>

<p>Quando você confia às pessoas tomarem uma decisão razoável, normalmente elas farão. Quando tudo que uma pessoa escreve deve passar por um processo de aprovação, ela provavelmente escreverá menos e será menos interessante. Não queremos que as pessoas tenham medo de escrever ou medo de pensar.</p>
</div>
  
  


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2008/06/03/edge-rails-erro-ao-usar-o-metodo-end_of_quarter/">Edge Rails: Erro ao usar o método end_of_quarter</a></h1>
    
    
      <p class="meta">




<time datetime="2008-06-03 00:00:00 -0300" pubdate  updated > 3 de Junho de 2008</time>


</p>
    
  </header>


  <div class="entry-content"><p>Nem bem saiu o <a href="http://www.nomedojogo.com/2008/06/01/agora-e-oficial-ruby-on-rails-21/">Rails 2.1</a> e já foi encontrado um erro sério. Entre no <strong>irb</strong> e tente rodar isto:</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails"><span class="support support_class support_class_ruby">Date</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span><span class="keyword keyword_other keyword_other_special-method keyword_other_special-method_ruby">new</span><span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">(</span><span class="constant constant_numeric constant_numeric_ruby">2008</span><span class="punctuation punctuation_separator punctuation_separator_object punctuation_separator_object_ruby">,</span> <span class="constant constant_numeric constant_numeric_ruby">5</span><span class="punctuation punctuation_separator punctuation_separator_object punctuation_separator_object_ruby">,</span> <span class="constant constant_numeric constant_numeric_ruby">31</span><span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">)</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>end_of_quarter</span></pre>


<p><strong>ERRO!</strong></p>

<p>Por que? A implementação do método <strong>end_of_quarter</strong> foi feita da maneira errada, ele avança até o último mês do trimestre e depois pega último dia. O problema é que ele apenas avança o mês, e como estou partindo do dia 31 de maio, ele tentar criar uma nova instância do objeto <strong>Date</strong> para 31 de junho, que não existe. Com o objeto <strong>Time</strong> não é disparado uma exceção, mas ele retorna a data errada: 31 de <strong>julho</strong>.</p>

<p>No Edge Rails isto já foi corrigido, mas quem estiver usando o Rails 2.1 vai ter este problema.</p>

<p>Muito cuidado, porque este erro só ocorrerá se usarmos o método <strong>end_of_quarter</strong> nos dias 31 de maio, julho e agosto. Então&#8230; muito cuidado.</p>

<p>Para quem não gosta de viver perigosamente usando o edge rails, e também não quer deixar sua aplicação com um erro que pode aparecer de uma hora para a outra, eu criei um plugin com o código que corrige o bug. Na verdade, toda vez que alguma correção sair vou tentar manter este plugin atualizado.</p>

<p>Para instalar:</p>

<pre class="textmate-source"><span class="source source_shell">./script/plugin install git://github.com/carlosbrando/rails21_fixes.git</span></pre>


<p>Gostou? Que tal me <a href="http://www.workingwithrails.com/recommendation/new/person/8137-carlos-brando">recomendar no WWR</a>. É só <a href="http://www.workingwithrails.com/recommendation/new/person/8137-carlos-brando">clicar aqui</a> e pronto!</p>
</div>
  
  


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2008/06/02/edge-rails-fechando-as-atualizacoes-para-o-rails-21/">Edge Rails: Fechando as atualizações para o Rails 2.1</a></h1>
    
    
      <p class="meta">




<time datetime="2008-06-02 00:00:00 -0300" pubdate  updated > 2 de Junho de 2008</time>


</p>
    
  </header>


  <div class="entry-content"><p>A última sexta-feira e sábado foi a maior correria para deixar tudo redondinho no código do Rails para o lançamento da versão 2.1. E como não podia deixar de ser, algumas coisas foram alteradas e outras novas apareceram de última hora. Vamos as mais importantes delas:</p>

<h4>ActionMailer#reply_to</h4>


<p>A opção <strong>reply_to</strong> foi adicionada ao <strong>ActionMailer</strong>. Ela serva para especificar o endereço (quando for diferente do endereço que está no &#8220;from&#8221;) para onde o e-mail deve ser respondido. Um exemplo:</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails"><span class="meta meta_function meta_function_method meta_function_method_with-arguments meta_function_method_with-arguments_ruby"><span class="keyword keyword_control keyword_control_def keyword_control_def_ruby">def</span> <span class="entity entity_name entity_name_function entity_name_function_ruby">different_reply_to</span><span class="punctuation punctuation_definition punctuation_definition_parameters punctuation_definition_parameters_ruby">(</span><span class="variable variable_parameter variable_parameter_function variable_parameter_function_ruby">recipient</span><span class="punctuation punctuation_definition punctuation_definition_parameters punctuation_definition_parameters_ruby">)</span></span>
  recipients recipient
  subject <span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>testing reply_to<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span>
  from <span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>system@loudthinking.com<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span>
  sent_on <span class="support support_class support_class_ruby">Time</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>local<span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">(</span><span class="constant constant_numeric constant_numeric_ruby">2008</span><span class="punctuation punctuation_separator punctuation_separator_object punctuation_separator_object_ruby">,</span> <span class="constant constant_numeric constant_numeric_ruby">5</span><span class="punctuation punctuation_separator punctuation_separator_object punctuation_separator_object_ruby">,</span> <span class="constant constant_numeric constant_numeric_ruby">23</span><span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">)</span>
  reply_to <span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>atraver@gmail.com<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span>
  body <span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>Nothing to see here.<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span>
<span class="keyword keyword_control keyword_control_ruby">end</span>
</span></pre>


<h4>Partial updates habilitadas por padrão</h4>


<p>Lembra-se das <a href="http://www.nomedojogo.com/2008/04/14/edge-rails-partial-updates/">partial updates</a>? Agora elas estão habilitadas por padrão.</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails">base<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>partial_updates <span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span> <span class="constant constant_language constant_language_ruby">true</span></span></pre>


<p>Você sempre terá a opção de desligá-las se quiser, claro.</p>

<p>Com isso acredito que fechamos a série Edge Rails para a versão 2.1. Eu e o <a href="http://www.improveit.com.br/empresa/tapajos">Marcos Tapajós</a> estamos preparando um PDF com todas as novidades desta versão. Aguardem&#8230;</p>
</div>
  
  


  </article>


  <article>
    
  <header>
    
      <h1 class="entry-title"><a href="/2008/06/01/agora-e-oficial-ruby-on-rails-21/">Agora é oficial - Ruby on Rails 2.1</a></h1>
    
    
      <p class="meta">




<time datetime="2008-06-01 00:00:00 -0300" pubdate  updated > 1 de Junho de 2008</time>


</p>
    
  </header>


  <div class="entry-content"><p>David acabou de anunciar no <a href="http://weblog.rubyonrails.com/2008/6/1/rails-2-1-time-zones-dirty-caching-gem-dependencies-caching-etc">blog oficial</a> do <strong>Rails</strong> o lançamento da versão <strong>2.1</strong>. Foram <strong>seis meses</strong> de desenvolvimento e mais de <strong>1600 patches</strong> criados por aproximadamente <strong>1400 desenvolvedores</strong> do mundo todo.</p>

<p>De acordo com David as principais novidades nesta versão são:</p>

<ul>
    <li><a href="http://www.nomedojogo.com/2008/03/19/como-vai-funcionar-o-novo-suporte-a-timezones-na-proxima-versao-do-rails/">Timezones</a></li>
    <li><a href="http://www.nomedojogo.com/2008/04/11/edge-rails-dirty-objects/">Dirty tracking</a></li>
    <li><a href="http://www.nomedojogo.com/2008/04/14/edge-rails-configgem/">Gem Dependencies</a></li>
    <li><a href="http://www.nomedojogo.com/2008/04/06/edge-rails-named_scope/">Named scope</a></li>
    <li><a href="http://www.nomedojogo.com/2008/04/11/edge-rails-timestamped-migrations/"><span class="caps">UTC</span>-based migrations</a></li>
    <li><a href="http://www.nomedojogo.com/2008/01/05/edge-rails-cache-e-prototype-1601/">Better caching</a></li>
</ul>


<p>Para atualizar ou instalar a nova versão, é o de sempre:</p>

<pre class="textmate-source"><span class="text text_plain"><span class="meta meta_paragraph meta_paragraph_text">gem install rails</span></span></pre>

</div>
  
  


  </article>

<nav role="pagination">
  <div>
    
      <a class="prev" href="/page/38/">&larr; Antigos</a>
    
    <a href="/blog/archives">Arquivo</a>
    
    <a class="next" href="/page/36/">Novos &rarr;</a>
    
  </div>
</nav>

<script type="text/javascript">
    var disqus_shortname = 'carlosbrando';
    (function () {
      var s = document.createElement('script'); s.async = true;
      s.type = 'text/javascript';
      s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
      (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>

</div>
<aside role=sidebar>
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2011/08/25/como-convencer-sua-equipe-a-usar-um-sistema-de-controle-de-vers-o/">Como convencer sua equipe a usar um sistema de controle de versão</a>
      </li>
    
      <li class="post">
        <a href="/2011/08/19/blogando-como-um-hacker/">Blogando como um hacker</a>
      </li>
    
      <li class="post">
        <a href="/2011/06/13/a-regra-direita-esquerda-do-c/">A Regra Direita-Esquerda do C</a>
      </li>
    
      <li class="post">
        <a href="/2011/06/03/colorific/">Colorific</a>
      </li>
    
      <li class="post">
        <a href="/2011/03/29/quem-disse-que-gravar-um-podcast-e-facil/">Quem disse que gravar um podcast é fácil?</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("carlosbrando", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/carlosbrando" class="twitter-follow-button" data-width="208px" data-show-count="false">Follow @carlosbrando</a>
  
</section>




  
</aside>

    </div>
  </div>
  <footer><p>
  Copyright &copy; 2011 - Carlos Brando -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
</body>
</html>
