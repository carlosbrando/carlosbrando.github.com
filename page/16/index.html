
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Nome do Jogo</title>
  <meta name="author" content="Carlos Brando">

  
  <meta name="description" content="O método Rails.root foi alterado para não mais retornar um String com o caminho físico do seu projeto Rails, mas sim um objeto do tipo Pathname. É &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://nomedojogo.com/page/16/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/stylesheets/bootstrap.min.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/stylesheets/custom.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="http://feeds2.feedburner.com/NomeDoJogo" rel="alternate" title="Nome do Jogo" type="application/atom+xml">
  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-1249636-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >

  <header class="main">
    <div class="container">
	<div class="row">
		<div class="span8 title">
			<h2>Carlos Brando</h2>
			<h1><a href="/">Nome do Jogo</a></h1>
		
			<ul class="header-list">
				<li class="title">Acompanhe também</li>
				<li class="grokpodcast"><a href="http://grokpodcast.com/">Grok Podcast</a></li>
			</ul>
		</div>
		<div class="span4 seach_form">
			
			<form action="http://google.com/search" method="get">
				<fieldset role="search">
					<input type="hidden" name="q" value="site:nomedojogo.com" />
					<input class="search" type="text" name="q" results="0" placeholder="Pesquisar"/>
				</fieldset>
			</form>
			
		</div>
	</div>
</div>

  </header>
  
  <!-- <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feeds2.feedburner.com/NomeDoJogo" rel="subscribe-rss" title="assine via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:nomedojogo.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Pesquisar"/>
  </fieldset>
</form>
  
<ul role=main-navigation>
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Arquivo</a></li>
</ul>

</nav> -->
  
  <section class="container">
    <div id="main">
      <div id="content">
        <div class="blog-index">
  
    
    









    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/2008/12/30/edge-rails-railsroot/">Edge Rails: Rails.root</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2008-12-30T00:00:00-02:00" pubdate data-updated="true">30 de Dezembro de 2008</time>
        
        <a rel="bookmark" href="/2008/12/30/edge-rails-railsroot/"></a>
      </p>
    
  </header>



  <div class="entry-content"><p>O método <code>Rails.root</code> foi alterado para não mais retornar um <code>String</code> com o caminho físico do seu projeto Rails, mas sim um objeto do tipo <code>Pathname</code>.</p>

<p>É uma alteração simples, mas que agrega muito ao desenvolvimento. Por exemplo, veja o seguinte trecho de código:</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails"><span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span><span class="source source_ruby source_ruby_embedded source_ruby_embedded_source"><span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">#{</span><span class="support support_class support_class_ruby">Rails</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>root<span class="punctuation punctuation_section punctuation_section_embedded punctuation_section_embedded_ruby">}</span></span>/app/controllers<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span></span></pre>


<p>Ele pode ser facilmente substituído, pela nova implementação do método <code>Rails.root</code>, assim:</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails"><span class="support support_class support_class_ruby">Rails</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>root<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>join<span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">(</span><span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>app<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span><span class="punctuation punctuation_separator punctuation_separator_object punctuation_separator_object_ruby">,</span> <span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>controllers<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span><span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">)</span></span></pre>


<hr /><em>Todos os exemplos dados aqui funcionarão somente no <strong>Ruby on Rails 2.3/3.0 ou superior</strong>. Você pode encontrar mais detalhes sobre esta e outras novidades acompanhando a série <a href="../category/edge-rails/">Edge Rails</a>.</em>

</div>


    </article>
  
    
    









    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/2008/12/29/edge-rails-assert_valid-deprecated/">Edge Rails: assert_valid (deprecated)</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2008-12-29T00:00:00-02:00" pubdate data-updated="true">29 de Dezembro de 2008</time>
        
        <a rel="bookmark" href="/2008/12/29/edge-rails-assert_valid-deprecated/"></a>
      </p>
    
  </header>



  <div class="entry-content"><p>O método <code>assert_valid</code> foi marcado como deprecated. Embora ele ainda continue existindo no Rails 2.3, não estará mais presente no Rails 3.</p>

<p>Este método era útil para garantir que um registro era válido e que não possuía nenhuma mensagem de erro. A sugestão é que usemos o seguinte código em seu lugar:</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails">assert record<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>valid?
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> ou
</span>assert <span class="variable variable_other variable_other_readwrite variable_other_readwrite_instance variable_other_readwrite_instance_ruby"><span class="punctuation punctuation_definition punctuation_definition_variable punctuation_definition_variable_ruby">@</span>model</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>valid?<span class="punctuation punctuation_separator punctuation_separator_object punctuation_separator_object_ruby">,</span> <span class="variable variable_other variable_other_readwrite variable_other_readwrite_instance variable_other_readwrite_instance_ruby"><span class="punctuation punctuation_definition punctuation_definition_variable punctuation_definition_variable_ruby">@</span>model</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>errors</span></pre>


<hr /><em>Todos os exemplos dados aqui funcionarão somente no <strong>Ruby on Rails 2.3/3.0 ou superior</strong>. Você pode encontrar mais detalhes sobre esta e outras novidades acompanhando a série <a href="../category/edge-rails/">Edge Rails</a>.</em>

</div>


    </article>
  
    
    









    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/2008/12/26/o-perigo-de-rir-de-seus-clientes/">O perigo de rir de seus clientes</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2008-12-26T00:00:00-02:00" pubdate data-updated="true">26 de Dezembro de 2008</time>
        
        <a rel="bookmark" href="/2008/12/26/o-perigo-de-rir-de-seus-clientes/"></a>
      </p>
    
  </header>



  <div class="entry-content"><p>Este texto é uma tradução do artigo escrito por <strong>Matt Linderman</strong> para o blog <a href="http://blogcabin.37signals.com/svn/">Signal vs. Noise</a>, originalmente em <a href="http://www.37signals.com/svn/posts/1216-the-danger-of-laughing-at-your-customers">inglês</a>.</p>

<p>Outro dia, fui vender alguns livros na livraria The Strand. Eles têm um balcão separado na parte de trás para a venda de livros. Eu os trouxe em uma sacola e dois funcionários começaram a fazer uma triagem.</p>

<p>Em seguida, outro cara parou atrás de mim. Um dos funcionários disse-lhe, &#8220;Você está aqui para vender livros?&#8221; Ele disse, &#8220;Sim&#8221;. O funcionário respondeu: &#8220;Espere na linha lá fora.&#8221; O cara saiu.</p>

<p>Trinta segundos mais tarde ele estava de volta. O balconista repetiu, &#8220;Espere na linha lá fora.&#8221; O cara disse calmamente, &#8220;Não existe nenhuma linha lá fora&#8221;.</p>

<p>O balconista suspirou, olhou para o outro balconista, e sarcasticamente disse, &#8220;Não existe nenhuma linha.&#8221; O outro balconista de forma grosseira disse, &#8220;Se você não consegue imaginar uma linha, então você não pode vender livros aqui.&#8221; O potencial vendedor saiu calmamente.</p>

<p>Um minuto depois, uma menina caminhou até o balcão com livros. &#8220;Espere na linha lá fora&#8221;, disse o balconista novamente. Ela saiu. Pouco tempo depois, ela estava de volta. &#8220;O que foi?&#8221;. Ela disse, &#8220;Quero vender meus livros.&#8221; Ele disse: &#8220;Atrás da linha.&#8221; Ela saiu novamente. Os atendentes riram. &#8220;Vamos ver se a Mensa sociedade lá fora pode descobrir como funciona uma linha!&#8221; E eles riram um pouco mais. Como se estes dois clientes fossem completos idiotas.</p>

<p>Sorte minha, eu ter chegado momentos antes que estes outros dois. Porque eu não tinha certeza, se realmente havia uma linha em algum lugar lá fora. Ou se &#8220;espere na linha lá fora&#8221; na verdade significava &#8220;formem uma fila em linha lá fora.&#8221;</p>

<p><img class="center" src="http://old.nomedojogo.com/wp-content/uploads/2008/12/2041010805_11c80ce32b.jpg"></p>

<p>Acho que muitas pessoas que trabalham no serviço de atendimento ao cliente fazem coisas semelhantes, rindo de clientes ou tirando sarro deles pelas costas (<a href="http://en.wikipedia.org/wiki/PEBKAC">PEBKAC</a> vem à minha mente).</p>

<p>Esta pode ser uma armadilha perigosa. Claro, um cliente pode até ser estúpido. Mas, se muitos clientes estão cometendo várias vezes o mesmo erro, talvez não seja um erro da parte dele. Talvez seja um erro da sua parte. Se ninguém pode descobrir onde está a maldita linha, talvez seja um sinal de que você não está fazendo um bom trabalho.</p>
</div>


    </article>
  
    
    









    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/2008/12/25/edge-rails-objecttry/">Edge Rails: Object#try</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2008-12-25T00:00:00-02:00" pubdate data-updated="true">25 de Dezembro de 2008</time>
        
        <a rel="bookmark" href="/2008/12/25/edge-rails-objecttry/"></a>
      </p>
    
  </header>



  <div class="entry-content"><p>Eu <a href="http://www.nomedojogo.com/2008/03/02/o-metodo-try/">já falei</a> do método <code>try()</code> antes. Na época era apenas uma dica dada por Chris Wanstrath (que ainda nem era famoso pelo GitHub) para simplificar o bom e velho trecho de código:</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails"><span class="variable variable_other variable_other_readwrite variable_other_readwrite_instance variable_other_readwrite_instance_ruby"><span class="punctuation punctuation_definition punctuation_definition_variable punctuation_definition_variable_ruby">@</span>person</span> <span class="keyword keyword_operator keyword_operator_comparison keyword_operator_comparison_ruby">?</span> <span class="variable variable_other variable_other_readwrite variable_other_readwrite_instance variable_other_readwrite_instance_ruby"><span class="punctuation punctuation_definition punctuation_definition_variable punctuation_definition_variable_ruby">@</span>person</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>name <span class="punctuation punctuation_separator punctuation_separator_other punctuation_separator_other_ruby">:</span> <span class="constant constant_language constant_language_ruby">nil</span></span></pre>


<p>Que com este método ficaria assim:</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails"><span class="variable variable_other variable_other_readwrite variable_other_readwrite_instance variable_other_readwrite_instance_ruby"><span class="punctuation punctuation_definition punctuation_definition_variable punctuation_definition_variable_ruby">@</span>person</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>try<span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">(</span><span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>name</span><span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">)</span>

<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> Um outro exemplo, com parâmetros
</span><span class="support support_class support_class_ruby">Person</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>try<span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">(</span><span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>find</span><span class="punctuation punctuation_separator punctuation_separator_object punctuation_separator_object_ruby">,</span> <span class="constant constant_numeric constant_numeric_ruby">1</span><span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">)</span></span></pre>


<p>Ele funciona como o Object#send, mas ao invés de disparar uma exceção ele retorna <code>nil</code> se o método ou o próprio objeto não existirem.</p>

<p>Chris Wanstrath teve esta idéia já faz um bom tempo, e não me pergunte porque só agora isto entrou oficialmente para o Rails. Como já se passou muito tempo, o método já foi aprimorado aceitando também blocos como parâmetros:</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails"><span class="variable variable_other variable_other_readwrite variable_other_readwrite_instance variable_other_readwrite_instance_ruby"><span class="punctuation punctuation_definition punctuation_definition_variable punctuation_definition_variable_ruby">@</span>people</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>try<span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">(</span><span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>map</span><span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">)</span> <span class="punctuation punctuation_section punctuation_section_scope punctuation_section_scope_ruby">{</span><span class="punctuation punctuation_separator punctuation_separator_variable punctuation_separator_variable_ruby">|</span><span class="variable variable_other variable_other_block variable_other_block_ruby">p</span><span class="punctuation punctuation_separator punctuation_separator_variable punctuation_separator_variable_ruby">|</span> p<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>name<span class="punctuation punctuation_section punctuation_section_scope punctuation_section_scope_ruby">}</span></span></pre>


<p>Isto é útil caso o método que você esteja testando chamar precise receber um bloco.</p>

<hr /><em>Todos os exemplos dados aqui funcionarão somente no <strong>Ruby on Rails 2.3/3.0 ou superior</strong>. Você pode encontrar mais detalhes sobre esta e outras novidades acompanhando a série <a href="../2008/12/26/category/edge-rails/">Edge Rails</a>.</em>

</div>


    </article>
  
    
    









    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/2008/12/24/um-logotipo-para-o-projeto-remarkable/">Um logotipo para o projeto Remarkable!</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2008-12-24T00:00:00-02:00" pubdate data-updated="true">24 de Dezembro de 2008</time>
        
        <a rel="bookmark" href="/2008/12/24/um-logotipo-para-o-projeto-remarkable/"></a>
      </p>
    
  </header>



  <div class="entry-content"><p>Meu amigo <a href="http://www.diretoefacil.com.br">Márcio Gasparotto</a> me deu de presente um logotipo para o projeto <a href="http://github.com/carlosbrando/remarkable/wikis">Remarkable</a>! Veja abaixo:</p>

<p><img class="aligncenter" title="Remarkable" src="http://farm4.static.flickr.com/3124/3126559191_5eed5e4fe4_o.png" alt="" width="691" height="203" /></p>

<p>Agora só falta o site do projeto!</p>
</div>


    </article>
  
    
    









    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/2008/12/24/como-anda-a-traducao-dos-rails-guides/">Como anda a tradução dos Rails Guides?</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2008-12-24T00:00:00-02:00" pubdate data-updated="true">24 de Dezembro de 2008</time>
        
        <a rel="bookmark" href="/2008/12/24/como-anda-a-traducao-dos-rails-guides/"></a>
      </p>
    
  </header>



  <div class="entry-content"><p>Não é segredo para ninguém que membros da comunidade brasileira de Ruby on Rails estão traduzindo os famosos <a href="http://guides.rails.info/">Rails Guides</a> para o nosso idioma. Liderados por <a href="http://cassiomarques.wordpress.com/2008/11/14/convocacao-vamos-traduzir-os-rails-guides-para-portugues/">Cássio Marques</a>, o grupo é formado por Daniel Lopes, Carlos Antonio da Silva, Adolfo Sousa, Cairo Noleto e Warlley Rezende.</p>

<p>Os Rails Guides apareceram recentemente como uma importante ferramenta de aprendizado para os iniciantes e aqueles que querem se aprofundar mais nos conceitos por traz do Rails. São guias completos sobre os mais diversos assuntos, como ActiveRecord, criação de rotas, cache, segurança, criação de plugins, internacionalização e outros.</p>

<p>&nbsp;</p>


<p><img class="center" src="http://old.nomedojogo.com/wp-content/uploads/2008/12/rails_guides.png"></p>

<p>&nbsp;</p>


<p>Nossa comunidade felizmente já está acostumado com este tipo de trabalho, e estamos cada vez nos aperfeiçoando mais. Neste projeto, todos os arquivos que precisam ser traduzidos estão armazenados no <a href="http://github.com/cassiomarques/railsguides-pt_br/tree/master">GitHub</a>.</p>

<p>Para colaborar é muito simples. Existe um projeto aberto no <a href="http://railsguides-pt_br.lighthouseapp.com/dashboard">Lighthouse</a> com tickets abertos para cada trecho que necessita de tradução. Crie uma conta, escolha um dos tickets e solicite acesso ao projeto para iniciar a tradução. Os responsáveis pelo projeto lhe darão permissão de escrita no repositório do GitHub.</p>
</div>


    </article>
  
    
    









    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/2008/12/23/o-dia-em-que-o-merb-se-juntou-ao-rails/">O dia em que o Merb se juntou ao Rails</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2008-12-23T00:00:00-02:00" pubdate data-updated="true">23 de Dezembro de 2008</time>
        
        <a rel="bookmark" href="/2008/12/23/o-dia-em-que-o-merb-se-juntou-ao-rails/"></a>
      </p>
    
  </header>



  <div class="entry-content"><p>Guarde este dia: 23 de dezembro de 2008 – o <strong>Fim da Guerra Rails x Merb</strong>!</p>

<p>Neste dia o Core Team do Rails e do Merb decidiram parar de brigar e resolveram <a href="http://weblog.rubyonrails.org/2008/12/23/merb-gets-merged-into-rails-3">trabalhar</a> <a href="http://yehudakatz.com/2008/12/23/rails-and-merb-merge/">juntos</a> para construir o melhor framework possível. Recebemos de braços abertos toda a comunidade Merb e esperamos que eles também estejam tão empolgados quanto nós!</p>

<p><img class="center" src="http://farm4.static.flickr.com/3291/3130980721_0879620455.jpg?v=0"></p>

<p>Em janeiro de 2009, provavelmente teremos o lançamento do <a href="http://www.nomedojogo.com/category/edge-rails/">Rails 2.3</a>, e depois disso aguardaremos ansiosos o <strong>Rails 3</strong>, que será o resultado desta união!</p>

<p>Chega de gastar energias com brigas sem sentido e duplicação de código.</p>
</div>


    </article>
  
    
    









    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/2008/12/23/edge-rails-backtrace-cleaner/">Edge Rails: Backtrace Cleaner</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2008-12-23T00:00:00-02:00" pubdate data-updated="true">23 de Dezembro de 2008</time>
        
        <a rel="bookmark" href="/2008/12/23/edge-rails-backtrace-cleaner/"></a>
      </p>
    
  </header>



  <div class="entry-content"><p>Já ouviu falar do plugin <a href="http://www.thoughtbot.com/projects/quietbacktrace">Quiet Backtrace</a> criado pela <a href="http://www.thoughtbot.com/">Thoughtbot</a>, a mesma galera por trás do <a href="http://www.thoughtbot.com/projects/paperclip/">Paperclip</a> e <a href="http://www.thoughtbot.com/projects/shoulda">Shoulda</a>? Este plugin é muito interessante porque ele permite que você remova certas linhas do backtrace do Rails, tornando o log muito menor e simplificando a localização de problemas.</p>

<p>O conceito por trás deste plugin foi adicionado ao Rails. Um novo initializer chamado <code>backtrace_silencers.rb</code> foi criado e virá com algumas linhas de exemplo comentadas, assim:</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails"><span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> Be sure to restart your server when you modify this file.
</span>
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> You can add backtrace silencers for libraries that you're using but don't wish to see in your backtraces.
</span><span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> Rails.backtrace_cleaner.add_silencer { |line| line =~ /my_noisy_library/ }
</span>
<span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> You can also remove all the silencers if you're trying do debug a problem that might steem from framework code.
</span><span class="comment comment_line comment_line_number-sign comment_line_number-sign_ruby"><span class="punctuation punctuation_definition punctuation_definition_comment punctuation_definition_comment_ruby">#</span> Rails.backtrace_cleaner.remove_silencers!</span></span></pre>


<p>Neste arquivo você pode incluir silenciadores e filtros para o backtrace. Por exemplo o seguinte silenciador removerá do backtrace qualquer linha que contenha a palavra mongrel:</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails"><span class="support support_class support_class_ruby">Rails</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>backtrace_cleaner<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>add_silencer <span class="punctuation punctuation_section punctuation_section_scope punctuation_section_scope_ruby">{</span><span class="meta meta_syntax meta_syntax_ruby meta_syntax_ruby_start-block"> </span><span class="punctuation punctuation_separator punctuation_separator_variable punctuation_separator_variable_ruby">|</span><span class="variable variable_other variable_other_block variable_other_block_ruby">line</span><span class="punctuation punctuation_separator punctuation_separator_variable punctuation_separator_variable_ruby">|</span> line <span class="keyword keyword_operator keyword_operator_comparison keyword_operator_comparison_ruby">=~</span> <span class="string string_regexp string_regexp_classic string_regexp_classic_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_ruby">/</span>mongrel<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_ruby">/</span></span> <span class="punctuation punctuation_section punctuation_section_scope punctuation_section_scope_ruby">}</span></span></pre>


<p>Os filtros funcionam de uma maneira um pouco diferente, não removendo a linha, mas substituindo trechos do backtrace por alguma outra coisa. No exemplo abaixo estou fazendo com que toda vez que a palavra mongrel aparecer no backtrace ela seja substituída por &#8216;aeiou&#8217;:</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails"><span class="support support_class support_class_ruby">Rails</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>backtrace_cleaner<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>add_filter <span class="punctuation punctuation_section punctuation_section_scope punctuation_section_scope_ruby">{</span><span class="meta meta_syntax meta_syntax_ruby meta_syntax_ruby_start-block"> </span><span class="punctuation punctuation_separator punctuation_separator_variable punctuation_separator_variable_ruby">|</span><span class="variable variable_other variable_other_block variable_other_block_ruby">line</span><span class="punctuation punctuation_separator punctuation_separator_variable punctuation_separator_variable_ruby">|</span> line<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>gsub<span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">(</span><span class="string string_quoted string_quoted_double string_quoted_double_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">"</span>mongrel<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">"</span></span><span class="punctuation punctuation_separator punctuation_separator_object punctuation_separator_object_ruby">,</span> <span class="string string_quoted string_quoted_single string_quoted_single_ruby"><span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_begin punctuation_definition_string_begin_ruby">'</span>aeiou<span class="punctuation punctuation_definition punctuation_definition_string punctuation_definition_string_end punctuation_definition_string_end_ruby">'</span></span><span class="punctuation punctuation_section punctuation_section_function punctuation_section_function_ruby">)</span> <span class="punctuation punctuation_section punctuation_section_scope punctuation_section_scope_ruby">}</span></span></pre>


<p>Para desligar esta funcionalidade temporariamente basta tirar o comentário da linha abaixo:</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails"><span class="support support_class support_class_ruby">Rails</span><span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>backtrace_cleaner<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>remove_silencers!</span></pre>


<p>Usado com sabedoria, este novo recurso pode se tornar uma ferramenta poderosa.</p>

<hr /><em>Todos os exemplos dados aqui funcionarão somente no <strong>Ruby on Rails 2.3/3.0 ou superior</strong>. Você pode encontrar mais detalhes sobre esta e outras novidades acompanhando a série <a href="../category/edge-rails/">Edge Rails</a>.</em>

</div>


    </article>
  
    
    









    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/2008/12/19/remarkable-201-e-atualizacao-do-comovente-guia-de-ruby-do-why/">Remarkable 2.0.1 e Atualização do (Comovente) Guia de Ruby do Why</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2008-12-19T00:00:00-02:00" pubdate data-updated="true">19 de Dezembro de 2008</time>
        
        <a rel="bookmark" href="/2008/12/19/remarkable-201-e-atualizacao-do-comovente-guia-de-ruby-do-why/"></a>
      </p>
    
  </header>



  <div class="entry-content"><p>Desde que lancei a primeira versão do <a href="http://www.nomedojogo.com/2008/11/13/shoulda-para-rspec-e-remarkable/">Remarkable</a> tenho visto cada vez mais pessoas aderindo ao projeto para criar seus testes com maior rapidez. E com uma quantidade maior de pessoas usando nas mais diversas aplicações é claro que os bugs começaram a aparecer.</p>

<p>A maior parte dos problemas ocorriam por uma falha na arquitetura inicial do Remarkable, o que tornou necessário um refactoring no projeto inteiro para estruturá-lo melhor.  Na primeira versão, internamente havia uma separação muito clara entre as duas sintaxes que o projeto oferecia. Com a reestruturação não existe mais esta separação, não importa qual é o seu estilo, <a href="http://github.com/carlosbrando/remarkable/wikis/rspec-macros">RSpec</a> ou <a href="http://github.com/carlosbrando/remarkable/wikis/shoulda-macros">Shoulda</a>, internamente você sempre usará o mesmo código para realizar os testes.</p>

<p>Desta forma, acabamos por ganhar muitas macros novas.</p>

<p>Enquanto na versão em RSpec isto já era algo comum:</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rspec"><span class="meta meta_rspec meta_rspec_behaviour"><span class="keyword keyword_other keyword_other_rspec keyword_other_rspec_behaviour">describe</span> <span class="variable variable_other variable_other_constant variable_other_constant_ruby">Dog</span> <span class="keyword keyword_control keyword_control_ruby keyword_control_ruby_start-block">do</span></span>
<span class="meta meta_rspec meta_rspec_pending">  <span class="keyword keyword_other keyword_other_rspec keyword_other_rspec_pending">it</span> <span class="string string_ruby">{ should belong_to(:user) }</span></span>
<span class="meta meta_rspec meta_rspec_pending">  <span class="keyword keyword_other keyword_other_rspec keyword_other_rspec_pending">it</span> <span class="string string_ruby">{ should_not have_many(:fleas) }</span></span>
<span class="keyword keyword_control keyword_control_ruby">end</span></span></pre>


<p>Na sintaxe do Shoulda apenas possuíamos macros <code>should<em>[alguma coisa]</code> e quase nenhuma <code>should_not</em>[alguma coisa]</code>. Mas agora todas as macros possuem as duas opções, assim:</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rspec"><span class="meta meta_rspec meta_rspec_behaviour"><span class="keyword keyword_other keyword_other_rspec keyword_other_rspec_behaviour">describe</span> <span class="variable variable_other variable_other_constant variable_other_constant_ruby">Dog</span> <span class="keyword keyword_control keyword_control_ruby keyword_control_ruby_start-block">do</span></span>
  should_belong_to <span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>user</span>
  should_not_have_many <span class="constant constant_other constant_other_symbol constant_other_symbol_ruby"><span class="punctuation punctuation_definition punctuation_definition_constant punctuation_definition_constant_ruby">:</span>fleas</span>
<span class="keyword keyword_control keyword_control_ruby">end</span></span></pre>


<p>Além disso mais testes foram adicionados para garantir que problemas antigos não voltem para nos assombrar.</p>

<p>Para atualizar o Remarkable, execute no terminal (lembrando que no Windows não precisa usar o <code>sudo</code>):</p>

<pre class="textmate-source"><span class="text text_plain"><span class="meta meta_paragraph meta_paragraph_text">gem sources -a <span class="markup markup_underline markup_underline_link markup_underline_link_text">http://gems.github.com</span>
sudo gem install carlosbrando-remarkable</span></span></pre>


<p>Ainda falta um logo e um site para o projeto. Alguém se habilita?</p>

<h2>O (Comovente) Guia de Ruby do Why</h2>


<p>Acabei de atualizar o <a href="http://why.nomedojogo.com/">livro</a> com novas traduções e correções. Devido a minha falta de tempo, acabei demorando para aplicar alguns dos patches que me foram enviados.</p>

<p>Na maioria das vezes, os colaboradores são rápidos demais e várias pessoas corrigem o mesmo texto de formas diferentes, e isto complica um pouco na hora de aceitar uma atualização. Eu tenho de olhar arquivo por arquivo antes de decidir qual será aplicado. Mas isto é bom, porque garante uma maior qualidade à tradução, embora torne o processo um pouco mais lento.</p>

<p>O livro pode ser encontrado na url: <a href="http://why.nomedojogo.com">http://why.nomedojogo.com</a>. Também existe uma versão para impressão em <a href="http://why.nomedojogo.com/print.html">http://why.nomedojogo.com/print.html</a>.</p>

<p>A processo de tradução já foi finalizado, todo o livro já está em português. Ainda falta ajustar algumas imagens e formatações de texto, mas acredito que se conseguirmos mais colaboradores teremos o livro completo e finalizado até o fim do ano.</p>

<p>Quer ajudar? Comece lendo o <a href="http://why.nomedojogo.com/">livro</a> e quando encontrar algo errado altere <a href="http://github.com/carlosbrando/poignant-br/tree/master">aqui</a>.</p>
</div>


    </article>
  
    
    









    <article >
      
  <header>
    <h1 class="entry-title">

<a href="/2008/12/19/edge-rails-enumerablenone/">Edge Rails: Enumerable#none?</a>

</h1>

    
      <p class="meta">
        








  


<time datetime="2008-12-19T00:00:00-02:00" pubdate data-updated="true">19 de Dezembro de 2008</time>
        
        <a rel="bookmark" href="/2008/12/19/edge-rails-enumerablenone/"></a>
      </p>
    
  </header>



  <div class="entry-content"><p>Foi adicionado à classe <code>Enumerable</code> um novo método chamado <code>none?</code>. Este método nos auxiliará nos momentos em que se faz necessário verificar se nenhum dos itens de uma coleção correspondem a uma determinada regra.</p>

<p>Por exemplo,  no código abaixo a variável <code>success</code> somente será <code>true</code> se o <code>status</code> de todos os elementos da coleção <code>responses</code> não representarem um redirecionamento:</p>

<pre class="textmate-source"><span class="source source_ruby source_ruby_rails">success <span class="keyword keyword_operator keyword_operator_assignment keyword_operator_assignment_ruby">=</span> responses<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>none? <span class="punctuation punctuation_section punctuation_section_scope punctuation_section_scope_ruby">{</span><span class="punctuation punctuation_separator punctuation_separator_variable punctuation_separator_variable_ruby">|</span><span class="variable variable_other variable_other_block variable_other_block_ruby">r</span><span class="punctuation punctuation_separator punctuation_separator_variable punctuation_separator_variable_ruby">|</span> r<span class="punctuation punctuation_separator punctuation_separator_method punctuation_separator_method_ruby">.</span>status <span class="keyword keyword_operator keyword_operator_arithmetic keyword_operator_arithmetic_ruby">/</span> <span class="constant constant_numeric constant_numeric_ruby">100</span> <span class="keyword keyword_operator keyword_operator_comparison keyword_operator_comparison_ruby">==</span> <span class="constant constant_numeric constant_numeric_ruby">3</span> <span class="punctuation punctuation_section punctuation_section_scope punctuation_section_scope_ruby">}</span></span></pre>


<hr /><em>Todos os exemplos dados aqui funcionarão somente no <strong>Ruby on Rails 2.3/3.0 ou superior</strong>. Você pode encontrar mais detalhes sobre esta e outras novidades acompanhando a série <a href="../category/edge-rails/">Edge Rails</a>.</em>

</div>


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/page/17/">&larr; Antigos</a>
    
    <a href="/blog/archives">Arquivo</a>
    
    <a class="next" href="/page/15/">Novos &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Artigos Recentes</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2012/04/09/how-i-do-my-computing/">How I do my Computing</a>
      </li>
    
      <li class="post">
        <a href="/2012/04/08/burnout/">Burnout</a>
      </li>
    
      <li class="post">
        <a href="/2012/04/06/enviando-o-link-da-pagina-atual-por-e-mail/">Enviando o link da página atual por e-mail</a>
      </li>
    
      <li class="post">
        <a href="/2012/04/05/heroku-add-ons-catalog/">Heroku Add-ons Catalog</a>
      </li>
    
      <li class="post">
        <a href="/2012/04/04/cldwalker-slash-debugger-github/">Finalmente um debug para o Ruby 1.9.3</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Atualizando&#8230;</li>
  </ul>
  
  <a href="https://github.com/carlosbrando">@carlosbrando</a> no GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'carlosbrando',
            count: 4,
            skip_forks: false,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Últimos Tweets</h1>
  <ul id="tweets">
    <li class="loading">Atualizando&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("carlosbrando", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/carlosbrando" class="twitter-follow-button" data-show-count="false">Siga @carlosbrando</a>
  
</section>


<section>
  <h1>Bookmarks</h1>
  <div id="delicious"></div>
  <script type="text/javascript" src="http://feeds.delicious.com/v2/json/cbrando?count=3&amp;sort=date&amp;callback=renderDeliciousLinks"></script>
  <p><a href="http://delicious.com/cbrando">Meus Bookmarks &raquo;</a></p>
</section>


<section class="googleplus googleplus-hidden">
  <h1>
    <a href="https://plus.google.com/109235566448786781079?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>

      </div>
    </div>
  </section>
  
  <!-- <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Carlos Brando -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer> -->
  

<script type="text/javascript">
      var disqus_shortname = 'carlosbrando';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
